<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>【Vue前端框架】Vue2.0全套教程 - TyNote</title><meta name="Description" content="你我一场唤不醒的梦……"><meta property="og:url" content="https://Wangty654.github.io/vue2/">
  <meta property="og:site_name" content="TyNote">
  <meta property="og:title" content="【Vue前端框架】Vue2.0全套教程">
  <meta property="og:description" content="本章节记录vue2的所涉及的一些语法和使用场景，记录的流程顺序为：1.vue基础核心；2.vue-cli 脚手架-专门用于工程开发；3.vue-router；4.vuex；5.element-ui：饿了么团队，做UI组件库">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-21T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-09-14T00:00:00+00:00">
    <meta property="article:tag" content="Vue">
    <meta property="og:image" content="https://Wangty654.github.io/images/avatar.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://Wangty654.github.io/images/avatar.png">
  <meta name="twitter:title" content="【Vue前端框架】Vue2.0全套教程">
  <meta name="twitter:description" content="本章节记录vue2的所涉及的一些语法和使用场景，记录的流程顺序为：1.vue基础核心；2.vue-cli 脚手架-专门用于工程开发；3.vue-router；4.vuex；5.element-ui：饿了么团队，做UI组件库">
<meta name="application-name" content="TyNote">
<meta name="apple-mobile-web-app-title" content="TyNote"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="msapplication-TileColor" href="/favicon-16x16.png" color="#da532c"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://Wangty654.github.io/vue2/" /><link rel="prev" href="https://Wangty654.github.io/text08/" /><link rel="next" href="https://Wangty654.github.io/text23/" /><link rel="stylesheet" href="/css/style.min.cafd7a15685d3295cb0c60c3cf7c0cde0632ba4dd2c8b6c34b35bf00ee9e8a08.css" integrity="sha256-yv16FWhdMpXLDGDDz3wM3gYyuk3SyLbDSzW/AO6eigg="><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "【Vue前端框架】Vue2.0全套教程",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/Wangty654.github.io\/vue2\/"
        },"image": [{
                            "@type": "ImageObject",
                            "url": "https:\/\/Wangty654.github.io\/images\/Apple-Devices-Preview.png",
                            "width":  3200 ,
                            "height":  2048 
                        }],"genre": "posts","keywords": "vue","wordcount":  61815 ,
        "url": "https:\/\/Wangty654.github.io\/vue2\/","datePublished": "2024-08-21T00:00:00+00:00","dateModified": "2024-09-14T00:00:00+00:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "TyNote","logo": {
                    "@type": "ImageObject",
                    "url": "https:\/\/Wangty654.github.io\/images\/avatar.png",
                    "width":  528 ,
                    "height":  528 
                }},"author": {
                "@type": "Person",
                "name": "wangty"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="normal" data-header-mobile="normal"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('light' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'light' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="TyNote"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/images/avatarico.png"
        data-srcset="/images/avatarico.png, /images/avatarico.png 1.5x, /images/avatarico.png 2x"
        data-sizes="auto"
        alt="/images/avatarico.png"
        title="/images/avatarico.png" />TyNote</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/"><i class='fa fa-home' aria-hidden='true'></i> 首页 </a><a class="menu-item" href="/posts/"><i class='fa fa-quote-left' aria-hidden='true'></i> 所有文章 </a><a class="menu-item" href="/tags/"><i class='fa fa-tags' aria-hidden='true'></i> 标签 </a><a class="menu-item" href="/categories/"><i class='fa fa-list' aria-hidden='true'></i> 分类 </a><a class="menu-item" href="/about/"><i class='fa fa-window-restore' aria-hidden='true'></i> 关于 </a><a class="menu-item" href="/friend/" title="Friend"><i class='fa fa-paper-plane' aria-hidden='true'></i> 友链 </a><a class="menu-item" href="https://github.com/dillonzq/LoveIt" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="TyNote"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/images/avatarico.png"
        data-srcset="/images/avatarico.png, /images/avatarico.png 1.5x, /images/avatarico.png 2x"
        data-sizes="auto"
        alt="/images/avatarico.png"
        title="/images/avatarico.png" />TyNote</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/" title=""><i class='fa fa-home' aria-hidden='true'></i>首页</a><a class="menu-item" href="/posts/" title=""><i class='fa fa-quote-left' aria-hidden='true'></i>所有文章</a><a class="menu-item" href="/tags/" title=""><i class='fa fa-tags' aria-hidden='true'></i>标签</a><a class="menu-item" href="/categories/" title=""><i class='fa fa-list' aria-hidden='true'></i>分类</a><a class="menu-item" href="/about/" title=""><i class='fa fa-window-restore' aria-hidden='true'></i>关于</a><a class="menu-item" href="/friend/" title="Friend"><i class='fa fa-paper-plane' aria-hidden='true'></i>友链</a><a class="menu-item" href="https://github.com/dillonzq/LoveIt" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto" >

            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">【Vue前端框架】Vue2.0全套教程</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>wangty</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/%E5%89%8D%E7%AB%AF/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>前端</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2024-08-21">2024-08-21</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;约 61815 字&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;预计阅读 124 分钟&nbsp;<span id="/vue2/" class="leancloud_visitors" data-flag-title="【Vue前端框架】Vue2.0全套教程">
                        <i class="far fa-eye fa-fw" aria-hidden="true"></i>&nbsp;<span class=leancloud-visitors-count></span>&nbsp;次阅读
                    </span>&nbsp;







<span id="busuanzi_container_value_page_pv"><i class="far fa-eye fa-fw"></i>
                
                <span id="busuanzi_value_page_pv"></span>&nbsp;次阅读</span>



</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span></span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#第1章vue核心">第1章：Vue核心</a>
      <ul>
        <li><a href="#1vue简介">1.vue简介：</a>
          <ul>
            <li><a href="#vue的特点">vue的特点：</a>
              <ul>
                <li><a href="#组件化">组件化</a></li>
                <li><a href="#声明式">声明式</a></li>
                <li><a href="#虚拟dom">虚拟dom</a></li>
                <li><a href="#原生js">原生js</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#2-vue官网使用指南">2. vue官网使用指南</a></li>
        <li><a href="#3搭建vue开发环境">3.搭建vue开发环境</a>
          <ul>
            <li><a href="#script直接引入">script直接引入</a></li>
            <li><a href="#控制台提示">控制台提示</a>
              <ul>
                <li><a href="#开发者工具">开发者工具</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#4-hello小案例">4. Hello小案例</a>
          <ul>
            <li><a href="#html的基础写法">html的基础写法</a></li>
            <li><a href="#live-server-插件运行">Live Server 插件运行</a></li>
            <li><a href="#vue的写法演示">vue的写法演示</a></li>
          </ul>
        </li>
        <li><a href="#5-分析hello案例">5. 分析Hello案例</a>
          <ul>
            <li><a href="#一对一关系">一对一关系</a></li>
            <li><a href="#----中为js表达式">{{  }}  中为js表达式</a></li>
            <li><a href="#vue的开发者工具">Vue的开发者工具</a></li>
            <li><a href="#生产包和开发包">生产包和开发包</a></li>
          </ul>
        </li>
        <li><a href="#6-模板语法">6. 模板语法</a>
          <ul>
            <li><a href="#61-插值语法">6.1 插值语法</a></li>
            <li><a href="#62-指令语法内置语法">6.2 指令语法（内置语法）</a>
              <ul>
                <li><a href="#v-bind">v-bind</a>
                  <ul>
                    <li><a href="#class-与-style-绑定">Class 与 Style 绑定</a>
                      <ul>
                        <li><a href="#绑定class样式">绑定class样式</a></li>
                        <li><a href="#绑定style样式">绑定style样式</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#v-model">v-model</a>
                  <ul>
                    <li><a href="#数据绑定">数据绑定</a></li>
                    <li><a href="#只适用于表单元素">只适用于表单元素</a></li>
                    <li><a href="#简写形式">简写形式</a></li>
                  </ul>
                </li>
                <li><a href="#v-on">v-on</a>
                  <ul>
                    <li><a href="#事件处理">事件处理</a></li>
                    <li><a href="#事件修饰符">事件修饰符</a></li>
                    <li><a href="#键盘事件">键盘事件</a></li>
                    <li><a href="#事件总结">事件总结</a></li>
                  </ul>
                </li>
                <li><a href="#v-if">v-if</a>
                  <ul>
                    <li><a href="#条件渲染">条件渲染</a></li>
                    <li><a href="#v-else">v-else</a></li>
                    <li><a href="#v-else-if">v-else-if</a></li>
                  </ul>
                </li>
                <li><a href="#v-show">v-show</a>
                  <ul>
                    <li><a href="#条件渲染-1">条件渲染</a></li>
                  </ul>
                </li>
                <li><a href="#v-for">v-for</a>
                  <ul>
                    <li><a href="#列表渲染">列表渲染</a></li>
                    <li><a href="#key作用与原理">key作用与原理</a>
                      <ul>
                        <li><a href="#人员遍历示例">人员遍历示例</a></li>
                        <li><a href="#key关键字属性和其他自定义属性">key关键字属性和其他自定义属性</a></li>
                        <li><a href="#节点问题情境演示">节点问题情境演示</a></li>
                        <li><a href="#现象解释">现象解释</a></li>
                        <li><a href="#小总结">小总结</a></li>
                        <li><a href="#补充">补充</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#v-text">v-text</a></li>
                <li><a href="#v-html">v-html</a></li>
                <li><a href="#v-cloak指令">v-cloak指令</a></li>
                <li><a href="#v-once指令">v-once指令</a></li>
                <li><a href="#v-pre指令">v-pre指令</a></li>
                <li><a href="#自定义指令">自定义指令</a>
                  <ul>
                    <li><a href="#自定义指令-函数式">自定义指令 函数式</a></li>
                    <li><a href="#自走义指令-对象式">自走义指令 对象式</a></li>
                    <li><a href="#自定义指令-总结">自定义指令 总结</a></li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#7-el与data的两种写法">7. el与data的两种写法</a>
          <ul>
            <li><a href="#vmount">v.$mount(&rsquo;&rsquo;)</a></li>
            <li><a href="#data函数式写法">data函数式写法</a></li>
            <li><a href="#关于this">关于this</a></li>
            <li><a href="#简写形式-1">简写形式</a></li>
          </ul>
        </li>
        <li><a href="#8-理解mvvm">8. 理解MVVM</a></li>
        <li><a href="#9-objectdefineproperty">9. Object.defineProperty</a>
          <ul>
            <li><a href="#enumerable配置项">enumerable配置项</a></li>
            <li><a href="#writable配置项">writable配置项</a></li>
            <li><a href="#configurable配置项">configurable配置项</a></li>
            <li><a href="#getter">getter</a></li>
            <li><a href="#setter">setter</a></li>
          </ul>
        </li>
        <li><a href="#10数据代理">10.数据代理</a>
          <ul>
            <li><a href="#vue中的数据代理">Vue中的数据代理</a></li>
          </ul>
        </li>
        <li><a href="#11computed">11.Computed</a>
          <ul>
            <li><a href="#姓名案例">姓名案例</a></li>
            <li><a href="#计算属性">计算属性</a></li>
            <li><a href="#计算属性-简写">计算属性 简写</a></li>
          </ul>
        </li>
        <li><a href="#12watch">12.watch</a>
          <ul>
            <li><a href="#天气案例">天气案例</a></li>
            <li><a href="#监视属性">监视属性</a></li>
            <li><a href="#深度监视">深度监视</a></li>
            <li><a href="#监视的简写形式">监视的简写形式</a></li>
          </ul>
        </li>
        <li><a href="#13watch对比computed">13.watch对比computed</a></li>
        <li><a href="#14列表过滤">14.列表过滤</a></li>
        <li><a href="#15列表排序">15.列表排序</a></li>
        <li><a href="#16vue监测数据改变的原理">16.Vue监测数据改变的原理</a>
          <ul>
            <li><a href="#响应式解析过程">响应式解析过程</a></li>
            <li><a href="#模拟数据监测">模拟数据监测</a></li>
            <li><a href="#vue里的对象监测原理">Vue里的对象监测原理</a></li>
            <li><a href="#vueset">Vue.set()</a></li>
            <li><a href="#vue里的数组监测原理">Vue里的数组监测原理</a></li>
          </ul>
        </li>
        <li><a href="#17表单数据收集">17.表单数据收集</a></li>
        <li><a href="#18过滤器">18.过滤器</a></li>
        <li><a href="#19生命周期">19.生命周期</a>
          <ul>
            <li><a href="#生命周期_挂载流程">生命周期_挂载流程</a></li>
            <li><a href="#生命周期_更新流程">生命周期_更新流程</a></li>
            <li><a href="#生命周期_销毁流程">生命周期_销毁流程</a></li>
            <li><a href="#生命周期_总结">生命周期_总结</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#第2章vue组件化编程">第2章：Vue组件化编程</a>
      <ul>
        <li><a href="#20组件">20.组件</a>
          <ul>
            <li><a href="#非单文件组件">非单文件组件</a></li>
            <li><a href="#单文件组件">单文件组件</a></li>
            <li><a href="#vue中使用组件的三步">Vue中使用组件的三步</a></li>
            <li><a href="#细节点注意">细节点注意</a></li>
            <li><a href="#组件的嵌套">组件的嵌套</a></li>
            <li><a href="#vuecomponent结构函数">VueComponent结构函数</a></li>
            <li><a href="#vue实例--组件实例">Vue实例 &amp; 组件实例</a></li>
            <li><a href="#内置关系">内置关系</a></li>
            <li><a href="#单文件组件-1">单文件组件</a>
              <ul>
                <li><a href="#1新建一个单文件组件schoolvue">1新建一个单文件组件School.vue</a></li>
                <li><a href="#2新建一个总体管理的顶级父组件appvue">2新建一个总体管理的顶级父组件App.vue</a></li>
                <li><a href="#3新建一个入口文件mainjs">3新建一个入口文件main.js</a></li>
                <li><a href="#4新建一个根容器文件indexhtml">4新建一个根容器文件index.html</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#第3章使用vue脚手架">第3章：使用Vue脚手架</a>
      <ul>
        <li><a href="#21vue脚手架">21.Vue脚手架</a>
          <ul>
            <li><a href="#创建vue脚手架">创建Vue脚手架</a>
              <ul>
                <li><a href="#1说明">1说明</a></li>
                <li><a href="#2具体步骤">2具体步骤</a></li>
              </ul>
            </li>
            <li><a href="#分析脚手架结构">分析脚手架结构</a>
              <ul>
                <li><a href="#gitignore">.gitignore</a></li>
                <li><a href="#babelconfigjs">babel.config.js</a></li>
                <li><a href="#packagejson">package.json</a></li>
                <li><a href="#package-lockjson">package-lock.json</a></li>
                <li><a href="#readmemd">README.md</a></li>
                <li><a href="#src">src</a></li>
                <li><a href="#public">public</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#22render函数">22.render函数</a></li>
        <li><a href="#23修改默认配置">23.修改默认配置</a></li>
        <li><a href="#24ref属性">24.ref属性</a></li>
        <li><a href="#25_props配置">25._props配置</a></li>
        <li><a href="#26mixin混入">26.mixin混入</a></li>
        <li><a href="#27插件">27.插件</a></li>
        <li><a href="#28scoped样式">28.scoped样式</a></li>
        <li><a href="#29浏览器本地存储">29.浏览器本地存储</a>
          <ul>
            <li><a href="#localstoragesetitem">localStorage.setItem</a></li>
            <li><a href="#localstoragegetitem">localStorage.getItem</a></li>
            <li><a href="#localstorageremoveitem">localStorage.removeItem</a></li>
            <li><a href="#localstorageclear">localStorage.clear</a></li>
            <li><a href="#sessionstorage">sessionStorage</a></li>
          </ul>
        </li>
        <li><a href="#30组件自定义事件">30.组件自定义事件</a>
          <ul>
            <li><a href="#绑定子传父">绑定【子传父】</a></li>
            <li><a href="#解绑">解绑</a></li>
          </ul>
        </li>
        <li><a href="#31全局事件总线">31.全局事件总线</a>
          <ul>
            <li><a href="#globaleventbus">GlobalEventBus</a></li>
          </ul>
        </li>
        <li><a href="#32消息订阅与发布">32.消息订阅与发布</a>
          <ul>
            <li><a href="#_pubsub">_pubsub</a></li>
          </ul>
        </li>
        <li><a href="#33nexttick">33.$nextTick</a></li>
        <li><a href="#34动画效果">34.动画效果</a></li>
        <li><a href="#35插槽">35.插槽</a></li>
      </ul>
    </li>
    <li><a href="#第四章vue拓展">第四章：Vue拓展</a>
      <ul>
        <li><a href="#36vue中的ajax请求">36.Vue中的ajax请求</a>
          <ul>
            <li><a href="#跨域配置代理">跨域配置代理</a>
              <ul>
                <li><a href="#1-配置代理-方式一">1. 配置代理 方式一</a></li>
                <li><a href="#2-配置代理-方式二">2. 配置代理 方式二</a></li>
                <li><a href="#3-vue-resource">3. vue-resource</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#37vuex插件">37.Vuex插件</a>
          <ul>
            <li>
              <ul>
                <li><a href="#vuex简介">Vuex简介</a></li>
                <li><a href="#vuex工作原理图">Vuex工作原理图</a></li>
                <li><a href="#搭建vuex环境">搭建Vuex环境</a></li>
                <li><a href="#基本使用">基本使用</a></li>
                <li><a href="#vuex开发者工具的使用">vuex开发者工具的使用</a></li>
                <li><a href="#getters的使用">getters的使用</a></li>
                <li><a href="#四个map方法的使用">四个map方法的使用</a></li>
                <li><a href="#模块化命名空间">模块化&amp;命名空间</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#38路由">38.路由</a>
          <ul>
            <li><a href="#路由的简介">路由的简介</a>
              <ul>
                <li><a href="#路由使用原理">路由<strong>使用原理</strong>：</a></li>
                <li><a href="#spa-应用">SPA 应用：</a></li>
                <li><a href="#路由的理解">路由的理解：</a></li>
              </ul>
            </li>
            <li><a href="#路由基本使用">路由基本使用</a></li>
            <li><a href="#嵌套路由">嵌套路由</a></li>
            <li><a href="#路由传参">路由传参</a>
              <ul>
                <li><a href="#路由的query参数"><strong>路由的query参数</strong></a></li>
                <li><a href="#路由的params参数"><strong>路由的params参数</strong></a></li>
                <li><a href="#路由的props配置">路由的props配置</a></li>
              </ul>
            </li>
            <li><a href="#命名路由">命名路由</a></li>
            <li><a href="#router-link的replace属性"><strong><code>&lt;router-link&gt;</code>的replace属性</strong></a></li>
            <li><a href="#编程式路由导航">编程式路由导航</a></li>
            <li><a href="#缓存路由组件">缓存路由组件</a></li>
            <li><a href="#两个新的生命周期钩子">两个新的生命周期钩子</a></li>
            <li><a href="#路由守卫">路由守卫</a>
              <ul>
                <li><a href="#全局前置-路由守卫">全局前置 路由守卫</a></li>
                <li><a href="#全局后置-路由守卫">全局后置 路由守卫</a></li>
                <li><a href="#独享-路由守卫">独享 路由守卫</a></li>
                <li><a href="#组件内-路由守卫">组件内 路由守卫</a></li>
              </ul>
            </li>
            <li><a href="#路由器的两种工作模式">路由器的两种工作模式</a>
              <ul>
                <li><a href="#hash模式">hash模式</a></li>
                <li><a href="#history模式">history模式</a>
                  <ul>
                    <li><a href="#解决history模式刷新404问题"><strong>解决history模式刷新404问题</strong></a></li>
                    <li><a href="#history模式-vs-hash模式"><strong>history模式 VS hash模式</strong></a></li>
                  </ul>
                </li>
                <li><a href="#项目上线的基本流程">项目上线的基本流程</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#39vue-ui组件库">39.Vue UI组件库</a></li>
      </ul>
    </li>
    <li><a href="#第五章vue3">第五章：vue3</a></li>
  </ul>
</nav></div>
            </div>



        <div class="content" id="content"><h1 id="第1章vue核心">第1章：Vue核心</h1>
<h2 id="1vue简介">1.vue简介：</h2>
<p>vue是一套用于<strong>构建用户界面</strong>的<strong>渐进式</strong>javaScript框架</p>
<img src="./images/image-20240821171902243.png" alt="image-20240821171902243" style="zoom:50%;" />
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p><strong>vue可以自底向上逐层的应用</strong></p>
<p>简单应用：只需要一个轻量小巧的核心库</p>
<p>复杂应用：可以引入各式各样的vue插件</p>
</div>
        </div>
    </div>
<div class="details admonition warning open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-exclamation-triangle fa-fw" aria-hidden="true"></i>This is a warning<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">vue2.0发布于2016年10月1日，vue3.0发布于2020年9月18日</div>
        </div>
    </div>
<h3 id="vue的特点">vue的特点：</h3>
<h4 id="组件化">组件化</h4>
<p>采用<strong>组件化</strong>模式，提高代码复用率、且让代码更好维护</p>
<img src="./images/image-20240821173442505.png" alt="image-20240821173442505" style="zoom:80%;" />
<h4 id="声明式">声明式</h4>
<p><strong>声明式</strong>编码，让编码人员无需直接操作DOM，提高开发效率</p>
<p>说明：</p>
<p>当有一个需求如下，需要将数据persons，放入容器list中：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">//数据persons
</span></span><span class="line"><span class="cl">[
</span></span><span class="line"><span class="cl">	{id:&#39;001&#39;,name:&#39;张三&#39;,age:18},
</span></span><span class="line"><span class="cl">	{id:&#39;002&#39;,name:&#39;李四&#39;,age:19},
</span></span><span class="line"><span class="cl">	{id:&#39;003&#39;,name:&#39;王五&#39;,age:20}
</span></span><span class="line"><span class="cl">]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">//list
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;list&#34;</span> <span class="p">&gt;&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>效果为：</p>
<img src="./images/image-20240821174340433.png" alt="image-20240821174340433" style="zoom:50%;" />
<p><strong>命令式编码</strong>实现方式：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">原生javaScript写法</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//准备html字符串
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">let</span> <span class="nx">htmlStr</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1">//遍历数据拼接html字符串
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">persons</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span> <span class="nx">p</span> <span class="p">=&gt;{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">htmlStr</span> <span class="o">+=</span> <span class="sb">`&lt;li&gt;</span><span class="si">${</span><span class="nx">p</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb"> - </span><span class="si">${</span><span class="nx">p</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb"> - </span><span class="si">${</span><span class="nx">p</span><span class="p">.</span><span class="nx">age</span><span class="si">}</span><span class="sb">&lt;/li&gt;`</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="c1">//获取list元素
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">let</span> <span class="nx">list</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">//修改内容(亲自操作Dom)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">list</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">htmlStr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>声明式</strong>编码实现方式：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;list&#34;</span> <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">li</span> <span class="nt">v-for</span><span class="o">=</span><span class="s">&#34;p in persons &#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    	<span class="p">{{</span><span class="na">p.id</span><span class="p">}}</span> <span class="err">-</span> <span class="p">{{</span><span class="na">p.name</span><span class="p">}}</span> <span class="err">-</span> <span class="p">{{</span><span class="na">p.age</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="虚拟dom">虚拟dom</h4>
<p>3.使用<strong>虚拟DOM</strong>+优秀的<strong>Diff算法</strong>，尽量复用DOM节点</p>
<img src="./images/1724240646058.png" alt="1724240646058" style="zoom:50%;" />
<img src="./images/image-20240821194819825.png" alt="image-20240821194819825" style="zoom:50%;" />
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p><strong>diff算法：</strong></p>
<p>新生成的虚拟dom会和之前生成的虚拟dom比较，这个比较算法称为diff算法。</p>
<p>当新的虚拟dom中，存在与旧dom中相同的属性和内容值时，</p>
<p>vue就直接将旧的真实dom直接拿到页面渲染出来，再处理不同的部分</p>
</div>
        </div>
    </div>
<p>​</p>
<h4 id="原生js">原生js</h4>
<p>4.学习vue之前需要掌握的javaScript基础知识</p>
<p><strong>ES6语法规范</strong>：结构赋值、模板字符串、箭头函数等。<a href="http://172.20.23.216/website/docs/docs/learn/es6/es6%e5%9f%ba%e7%a1%80.html" target="_blank" rel="noopener noreffer ">ES6基础-久远银海内部链接</a></p>
<p>ES6模块化：默认暴露、分别暴露、统一暴露、import、isport等</p>
<p>包管理器：npm、yram、cnpm</p>
<p>原型、原型链：</p>
<p>数组常用方法：过滤一个数组、加工一个数组、筛选最值</p>
<p>axios：</p>
<p>promise：异步请求</p>
<p>​</p>
<h2 id="2-vue官网使用指南">2. vue官网使用指南</h2>
<p>地址：<a href="https://v2.cn.vuejs.org/" target="_blank" rel="noopener noreffer ">vue官网操作手册</a></p>
<p>​</p>
<h2 id="3搭建vue开发环境">3.搭建vue开发环境</h2>
<p>在没有脚手架的情况下，最原始的使用vue框架，就是在<code>.html</code> 文件中，引入<code>vue.js</code>包</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>或者</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- 生产环境版本，优化了尺寸和速度 --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/vue@2&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>在vue2的官方文档中，解释了两种引入vue的方式</p>
<img src="./images/image-20240822164704224.png" alt="image-20240822164704224" style="zoom:50%;" />
<h3 id="script直接引入">script直接引入</h3>
<p><strong>首先先看第一种安装vue的方式：</strong></p>
<p><strong>CDN：</strong><a href="https://www.alibabacloud.com/help/zh/cdn/" target="_blank" rel="noopener noreffer ">阿里云CND操作文档</a></p>
<p>我们在写script的时候，里面有一个属性，叫src，可以指定资源的位置</p>
<p>如果把src写成：&quot;./xxx&quot;的形式，为引入一个本地文件。如果写成&quot;https&quot;的形式，一般为了加速，会在其中加入一个CDN的标识</p>
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p><strong>CDN</strong></p>
<p>内容分发网络（Content Delivery Network，CDN）是建立并覆盖在承载网上，由不同区域的服务器组成的分布式网络。将源站资源缓存到全国各地的边缘服务器，供用户就近获取，降低源站压力。</p>
</div>
        </div>
    </div>
<img src="./images/image-20240822165726133.png" alt="image-20240822165726133" style="zoom:50%;" />
<p>官网两个vue版本，点击后均会进行下载，但下载的文件有些不同</p>
<p>为方便演示，将两个版本均下载在桌面，并新建一个文件夹取名为vue_basic，并用vscode打开</p>
<img src="./images/image-20240822170224701.png" alt="image-20240822170224701" style="zoom:50%;" />
<p>将引入写入html</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>初识Vue<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- 引入vue --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;../js/vue.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="控制台提示">控制台提示</h3>
<p>直接引入产生的控制台提示</p>
<p>打开写好的html页面，在控制台会出现两个<code>小提示</code></p>
<img src="./images/image-20240822210145147.png" alt="image-20240822210145147" style="zoom:80%;" />
<p><code>提示</code>解析：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">Download</span> <span class="n">the</span> <span class="n">Vue</span> <span class="n">Devtools</span> <span class="n">extension</span> <span class="k">for</span> <span class="n">a</span> <span class="n">better</span> <span class="n">development</span> <span class="n">experinence</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">//</span><span class="err">表示：请你下载</span><span class="n">vue的开发者工具</span><span class="err">，到达一个更好的开发体验</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">You are running Vue in development mode.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">//表示：你正在运行一个开发者模版的vue.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Make sure to turn on production mode when deploying for production.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">//请确认你的项目不在生产时使用 [此句话意思表明，你引入的是vue.js其中带有很多提示和警告，包比较大，不适合上线项目使用]
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="开发者工具">开发者工具</h4>
<p>解决 下载vue开发者工具 的问题</p>
<ul>
<li><strong>国外网络可以正常访问谷歌商城：</strong></li>
</ul>
<p>正常能打开gitHub，点击官网的下载链接过去，选择谷歌浏览器选项</p>
<img src="./images/image-20240822213323491.png" alt="image-20240822213323491" style="zoom:50%;" />
<p>进入谷歌网上应用商店，点击添加，完成</p>
<img src="./images/image-20240822213825684.png" alt="image-20240822213825684" style="zoom:50%;" />
<p>国内无法正常访问谷歌商城：</p>
<p>Vue开发者工具扩展链接：</p>
<p>【下载开发者工具】： <a href="https://pan.baidu.com/s/1MtYvMPew4lb14piIrs9x6w" target="_blank" rel="noopener noreffer ">https://pan.baidu.com/s/1MtYvMPew4lb14piIrs9x6w</a>  提取码：6666 【安装开发者工具】：</p>
<p>一、Chrome浏览器安装方式：</p>
<p>①：点击右上角三个点</p>
<p>②：点击更多工具</p>
<p>③：点击扩展程序</p>
<p>④：点击右上角的开发者模式，将他启用</p>
<p>⑤：将下载的Vue.crx文件直接拖动到浏览器窗口即可</p>
<p>⑥：点到扩展的详细信息界面，再开启【允许访问文件URL】选项再试试看</p>
<img src="./images/image-20240822214201104.png" alt="image-20240822214201104" style="zoom:50%;" />
<img src="./images/image-20240822214217588.png" alt="image-20240822214217588" style="zoom:50%;" />
<img src="./images/image-20240822215244338.png" alt="image-20240822215244338" style="zoom:50%;" />
<img src="./images/image-20240822215332447.png" alt="image-20240822215332447" style="zoom:50%;" />
<img src="./images/image-20240822215406923.png" alt="image-20240822215406923" style="zoom:50%;" />
<p>二：Edge浏览器安装方式</p>
<p>①：点击浏览器右上角的三个点</p>
<p>②：点击扩展</p>
<p>③：点击左下角的开发人员模式，将他启用</p>
<p>④：将Vue.crx文件拖动到浏览器即可</p>
<ul>
<li><strong>解决 vue.js不建议在上线项目中使用的提示</strong></li>
</ul>
<p><code>Vue.config</code> 是一个对象，包含 Vue 的全局配置。可以在启动应用之前修改下列 property(属性)</p>
<p>首先验证，<code>Vue.config</code> 是否存在：</p>
<img src="./images/image-20240823095117346.png" alt="image-20240823095117346" style="zoom:50%;" />
<p>这里的属性，是对vue的全局配置。一次修改，到处都可以使用。</p>
<p>此处的：<strong>productionTip</strong>: true 小提示默认为true，是默认开启状态</p>
<img src="./images/image-20240823095242235.png" alt="image-20240823095242235" style="zoom:50%;" />
<img src="./images/image-20240823095809771.png" alt="image-20240823095809771" style="zoom:50%;" />
<p>代码的body中键入下方代码，可以对提示进行关闭：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--关闭生产提示--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span><span class="nx">Vue</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">productionTip</span> <span class="o">=</span> <span class="kc">false</span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>【注意：上方代码如果失效，则进入vue.js文件，直接对productionTip属性进行修改为false】</p>
<img src="./images/image-20240823103932262.png" alt="image-20240823103932262" style="zoom:50%;" />
<p>开端开发编辑工具vscode下载地址：<a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreffer ">开端开发编辑工具vscode下载地址</a></p>
<p>​</p>
<h2 id="4-hello小案例">4. Hello小案例</h2>
<h3 id="html的基础写法">html的基础写法</h3>
<p>hello代码示例 【注意：此段代码是html的基础写法，并没有用到vue】</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- 准备一个容器 --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="live-server-插件运行">Live Server 插件运行</h3>
<p>右键打开页面，控制台错误如下：</p>
<img src="./images/image-20240823101800800.png" alt="image-20240823101800800" style="zoom:50%;" />
<p>favicon.ico - 指网站的页签图标</p>
<img src="./images/image-20240823102039971.png" alt="image-20240823102039971" style="zoom:50%;" />
<p>打开控制台的Network选项卡，强制刷新一下[ 按住shift 点击刷新]，可以看见请求了本地5500服务器访问该图标</p>
<img src="./images/image-20240823102612196.png" alt="image-20240823102612196" style="zoom:50%;" />
<p>关于本地5500服务器的解释说明：</p>
<p>在vscode中，右键，使用Live Server 插件打开的页面：Live Server会自动先帮你打开当前选择的这个页面，并在你的电脑的5500的端口上开了一台小型的内置服务器，并且进行了“把你所有工程的文件和文件夹，作为这个服务器的根资源去使用”的一个操作。</p>
<img src="./images/image-20240823103443152.png" alt="image-20240823103443152" style="zoom:50%;" />
<img src="./images/image-20240823103421834.png" alt="image-20240823103421834" style="zoom:50%;" />
<p>验证内置5500端口服务器，可以地址栏直接访问127.0.0.1:5500。显示的一定是当前工程下的所有文件夹。</p>
<img src="./images/image-20240823104851447.png" alt="image-20240823104851447" style="zoom:50%;" />
<p>解决图标访问404的问题，只需要在根目录中放置一个叫favicon.ico的图片文件，页面刷新即可</p>
<img src="./images/image-20240823105412310.png" alt="image-20240823105412310" style="zoom:50%;" />
<img src="./images/image-20240823105536368.png" alt="image-20240823105536368" style="zoom:50%;" />
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p><strong>live server</strong> 插件是一个具有实时加载功能的<strong>小型服务器</strong>，它的作用：</p>
<ol>
<li>模拟服务器的方式打开页面</li>
<li>代码改动后,会自动刷新页面</li>
</ol></div>
        </div>
    </div>
<p>vsCode中装<code>Live Server</code>插件。</p>
<img src="./images/image-20240823103135500.png" alt="image-20240823103135500" style="zoom:50%;" />
<h3 id="vue的写法演示">vue的写法演示</h3>
<p><strong>使用vue进行hello的显示</strong></p>
<p>理解：引入的vue相当于外部引入的一个函数。要使用vue函数，需要new Vue</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">准备一个容器</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Hello</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//创建Vue实例
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">        * 注意Vue()中只传一个参数，这个参数是一个配置对象{}
</span></span></span><span class="line"><span class="cl"><span class="cm">        * 配置对象中，都以 key : value 的形式书写
</span></span></span><span class="line"><span class="cl"><span class="cm">        * 配置对象中，key的名称不得更改，value的值必须符合key的数据类型
</span></span></span><span class="line"><span class="cl"><span class="cm">        */</span>
</span></span><span class="line"><span class="cl">        <span class="kr">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//vue的第一个key是el，el是element元素的简写。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">//键值对象类似于css中的id选择器
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">//el用于指定当前Vue实例为哪个容器，值通常为css选择器字符串。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="c1">//还有一种写法，一般不用，但是可以这样写
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">//指 人为找到这个元素，再给他配置到el里去
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">el</span><span class="o">:</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">如果用class不用id</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Hello</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">           <span class="c1">//el就写成css中类选择器的写法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;.root&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>利用插值语法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">如果用class不用id</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Hello</span><span class="p">,{{</span><span class="nx">name</span><span class="p">}}&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//data中用于存储数据，数据供el所指定的容器去使用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意：data中的数据需要在指定的容器中使用，没在容器中使用data内数据并不会生效</p>
<img src="./images/image-20240826151835423.png" alt="image-20240826151835423" style="zoom:50%;" />
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>三个注意事项：</p>
<ol>
<li>
<p>想让Vue工作，就必须创建一个Vue实例，且要传入一个配置对象；目前这里为：el、data</p>
</li>
<li>
<p>root容器里的代码依然符合html规范，只不过混入一些特殊的Vue语法；</p>
</li>
<li>
<p>root容器里的代码被称为【Vue模版】</p>
</li>
</ol>
</div>
        </div>
    </div>
<p><strong>对于vue模版的解释：</strong></p>
<p>我们写的为一个Vue模板，经过解析，形成一个全新的正常的html片段块，然后替换掉模板的位置，显示在页面上</p>
<img src="./images/image-20240826153743769.png" alt="image-20240826153743769" style="zoom:50%;" />
<p><strong>容器的作用：</strong></p>
<p>1、为Vue提供模板</p>
<p>2、把Vue解析后的html片段，指定位置放置</p>
<p>​</p>
<h2 id="5-分析hello案例">5. 分析Hello案例</h2>
<h3 id="一对一关系">一对一关系</h3>
<p>演示说明：容器和实例是一对一，一一对应关系</p>
<p><strong>有两个同名的容器的情况</strong>：</p>
<p>首先，能运行成功，且控制台不报错</p>
<img src="./images/image-20240826155300427.png" alt="image-20240826155300427" style="zoom:50%;" />
<p>说明，一个Vue实例不能同时接管两个容器</p>
<p><strong>有两个Vue实例指向同一个容器的情况：</strong></p>
<p>首先，第一个Vue内容显示正常，第二个内容不显示，且控制台报错</p>
<img src="./images/image-20240826160522698.png" alt="image-20240826160522698" style="zoom:50%;" />
<p>说明，一个容器只能被一个Vue实例接管和解析</p>
<h3 id="----中为js表达式">{{  }}  中为js表达式</h3>
<div class="details admonition success open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-check-circle fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">注意：{{  }}  中可以写的内容，不一定是Vue实例中声明过的。只要是js里的表达式，Vue都是可以解析的</div>
        </div>
    </div>
<img src="./images/image-20240826164636168.png" alt="image-20240826164636168" style="zoom:50%;" />
<p>注意区分:js表达式 和js代码(语句)</p>
<p>​	1.表达式: 一个表达式会生成一个值，可以放在任何一个需要值的地方:</p>
<p>​		(1).a</p>
<p>​		(2).a+b</p>
<p>​		(3).demo(1)</p>
<p>​		(4).x === y ? &lsquo;a’ : &lsquo;b&rsquo;
​	2.js代码(语句)
​		(1).if( ){ }</p>
<p>​		(2).for( ){ }</p>
<h3 id="vue的开发者工具">Vue的开发者工具</h3>
<p>打开控制台右侧Vue选项卡</p>
<img src="./images/image-20240826165706794.png" alt="image-20240826165706794" style="zoom:50%;" />
<p>Root这里代表唯一的那一个Vue实例，点击这里的Root，能看的data里的所有数据</p>
<img src="./images/image-20240826165950601.png" alt="image-20240826165950601" style="zoom:50%;" />
<p>点击配置对象旁边的编辑按钮，可以对其值进行修改</p>
<img src="./images/image-20240826170356145.png" alt="image-20240826170356145" style="zoom:50%;" />
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">前端小写内容全部转换为大写的方法使用</span> <span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;{{</span><span class="nx">name</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()}}</span> <span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//name:&#39;wangty&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1">// WANGTY
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="生产包和开发包">生产包和开发包</h3>
<p>关于 vue.js 和vue.min.js 在new Vue实例对象时候的区别</p>
<p>当不写new的时候，vue.js：</p>
<img src="./images/image-20240826172751055.png" alt="image-20240826172751055" style="zoom:50%;" />
<img src="./images/image-20240826173158105.png" alt="image-20240826173158105" style="zoom:50%;" />
<p>当不写new的时候，vue.min.js并不报这个warning</p>
<img src="./images/image-20240826173818103.png" alt="image-20240826173818103" style="zoom:50%;" />
<h2 id="6-模板语法">6. 模板语法</h2>
<h3 id="61-插值语法">6.1 插值语法</h3>
<p>把指定的值，放到指定的位置，使用方法，见上述hello案例</p>
<p>【注意：插值语法多用于指定标签体内容。即，两标签之间的内容。不可以用于标签属性和属性值】</p>
<h3 id="62-指令语法内置语法">6.2 指令语法（内置语法）</h3>
<p>【注：指令语法小结示例里包含了很多后面的东西，建议先跳过看完后面再看这一节比较好理解】</p>
<p>普通html，点击跳转地址写法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://www.baidu.com&#34;</span><span class="p">&gt;</span>点我去百度<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="v-bind">v-bind</h4>
<p>vue写法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"> <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">指令语法</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">a</span> <span class="nt">:href</span><span class="o">=</span><span class="s">&#34;url&#34;</span><span class="p">&gt;</span><span class="nx">点我去百度</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">等价于</span><span class="p">&lt;</span><span class="nt">a</span> <span class="na">v</span><span class="nt">-bind:href</span><span class="o">=</span><span class="s">&#34;url&#34;</span><span class="p">&gt;</span><span class="nx">点我去百度</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span> <span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">url</span><span class="o">:</span><span class="s1">&#39;https://www.baidu.com&#39;</span>
</span></span><span class="line"><span class="cl">          		<span class="c1">//注意，这里如果写两个一模一样的属性名，控制台不会报错
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="c1">//Vue会默认读取第二个属性名的内容，这里就会默认跳转淘宝
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="c1">//url:&#39;https://www.taobao.com&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意：这里的 &ldquo;:href&quot;中的冒号，是v-bind的简写。我们把类似于v-bind这样的语法称为，<strong>指令语法</strong>。</p>
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>在html标签中，如果标签中的属性没有使用指定语法，则就是普通的属性和属性值</p>
<p>如果使用了指定语法，Vue就会把属性值引号内的东西，取出来当做表达式进行执行</p>
</div>
        </div>
    </div>
<h5 id="class-与-style-绑定">Class 与 Style 绑定</h5>
<p>操作元素的 class 列表和内联样式是数据绑定的一个常见需求。因为它们都是 attribute，所以我们可以用 <code>v-bind</code> 处理它们：只需要通过表达式计算出字符串结果即可。不过，字符串拼接麻烦且易错。因此，在将 <code>v-bind</code> 用于 <code>class</code> 和 <code>style</code> 时，Vue.js 做了专门的增强。表达式结果的类型除了字符串之外，还可以是对象或数组。</p>
<p>绑定样式:
1.class样式</p>
<p>​		写法:class=&ldquo;xxx”xxx可以是字符串、对象、数组。</p>
<p>​			字符串写法适用于: 类名不确定，要动态获取。</p>
<p>​			对象写法适用于: 要绑定多个样式，个数不确定，名字也不确定。</p>
<p>​			数组写法适用于:要绑定多个样式，个数确定，名字也确定，但不确定用不用。</p>
<p>​	2.style样式
​		:style=&quot;{fontSize:xxx}&ldquo;其中xxx是动态值。
​		:style=&quot;[a,b]&ldquo;其中a、b是洋式对象</p>
<h6 id="绑定class样式">绑定class样式</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">正常的样式正常写</span><span class="err">，</span><span class="nx">绑定的样式传值</span><span class="err">，</span><span class="nx">字符串写法</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;basic&#34;</span>  <span class="nt">:class</span><span class="o">=</span><span class="s">&#34;normal&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">....</span>
</span></span><span class="line"><span class="cl"><span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">	<span class="nx">normal</span><span class="o">:</span><span class="s1">&#39;red&#39;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">....</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">html解析后显示为</span>  <span class="kr">class</span><span class="o">=</span><span class="s2">&#34;basic red&#34;</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="o">--------------------------</span><span class="nx">或者</span><span class="o">--------------------------------&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">正常的样式正常写</span><span class="err">，</span><span class="nx">绑定的样式传值</span><span class="err">，</span><span class="nx">数值写法</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;basic&#34;</span>  <span class="nt">:class</span><span class="o">=</span><span class="s">&#34;arr&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">....</span>
</span></span><span class="line"><span class="cl"><span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">	<span class="nx">arr</span><span class="o">:</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="err">，</span><span class="s1">&#39;yellow&#39;</span><span class="err">，</span><span class="s1">&#39;buld&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">....</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">html解析后显示为</span>  <span class="kr">class</span><span class="o">=</span><span class="s2">&#34;basic red yellow buld&#34;</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">按钮事件动态操作arr数组可以实现样式的改变</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="o">--------------------------</span><span class="nx">或者</span><span class="o">--------------------------------&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">正常的样式正常写</span><span class="err">，</span><span class="nx">绑定的样式传值</span><span class="err">，</span><span class="nx">对象写法</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;basic&#34;</span>  <span class="nt">:class</span><span class="o">=</span><span class="s">&#34;Obj&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">....</span>
</span></span><span class="line"><span class="cl"><span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Obj</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">red</span><span class="o">:</span><span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">yellow</span><span class="o">:</span><span class="kc">false</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">....</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">按钮事件动态操作Obj对象可以实现样式的改变</span><span class="o">--&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h6 id="绑定style样式">绑定style样式</h6>
<p><code>v-bind:style</code> 的对象语法十分直观——看着非常像 CSS，但其实是一个 JavaScript 对象。CSS property 名可以用驼峰式 (camelCase) 或短横线分隔 (kebab-case，记得用引号括起来) 来命名：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-bind:style</span><span class="o">=</span><span class="s">&#34;{ color: activeColor, fontSize: fontSize + &#39;px&#39; }&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">activeColor</span><span class="o">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">fontSize</span><span class="o">:</span> <span class="mi">30</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>直接绑定到一个样式对象通常更好，这会让模板更清晰：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-bind:style</span><span class="o">=</span><span class="s">&#34;styleObject&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">styleObject</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fontSize</span><span class="o">:</span> <span class="s1">&#39;13px&#39;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>同class一样，也可以写成数组，<code>v-bind:style</code> 的数组语法可以将多个样式对象应用到同一个元素上：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-bind:style</span><span class="o">=</span><span class="s">&#34;[baseStyles, overridingStyles]&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="v-model">v-model</h4>
<h5 id="数据绑定">数据绑定</h5>
<img src="./images/image-20240826205303965.png" alt="image-20240826205303965" style="zoom:50%;" />
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">单项数据绑定</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">v</span><span class="nt">-bind:value</span><span class="o">=</span><span class="s">&#34;name&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">双向数据绑定</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">v</span><span class="nt">-model:value</span><span class="o">=</span><span class="s">&#34;name2&#34;</span> <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span> <span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name2</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>页面效果：</p>
<p>Vue中有2种数据绑定的方式:
1.单向绑定(v-bind):数据只能从data流向页面,
2.双向绑定(v-model):数据不仅能从data流向页面，还可以从页面流向data。</p>
<img src="./images/image-20240827084907425.png" alt="image-20240827084907425" style="zoom:50%;" />
<h5 id="只适用于表单元素">只适用于表单元素</h5>
<p><strong>注意：不是任意的所有的地方都能使用v-model来进行双向绑定</strong></p>
<p>例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h3</span> <span class="na">v</span><span class="nt">-bind:x</span><span class="o">=</span><span class="s">&#34;name&#34;</span><span class="p">&gt;</span><span class="nx">wangty</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h3</span> <span class="na">v</span><span class="nt">-model:x</span><span class="o">=</span><span class="s">&#34;name&#34;</span><span class="p">&gt;</span><span class="nx">wangty</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span> <span class="c">&lt;!--</span> <span class="nx">该行代码是有问题的</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span> <span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>上面的几行代码，首先在页面查看效果如下：</p>
<img src="./images/image-20240827085805730.png" alt="image-20240827085805730" style="zoom:50%;" />
<p>说明：<strong>v-model</strong>只能应用在<strong>表单</strong>元素上（输入类元素，有value值的元素）。</p>
<h5 id="简写形式">简写形式</h5>
<p>和v-bind一样，v-model有他的简写形式</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">v</span><span class="o">-</span><span class="nx">bind简写</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">v</span><span class="nt">-bind:value</span><span class="o">=</span><span class="s">&#34;name&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">等价于</span> <span class="o">=====&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="nt">:value</span><span class="o">=</span><span class="s">&#34;name&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">----------------------------------------------------------------------</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">v</span><span class="o">-</span><span class="nx">model简写</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">v</span><span class="nt">-model:value</span><span class="o">=</span><span class="s">&#34;name2&#34;</span> <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">等价于</span> <span class="o">=====&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="nt">v-model</span><span class="o">=</span><span class="s">&#34;name2&#34;</span><span class="p"> &gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="v-on">v-on</h4>
<h5 id="事件处理">事件处理</h5>
<p>事件的基本使用:
1.使用v-on:xxx或@xxx定事件，其中xxx是事件名;</p>
<p>​	2.事件的回调需要配置在methods对象中，最终会在vm上;
​	3.methods中配置的的数，不要用箭头函数。否则this就不是vm了;
​	4.methods中配置的的数，都是被Vue所管理的函数，this的指向是vm或组件实例对象</p>
<p>​	5.@click=&ldquo;demo&quot;和 @click=&ldquo;demo($event)”效果一致，但后者可以传参;</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Hello</span><span class="p">,{{</span><span class="nx">name</span><span class="p">}}</span> <span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    	<span class="c">&lt;!--</span> <span class="nx">简写形式</span>  <span class="nx">v</span><span class="o">-</span><span class="nx">on</span><span class="o">:</span><span class="nx">click</span> <span class="o">=====&gt;</span> <span class="nx">等价于</span> <span class="err">@</span><span class="nx">click</span>  <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">v</span><span class="nt">-on:click</span><span class="o">=</span><span class="s">&#34;showInfo&#34;</span><span class="p">&gt;</span><span class="nx">点击实现提示信息</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    	<span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;showInfo&#34;</span><span class="p">&gt;</span><span class="na">点击实现提示信息</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//创建Vue实例
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>       <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">           <span class="c1">//注意showInfo需要放在methods里。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>           <span class="c1">//这儿有个问题：可不可以放进data里呢？ 是可以的。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>           <span class="c1">//能够正常运行，且控制台不报错。但是会被Vue执行数据代理，加重Vue的负荷。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>           <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//注意这里的showInfo方法也会存储在vm身上，打印vm时可以看见
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">showInfo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//alert(&#34;提示&#34;);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">}</span> 
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="./images/image-20240827202328009.png" alt="image-20240827202328009" style="zoom:50%;" />
<p>方法写在data里的情况，会使得vm对此方法进行数据代理。详解请看【数据代理】小结。</p>
<img src="./images/image-20240827204930238.png" alt="image-20240827204930238" style="zoom:80%;" />
<p>所以我们一般写点击事件只传一个参数，格式写为</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">showInfo</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
</span></span><span class="line"><span class="cl"> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"> <span class="c1">//获取点击时间的触发目标，一般指按钮对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> <span class="c1">//使用event.target   
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">innerText</span><span class="p">);</span>  <span class="c1">//按钮名称
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> <span class="c1">//这里的this也是Vue实例
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> <span class="c1">//这里showInfo如果写成箭头函数，则this指向会往外找到全局window
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>   
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意，点击事件处理本来也是可以传入参的，及点击事件方法名后面带了()，但是此种写法搞丢了event点击事件的对象入参：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;showInfo(入参id)&#34;</span><span class="p">&gt;</span><span class="na">点击实现提示信息</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="na">showInfo</span><span class="err">(</span><span class="na">id</span><span class="err">)</span><span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="na">console.log</span><span class="err">(</span><span class="na">id</span><span class="err">);</span> <span class="err">//</span><span class="na">结果为</span><span class="err">：</span><span class="na">入参id</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>若要使有()时，也能使用event点击事件对象，Vue中使用了$event来进行占位</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;showInfo(id,$event)&#34;</span><span class="p">&gt;</span><span class="na">点击实现提示信息</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="na">showInfo</span><span class="err">(</span><span class="na">id</span><span class="err">,</span><span class="na">event</span><span class="err">)</span><span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="na">console.log</span><span class="err">(</span><span class="na">id</span><span class="err">);</span> <span class="err">//</span><span class="na">结果为</span><span class="err">：</span><span class="na">入参id</span>
</span></span><span class="line"><span class="cl"> <span class="na">console.log</span><span class="err">(</span><span class="na">event</span><span class="err">);</span> <span class="err">//</span><span class="na">结果为</span><span class="err">：</span><span class="na">点击事件对象</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="事件修饰符">事件修饰符</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">点击后</span><span class="err">，</span><span class="nx">a标签会默认跳转百度页面</span><span class="err">。</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">如果有需求</span><span class="err">，</span><span class="nx">想要阻止默认跳转的操作</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;http://baidu.com&#34;</span> <span class="nt">@click</span><span class="s">=&#34;showInfo&#34;</span><span class="p">&gt;</span><span class="na">点击</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="err">&lt;!--</span> <span class="na">Vue提供了事假修饰符.prevent</span> <span class="err">--</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;http://baidu.com&#34;</span> <span class="nt">@click.prevent</span><span class="s">=&#34;showInfo&#34;</span><span class="p">&gt;</span><span class="nx">点击</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">  <span class="nx">showInfo</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">       <span class="c1">//或者点击事件event对象有一个方法，可以阻止标签默认调用事件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>js里的事件流分为<strong>捕获阶段</strong>和<strong>冒泡阶段</strong>——</p>
<p>Vue中的事件修饰符：</p>
<p>​	1、prevent：阻止默认事件（常用）</p>
<p>​	2、stop：阻止事件冒泡（常用）</p>
<p>​	3、once：事件只触发一次（常用）</p>
<p>​	4、capture：使用事件的捕获模式</p>
<p>​	5、self：只有event.target是当前操作的元素时才触发事件</p>
<p>​	6、passive：事件的默认行为立即执行，无需等待事件回调执行完毕（多用于滚动条事件：@wheel鼠标滚轮滚动 / @scroll 滚动条滚动 - 这个不会等待事件回调执行完毕）</p>
<h5 id="键盘事件">键盘事件</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c1">//两个键盘触发事件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="err">@</span><span class="nx">keydown</span>   <span class="c1">//按下该按钮，不用抬起来，就触发事件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="err">@</span><span class="nx">keyup</span>     <span class="c1">//按下该按钮，抬起来后，才触发事件
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>按下回车提示输入</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">原生js写法</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="err">@</span><span class="na">keyup </span><span class="o">=</span> <span class="s">&#34;showInfo&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">showInfo</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">keyCode</span> <span class="o">!==</span> <span class="mi">13</span><span class="p">)</span> <span class="k">return</span>   <span class="c1">//回车的按键编码为13
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="o">------------------------------------------------------------------&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">vue事件别名写法</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="err">@</span><span class="na">keyup.enter</span> <span class="err">=</span> <span class="err">&#34;</span><span class="na">showInfo</span><span class="err">&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">showInfo</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>1.Vue给常用的按键都起了别名：</p>
<p>​	回车  =&gt;  enter         删除  =&gt;  delete （delete键和backspace退格键）</p>
<p>​	退出  =&gt;  esc    	空格  =&gt;  space</p>
<p>​	上  =&gt;  up		 换行  =&gt;  tab（特殊：必须配合keydown使用）</p>
<p>​	下  =&gt;  down	    左  =&gt;  left</p>
<p>​	右  =&gt;  right</p>
<p>注意：键盘上每一个按键都有他的名字和编码，例：回车 - Enter - 编码为13，可以通过方法查看</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">keyCode</span><span class="p">);</span> <span class="c1">//查看名字和编码
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>2.Vue未提供别名的按键，可以使用按键原始的key值去绑定，</p>
<p>但注意要转为kebab-case(短横线命名)，例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c1">//切换大小写按键的名字为  CapsLock  注意：是两个单词拼成，且为大驼峰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="err">@</span><span class="na">keyup.cps</span><span class="nt">-lock</span> <span class="err">=</span> <span class="err">&#34;</span><span class="na">showInfo</span><span class="err">&#34;</span><span class="p">&gt;</span> 
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">这里需全部小写</span><span class="err">，</span><span class="nx">且用</span><span class="o">-</span><span class="nx">短线连接</span> <span class="o">--&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>3.系统修饰键(用法特殊):ctrl、alt、shift、meta（win键）</p>
<p>​	(1).配合keyup使用:按下修饰键的同时，再按下其他键，随后释放其他键，事件才被触发。</p>
<p>​	(2).配合keydown使用:正常触发事件。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c1">//ctrl、alt、shift、meta
</span></span></span><span class="line"><span class="cl"><span class="c1">//在使用keyup时：ctrl+任意按键 同时按下，并单独放掉+的任意按键
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="err">@</span><span class="na">keyup.ctrl</span> <span class="err">=</span> <span class="err">&#34;</span><span class="na">showInfo</span><span class="err">&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">触发操作</span><span class="err">：</span><span class="nx">同时按下ctrl</span><span class="o">+</span><span class="nx">y</span><span class="err">，</span><span class="nx">并单独放掉y</span><span class="err">。</span><span class="nx">同时按下ctrl</span><span class="o">+</span><span class="nx">x</span><span class="err">，</span><span class="nx">并单独放掉x等</span>  <span class="o">--&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>4.也可以使用keyCode去指定具体的按键(不推荐)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">可以直接写13</span><span class="err">，</span><span class="nx">但是官网已停止使用</span><span class="err">，</span><span class="nx">可能部分浏览器已经不再解析</span>  <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="err">@</span><span class="na">keyup.13</span> <span class="err">=</span> <span class="err">&#34;</span><span class="na">showInfo</span><span class="err">&#34;</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>5.Vue.config.keyCodes.自定义键名 = 键码，可以去定制按键别名</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">Vue</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">keyCodes</span><span class="p">.</span><span class="nx">huiche</span> <span class="o">=</span> <span class="mi">13</span>  <span class="c1">//指定回车的别名为huiche
</span></span></span></code></pre></td></tr></table>
</div>
</div><h5 id="事件总结">事件总结</h5>
<p>事件修饰符是可以连着书写的，顺序没有要求，例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">先阻止冒泡</span><span class="err">，</span><span class="nx">再阻止跳转</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="nt">@click</span><span class="s">=&#34;showInfo&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;http://baidu.com&#34;</span> <span class="nt">@click.stop.prevent</span><span class="s">=&#34;showInfo&#34;</span><span class="p">&gt;</span><span class="nx">点击</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>系统修饰键(用法特殊):ctrl、alt、shift、meta使用时候，可以指定关联的任意键，例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">触发操作</span><span class="err">：</span><span class="nx">只能同时按下ctrl</span><span class="o">+</span><span class="nx">y</span><span class="err">，</span><span class="nx">并单独放掉y</span><span class="err">，</span><span class="nx">时候能够触发</span>  <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="err">@</span><span class="na">keyup.ctrl.y</span> <span class="err">=</span> <span class="err">&#34;</span><span class="na">showInfo</span><span class="err">&#34;</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="v-if">v-if</h4>
<h5 id="条件渲染">条件渲染</h5>
<p><code>v-if</code> 指令用于条件性地渲染一块内容。这块内容只会在指令的表达式返回 truthy 真实值的时候被渲染。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">v-if</span><span class="o">=</span><span class="s">&#34;awesome&#34;</span><span class="p">&gt;</span>Vue is awesome!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>也可以用 <code>v-else</code> 添加一个“else 块”：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">v-if</span><span class="o">=</span><span class="s">&#34;awesome&#34;</span><span class="p">&gt;</span>Vue is awesome!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">v-else</span><span class="p">&gt;</span>Oh no 😢<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>在<code>&lt;template&gt;</code>元素上使用 <code>v-if </code>条件渲染分组</strong></p>
<p>因为 <code>v-if</code> 是一个指令，所以必须将它添加到一个元素上。但是如果想切换多个元素呢？此时可以把一个 <code>&lt;template&gt;</code> 元素当做不可见的包裹元素，并在上面使用 <code>v-if</code>。最终的渲染结果将不包含 <code>&lt;template&gt;</code> 元素。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span> <span class="na">v-if</span><span class="o">=</span><span class="s">&#34;ok&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Title<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Paragraph 1<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Paragraph 2<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="err">&lt;</span>/template
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="v-else">v-else</h5>
<p>你可以使用 <code>v-else</code> 指令来表示 <code>v-if</code> 的“else 块”：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-if</span><span class="o">=</span><span class="s">&#34;Math.random() &gt; 0.5&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  Now you see me
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-else</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  Now you don&#39;t
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>v-else</code> 元素必须紧跟在带 <code>v-if</code> 或者 <code>v-else-if</code> 的元素的后面，否则它将不会被识别。</p>
<h5 id="v-else-if">v-else-if</h5>
<div class="details admonition warning open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-exclamation-triangle fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">2.1.0 新增</div>
        </div>
    </div>
<p><code>v-else-if</code>，顾名思义，充当 <code>v-if</code> 的“else-if 块”，可以连续使用：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-if</span><span class="o">=</span><span class="s">&#34;type === &#39;A&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  A
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-else-if</span><span class="o">=</span><span class="s">&#34;type === &#39;B&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  B
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-else-if</span><span class="o">=</span><span class="s">&#34;type === &#39;C&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  C
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-else</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  Not A/B/C
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>类似于 <code>v-else</code>，<code>v-else-if</code> 也必须紧跟在带 <code>v-if</code> 或者 <code>v-else-if</code> 的元素之后。</p>
<p><strong>用 <code>key</code> 管理可复用的元素</strong></p>
<p>Vue 会尽可能高效地渲染元素，通常会复用已有元素而不是从头开始渲染。这么做除了使 Vue 变得非常快之外，还有其它一些好处。例如，如果你允许用户在不同的登录方式之间切换：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span> <span class="na">v-if</span><span class="o">=</span><span class="s">&#34;loginType === &#39;username&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>Username<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Enter your username&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span> <span class="na">v-else</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>Email<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Enter your email address&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>那么在上面的代码中切换 <code>loginType</code> 将不会清除用户已经输入的内容。因为两个模板使用了相同的元素，<code>&lt;input&gt;</code> 不会被替换掉——仅仅是替换了它的 <code>placeholder</code>。</p>
<p>自己动手试一试，在输入框中输入一些文本，然后按下切换按钮：</p>
<ifarme>
<div id="key-example" style="margin-top:30px;margin-bottom:30px">
            <div v-if="loginType === 'username'">
              <label>Username</label>
              <input placeholder="Enter your username">
            </div>
            <div v-else>
              <label>Email</label>
              <input placeholder="Enter your email address">
            </div>
            <button @click="toggleLoginType">Toggle login type</button>
</div>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<script type="text/javascript" >
new Vue({
                el: '#key-example',
                data: {
                    loginType: 'username'
                },
                methods: {
                    toggleLoginType: function () {
                    return this.loginType = this.loginType === 'username' ? 'email' : 'username'
                    }
                }
 })
</script>
</ifarme>
<p>这样也不总是符合实际需求，所以 Vue 为你提供了一种方式来表达“这两个元素是完全独立的，不要复用它们”。只需添加一个具有唯一值的 <code>key</code> attribute 即可：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span> <span class="na">v-if</span><span class="o">=</span><span class="s">&#34;loginType === &#39;username&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>Username<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Enter your username&#34;</span> <span class="na">key</span><span class="o">=</span><span class="s">&#34;username-input&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span> <span class="na">v-else</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>Email<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Enter your email address&#34;</span> <span class="na">key</span><span class="o">=</span><span class="s">&#34;email-input&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>现在，每次切换时，输入框都将被重新渲染。请看：</p>
<div id="key-example" style="margin-top:30px;margin-bottom:30px">
            <div v-if="loginType === 'username'">
                <label>Username</label>
                <input placeholder="Enter your username" key="username-input">
              </div>
              <div v-else>
                <label>Email</label>
                <input placeholder="Enter your email address" key="email-input">
              </div>
            <button @click="toggleLoginType">Toggle login type</button>
</div>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<script type="text/javascript" >
new Vue({
                el: '#key-example',
                data: {
                    loginType: 'username'
                },
                methods: {
                    toggleLoginType: function () {
                    return this.loginType = this.loginType === 'username' ? 'email' : 'username'
                    }
                }
 })
</script>
</iframe>
<p>注意，<code>&lt;label&gt;</code> 元素仍然会被高效地复用，因为它们没有添加 <code>key</code> attribute。</p>
<h4 id="v-show">v-show</h4>
<h5 id="条件渲染-1">条件渲染</h5>
<p>用于根据条件展示元素的选项是 <code>v-show</code> 指令。指定为true就显示，否则就不显示，用法大致为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">v-show</span><span class="o">=</span><span class="s">&#34;true&#34;</span><span class="p">&gt;</span>Hello!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>不同的是带有 <code>v-show</code> 的元素始终会被渲染并保留在 DOM 中。<code>v-show</code> 只是简单地切换元素的 CSS property <code>display</code>。</p>
<div class="details admonition warning open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-exclamation-triangle fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">template模版标签，只能配合v-if使用，不能配合v-show</div>
        </div>
    </div>
<p><strong><code>v-if</code> vs <code>v-show</code></strong></p>
<p><code>v-if</code> 是“真正”的条件渲染，因为它会确保在切换过程中条件块内的事件监听器和子组件适当地被销毁和重建。</p>
<p><code>v-if</code> 也是<strong>惰性的</strong>：如果在初始渲染时条件为假，则什么也不做——直到条件第一次变为真时，才会开始渲染条件块。</p>
<p>相比之下，<code>v-show</code> 就简单得多——不管初始条件是什么，元素总是会被渲染，并且只是简单地基于 CSS 进行切换。</p>
<p>一般来说，<code>v-if</code> 有更高的切换开销，而 <code>v-show</code> 有更高的初始渲染开销。因此，如果需要非常频繁地切换，则使用 <code>v-show</code> 较好；如果在运行时条件很少改变，则使用 <code>v-if</code> 较好。</p>
<h4 id="v-for">v-for</h4>
<h5 id="列表渲染">列表渲染</h5>
<p>​	对于列表渲染： <a href="https://v2.cn.vuejs.org/v2/guide/list.html" target="_blank" rel="noopener noreffer ">官网解释地址</a></p>
<p>v-for的4种用法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!--遍历数组 --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">li</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;(p,index)of persons&#34;</span> <span class="na">:key</span><span class="o">=</span><span class="s">&#34;index&#34;</span><span class="p">&gt;</span>{{p.name}}-{{p.age}}<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--遍历对象 --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">li</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;(value,k)of car&#34;</span> <span class="na">:key</span><span class="o">=</span><span class="s">&#34;k&#34;</span><span class="p">&gt;</span>{{k}}-{{value}}<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--遍历字符串--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">li</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;(char,index)of str&#34;</span> <span class="na">:key</span><span class="o">=</span><span class="s">&#34;index&#34;</span><span class="p">&gt;</span>{{char}}-{{index}}<span class="p">&lt;/</span><span class="nt">1i</span><span class="p">&gt;</span> 
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--遍历指定次数 --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">li</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;(number,index)of 5&#34;</span> <span class="na">:key</span><span class="o">=</span><span class="s">&#34;index&#34;</span> <span class="p">&gt;</span>{{index}}-{{number}}<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="key作用与原理">key作用与原理</h5>
<p>​	官网解释地址：<a href="https://v2.cn.vuejs.org/v2/api/#key" target="_blank" rel="noopener noreffer ">key</a>     【给每个遍历结点一个标识，相当于每一条数据的唯一标识】</p>
<p>​	我们在这里阐述一下v-for中使用的key的作用。</p>
<p>在Vue中v-for使用时，不使用key属性，并不会报错。</p>
<p>我们探讨</p>
<p>（1）使用key和不使用key的区别</p>
<p>（2）使用key的话，是使用遍历时的索引值index好，还是用数据的唯一标识入xx.id更好</p>
<hr>
<p><strong>key的作用：给节点一个标识，相当于每一条数据的身份证号。</strong></p>
<h6 id="人员遍历示例">人员遍历示例</h6>
<p>下面是一个添加人员在当前数组前方的一个示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">人员列表</span><span class="p">(</span><span class="nx">遍历数组</span><span class="p">)&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click.once</span><span class="s">=&#34;add&#34;</span><span class="p">&gt;</span><span class="nx">点击添加一个人员</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">li</span> <span class="nt">v-for</span><span class="s">=&#34;(p,index) of persons&#34; </span><span class="nt">:key</span><span class="s">=&#34;index&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{{</span><span class="na">p.name</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.age</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">persons</span><span class="o">:</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;001&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;张三&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">18</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;002&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;李四&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">19</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;003&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;王五&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">20</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">add</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="kr">const</span> <span class="nx">p</span> <span class="o">=</span> <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;004&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;添加的人&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">21</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//在persons前方加这条数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h6 id="key关键字属性和其他自定义属性">key关键字属性和其他自定义属性</h6>
<p>​	自定义属性不能命名为key。</p>
<p>​	这块儿注意，我们的代码中是对key进行了描述的。但是在Vue工作后生成的真实Dom中却并没有这个key的描述。</p>
<p>​	这里很明显说明了这里的key只是在Vue中进行使用的。当Vue工作完毕后，会对key进行销毁。</p>
<p>​	进过测试我们可以发现，Vue中使用的所有标签，都对key关键字属性进行了征用，而其他拼写的属性却并没有影响。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240901172808659-1725430862597-1.png"
        data-srcset="./images/image-20240901172808659-1725430862597-1.png, ./images/image-20240901172808659-1725430862597-1.png 1.5x, ./images/image-20240901172808659-1725430862597-1.png 2x"
        data-sizes="auto"
        alt="./images/image-20240901172808659-1725430862597-1.png"
        title="image-20240901172808659" /></p>
<p>继续人员遍历示例：</p>
<p>现在我们在页面上点击添加人员的按钮，可以看见效果：人员添加在数组前方，控制台无报错，dom中标签也相应的生成。</p>
<img src="./images/image-20240901173327531-1725430862597-3.png" alt="image-20240901173327531" style="zoom:50%;" />
<p>目前看起来是没有什么问题的对吧？</p>
<p>这里是有问题的，只是这样看不出来而已。</p>
<h6 id="节点问题情境演示">节点问题情境演示</h6>
<p>我们验证这里的这个问题：</p>
<p>首先，我们在每个li标签后面加上一个input框【其实其他什么节点也是可以验证的，这里我们选择了直观一点的输入框】</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">li</span> <span class="nt">v-for</span><span class="s">=&#34;(p,index) of persons&#34; </span><span class="nt">:key</span><span class="s">=&#34;index&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">{{</span><span class="na">p.name</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.age</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>页面效果如下：</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240901173930522-1725430862597-8.png"
        data-srcset="./images/image-20240901173930522-1725430862597-8.png, ./images/image-20240901173930522-1725430862597-8.png 1.5x, ./images/image-20240901173930522-1725430862597-8.png 2x"
        data-sizes="auto"
        alt="./images/image-20240901173930522-1725430862597-8.png"
        title="image-20240901173930522" /></p>
<p>此时，我们在每个输入框后面填入和每个遍历出来的li标签相对应的值。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240901174100192-1725430862597-2.png"
        data-srcset="./images/image-20240901174100192-1725430862597-2.png, ./images/image-20240901174100192-1725430862597-2.png 1.5x, ./images/image-20240901174100192-1725430862597-2.png 2x"
        data-sizes="auto"
        alt="./images/image-20240901174100192-1725430862597-2.png"
        title="image-20240901174100192" /></p>
<p>之后，点击添加按钮。</p>
<p>这时候，我们发现：添加的人员确实出现在了数组的前方。但是本应该在添加人员后方的输入框诡异的出现在了数组的最后方。使得整个li标签和输入框错位显示。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240901174119829-1725430862597-4.png"
        data-srcset="./images/image-20240901174119829-1725430862597-4.png, ./images/image-20240901174119829-1725430862597-4.png 1.5x, ./images/image-20240901174119829-1725430862597-4.png 2x"
        data-sizes="auto"
        alt="./images/image-20240901174119829-1725430862597-4.png"
        title="image-20240901174119829" /></p>
<p>当我们将key的值换成数组的唯一标识时:key=&ldquo;p.id&rdquo;</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">li</span> <span class="nt">v-for</span><span class="o">=</span><span class="s">&#34;(p,index) of persons&#34; :key=&#34;p.id&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">{{</span><span class="na">p.name</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.age</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>运行效果可以看见，刚刚的问题不会出现</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240901174820947-1725430862597-5.png"
        data-srcset="./images/image-20240901174820947-1725430862597-5.png, ./images/image-20240901174820947-1725430862597-5.png 1.5x, ./images/image-20240901174820947-1725430862597-5.png 2x"
        data-sizes="auto"
        alt="./images/image-20240901174820947-1725430862597-5.png"
        title="image-20240901174820947" /></p>
<p>ok，到这里很清晰了：</p>
<p>key如果不写，或者写index时候，都会产生标签节点间相互错位这样的问题</p>
<hr>
<h6 id="现象解释">现象解释</h6>
<p>我们由此在这里解释造成这一现象的原因：</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240901181543906-1725430862597-6.png"
        data-srcset="./images/image-20240901181543906-1725430862597-6.png, ./images/image-20240901181543906-1725430862597-6.png 1.5x, ./images/image-20240901181543906-1725430862597-6.png 2x"
        data-sizes="auto"
        alt="./images/image-20240901181543906-1725430862597-6.png"
        title="image-20240901181543906" /></p>
<p>​	这张图表示了整个页面生成的一个过程：</p>
<p>​	首先，Vue拿到data中的初始数据如图1，进行初始虚拟DOM的转换。</p>
<p>​	此时转成了图2中的三个li标签。这时，这三个标签的排列顺序是依赖key的值</p>
<p>​	之后Vue将图2的虚拟dom转换成真实dom，如图三。</p>
<p>​	我们就能在界面上看见三个标签节点和其分别对应的输入框节点。</p>
<p>​	这时，我们在输入框中输入了值。【注意：这个值输在了<strong>真实的dom</strong>上】</p>
<p>​	此时的虚拟dom并不知道发生了什么。</p>
<p>​	然后，我们点击了添加按钮。于是data中的数据发生了变化，它按照我们的要求在数组的头部加入了一条新的数据。</p>
<p>​	此时Vue再次进行工作，将新数据转成虚拟DOM。</p>
<p>​	转换完成后，Vue将进入虚拟DOM之间的对比。</p>
<p>​	在Vue虚拟DOM的对比算法中，是按照节点相互对比的。</p>
<p>​	对比的顺序是按照key的值来的。首先取的是两边key=0的那一行。</p>
<p>​	由于此处使用的key值是index，即数组的索引值，所以在数组发生变化时，索引的排列顺序也相应的发生了变化。新数据的索引变成了0，而原来的数据索引都依次向后移动了一位。</p>
<p>在新旧虚拟DOM中进行对比时，Vue发现，原来的0索引节点中：</p>
<p>​	标签节点&rsquo;新添加的人&rsquo;在旧虚拟DOM不是存在的，原来的标签节点是张三不可复用，所以只能新生成一个全新的真实DOM标签节点。</p>
<p>​	而，输入框的节点在旧虚拟DOM是存在的，能够进行复用，所以直接复用已在页面生成好的真实DOM输入框节点。</p>
<p>​	而，页面输入框的真实DOM节点中我们输入了‘张三-18’的内容。</p>
<p>​	由此产生页面上第一行的错误效果。</p>
<p>在一行一行的对比时发现，所有的标签节点均不可复用，所以Vue均进行了重新生成。【注意：这里存在一个效率低的问。：这里产生了重复工作，将已有的东西重新生成，导致了效率低下】</p>
<p>​	最后一行数据的对比时，页面发现没有输入框节点，所以新生成了一个输入框，而这个输入框我们没有输入任何东西。由此产生了页面上最后一行的错误效果。</p>
<hr>
<p>如果使用数据的唯一标识id作为key，则对比时不会出现因为顺序导致节点错乱的情况。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240901190023088-1725430862597-7.png"
        data-srcset="./images/image-20240901190023088-1725430862597-7.png, ./images/image-20240901190023088-1725430862597-7.png 1.5x, ./images/image-20240901190023088-1725430862597-7.png 2x"
        data-sizes="auto"
        alt="./images/image-20240901190023088-1725430862597-7.png"
        title="image-20240901190023088" /></p>
<hr>
<h6 id="小总结">小总结</h6>
<p>这里可以看出</p>
<p>（1）key的作用原理</p>
<p>​	当不写key时，是默认使用的index的方式进行的。</p>
<p>​	当key为index时，操作数据尤为注意不要改变数据排列的顺序。因为遍历完全依赖于数据的索引，数据索引受到数据排列顺序的影响</p>
<p>​	当key为数据唯一标识时，顺序固定且唯一，遍历不受数据顺序的影响。</p>
<p>（2）虚拟dom的对比算法</p>
<p>​	按照key值，一行一行的对比。</p>
<p>​	存在相同节点，则复用已经生成的真实DOM。</p>
<p>​	不存在节点，则生成全新的真实DOM，放入页面中</p>
<h6 id="补充">补充</h6>
<p>往数组里补充数据，插入在最前方用：.unshift，插入在最后面用：.push</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">add</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">p</span> <span class="o">=</span> <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;004&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;添加的人&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">21</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//在persons前方加这条数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//在persons后方加这条数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="v-text">v-text</h4>
<p>向其所在的标签插入文本</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">两个在页面上的效果都是一样的</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;{{</span><span class="nx">name</span><span class="p">}}&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>           <span class="c">&lt;!--</span> <span class="nx">显示wangty</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="p">&lt;</span><span class="nt">div</span> <span class="nt">v-text</span><span class="o">=</span><span class="s">&#34;name&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>     <span class="err">&lt;!--</span> <span class="na">显示wangty</span> <span class="err">--</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="c">&lt;!--</span> <span class="nx">但是我们常用的还是插值语法</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="c">&lt;!--</span> <span class="nx">相较于v</span><span class="o">-</span><span class="nx">text</span><span class="p">,</span><span class="nx">插值语法显得更加灵活</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="nx">你好</span><span class="err">，</span><span class="p">{{</span><span class="nx">name</span><span class="p">}}&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>      <span class="c">&lt;!--</span> <span class="nx">显示</span><span class="err">：</span><span class="nx">你好</span><span class="err">，</span><span class="nx">wangty</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="p">&lt;</span><span class="nt">div</span> <span class="nt">v-text</span><span class="o">=</span><span class="s">&#34;name&#34;</span><span class="p">&gt;</span><span class="na">你好</span><span class="err">，</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span> <span class="err">&lt;!--</span> <span class="na">显示</span><span class="err">：</span><span class="na">wangty</span> <span class="err">--</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="c">&lt;!--</span> <span class="nx">v</span><span class="o">-</span><span class="nx">text会使得Vue拿到</span><span class="s2">&#34;&#34;</span><span class="nx">中的值</span><span class="err">，</span><span class="nx">整个替换掉div中的内容</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="c">&lt;!--</span> <span class="nx">把所有的字符串都当成文本进行解析</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="v-html">v-html</h4>
<p>v-text不解析html标签，于是相对应的就有一个指令是可以解析标签的，他就是v-html。他的用法和v-text一致，只是一个解析标签一个不解析，这里就不在赘述了。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="nt">v-html</span><span class="o">=</span><span class="s">&#34;str&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">str</span><span class="o">:</span><span class="s1">&#39;&lt;h3&gt;wangty&lt;/h3&gt;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>这里讲解一个v-html使用时隐藏的一个安全性的问题</p>
<p>在nodejs章节里我们讲述了cookie的工作原理，这里简单说一下：</p>
<p>cookie简略图：</p>
<p>1、Chrome浏览器携带用户名、密码请求github网站</p>
<p>2、github服务器回应登录成功，跳转个人中心，同时携带该网站专属cookie值返回浏览器【这里的cookie为一组组的 key : value 键值对形式】</p>
<p>3、Chrome浏览器在其application应用的位置，分出一块内存，存储一个以该网站为分类的cookie值【浏览器是可以同时存很多个网站的cookie的。每个网站的cookie都是按照网站分类进行存储的】</p>
<p>4、第二次请求的时候，Chrome浏览器携带第一次返回的cookie再次请求github网站【此次不用携带密码也能正常访问】</p>
<p>5、github服务器回应对应的请求页面，同时携带其他页面需要的新的cookie返回浏览器【有些第二次后请求不会再携带新的cookie，有些会】</p>
<p>简单的来说，cookie可以当做用户名和密码来使用，解决登录验证的问题</p>
<p>这里我们使用两个不同的浏览器，同时安装cookie的导入导出插件【Cookie-Editor】，模拟cookie免登录的情景案例</p>
<p>1、Chrome浏览器打开github，登录账号。F12控制台 - 应用 - cookie - 导出</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/060d8d9fb76b945f4e7b70c29016a27.jpg"
        data-srcset="./images/060d8d9fb76b945f4e7b70c29016a27.jpg, ./images/060d8d9fb76b945f4e7b70c29016a27.jpg 1.5x, ./images/060d8d9fb76b945f4e7b70c29016a27.jpg 2x"
        data-sizes="auto"
        alt="./images/060d8d9fb76b945f4e7b70c29016a27.jpg"
        title="060d8d9fb76b945f4e7b70c29016a27" /></p>
<p>导出的cookie都是JSON格式的字符串键值对</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/ef9f4842c7e7f8abaa3c3229dd195ec.jpg"
        data-srcset="./images/ef9f4842c7e7f8abaa3c3229dd195ec.jpg, ./images/ef9f4842c7e7f8abaa3c3229dd195ec.jpg 1.5x, ./images/ef9f4842c7e7f8abaa3c3229dd195ec.jpg 2x"
        data-sizes="auto"
        alt="./images/ef9f4842c7e7f8abaa3c3229dd195ec.jpg"
        title="ef9f4842c7e7f8abaa3c3229dd195ec" /></p>
<p>2、Edge浏览器打开github。F12控制台 -  应用 - cookie - 导入。刷新页面</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/00a4e5f276e7343c1c00acbae843a7a.jpg"
        data-srcset="./images/00a4e5f276e7343c1c00acbae843a7a.jpg, ./images/00a4e5f276e7343c1c00acbae843a7a.jpg 1.5x, ./images/00a4e5f276e7343c1c00acbae843a7a.jpg 2x"
        data-sizes="auto"
        alt="./images/00a4e5f276e7343c1c00acbae843a7a.jpg"
        title="00a4e5f276e7343c1c00acbae843a7a" /></p>
<p>3、很容易，我们Edge成功自动登录了github并访问了个人中心</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/b70844302cc6e67c99d6953992724b7.jpg"
        data-srcset="./images/b70844302cc6e67c99d6953992724b7.jpg, ./images/b70844302cc6e67c99d6953992724b7.jpg 1.5x, ./images/b70844302cc6e67c99d6953992724b7.jpg 2x"
        data-sizes="auto"
        alt="./images/b70844302cc6e67c99d6953992724b7.jpg"
        title="b70844302cc6e67c99d6953992724b7" /></p>
<p>那么v-html就存在这样的安全问题</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//页面中某处用v-html模板解析某个标签
</span></span></span><span class="line"><span class="cl"><span class="c1">//标签来源于用户的某项输入
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//js可以拿到所有没有加httpsOnly的cookie
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span>   
</span></span><span class="line"><span class="cl"><span class="c1">//若用户进行这样的输入，v-html也按照标签语法解析了，则：这种写法可以将本网站的cookie取到并跳转到其他页面，由此产生安全问题
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="nx">javaScript</span><span class="o">:</span><span class="nx">locatin</span><span class="p">.</span><span class="nx">href</span><span class="o">=</span><span class="s2">&#34;风险网站?&#34;</span><span class="o">+</span><span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span><span class="o">&gt;</span>  
</span></span></code></pre></td></tr></table>
</div>
</div><p>所以 ，在网站上动态渲染任意HTML是非常危险的，容易导致<code>XSS攻击</code>（这个攻击有个好听的名字叫：模拟用户之手）</p>
<p>由此，除了确定无风险的，带标签的字符串模版可以使用v-html其余时候不建议使用。</p>
<h4 id="v-cloak指令">v-cloak指令</h4>
<p>我们来看出现的问题，当存在 js阻塞时：</p>
<p>script写在前面的head里</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">该行阻塞5s则</span><span class="err">，</span><span class="nx">后面的都不加载</span><span class="err">，</span><span class="nx">等待改行加载完成后再执行</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;js/vue.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;{{</span><span class="nx">str</span><span class="p">}}&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">str</span><span class="o">:</span><span class="s1">&#39;123&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>script写在后面的body最尾部</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">该行先进行渲染</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">   	<span class="c">&lt;!--</span> <span class="nx">Vue还没有开始工作</span><span class="err">，</span><span class="nx">能看到一些没被Vue编译的样式</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;{{</span><span class="nx">str</span><span class="p">}}&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">该行阻塞5s则</span><span class="err">，</span><span class="nx">前面的都加载</span><span class="err">，</span><span class="nx">后面的等待该行加载完成后再执行</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;js/vue.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">str</span><span class="o">:</span><span class="s1">&#39;123&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>此时会出现页面显示未被编译的元素等待引入的js编译。为了避免出现这样不友好性的交互体验，Vue提供了一个内置命令v-cloak。</p>
<p>该指令在模版未被渲染的时候作为属性加载在html页面中，在Vue解析页面的时候自动删除。</p>
<p>该指令配合css使用，可以达到在js阻塞时，未被编译的元素均不显示。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">配合css使用</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">[</span><span class="nx">v</span><span class="o">-</span><span class="nx">cloak</span><span class="p">]{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">display</span><span class="o">:</span> <span class="nx">none</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">     <span class="c">&lt;!--</span> <span class="nx">v</span><span class="o">-</span><span class="nx">cloak没有值</span><span class="err">，</span><span class="nx">只有指令名称</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="nt">v-cloak</span><span class="p">&gt;{{</span><span class="na">str</span><span class="p">}}&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="err">&lt;!--</span> <span class="na">该行阻塞5s</span><span class="err">--</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;js/vue.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">str</span><span class="o">:</span><span class="s1">&#39;123&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="v-once指令">v-once指令</h4>
<p>v-once所在节点在初次动态渲染后，就视为静态内容。</p>
<p>以后数据的改变不会引起v-once所在结构的更新。可以用于优化性能。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">v</span><span class="o">-</span><span class="nx">once也只有指令名</span><span class="err">，</span><span class="nx">没有值</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span> <span class="nt">v-once</span><span class="p">&gt;</span><span class="na">初始化的值是</span><span class="err">：</span><span class="p">{{</span><span class="na">n</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前的值是</span><span class="err">：</span><span class="p">{{</span><span class="nx">n</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;n++&#34;</span><span class="p">&gt;</span><span class="na">点我n</span><span class="err">+</span><span class="na">1</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">n</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="v-pre指令">v-pre指令</h4>
<p>v-pre可以使其：1、跳过其所在节点的编译过程 2、可利用它跳过：没有使用指令语法，没有使用插值语法的节点，会加快编译。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">v</span><span class="o">-</span><span class="nx">pre也只有指令名</span><span class="err">，</span><span class="nx">没有值</span><span class="err">，</span><span class="nx">其标注的行Vue不编译</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span> <span class="nt">v-pre</span><span class="p">&gt;</span><span class="na">什么也没有</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="err">&lt;!--</span> <span class="na">该行不编译</span><span class="err">，</span><span class="na">显示</span><span class="err">：</span><span class="na">当前的值是</span><span class="err">：</span><span class="p">{{</span><span class="na">n</span><span class="p">}}</span> <span class="err">--</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span> <span class="nt">v-pre</span><span class="p">&gt;</span><span class="na">当前的值是</span><span class="err">：</span><span class="p">{{</span><span class="na">n</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="err">&lt;!--</span> <span class="na">该行正常编译</span><span class="err">，</span><span class="na">显示</span><span class="err">：</span><span class="na">当前的值是</span><span class="err">：</span><span class="na">1</span> <span class="err">--</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前的值是</span><span class="err">：</span><span class="p">{{</span><span class="nx">n</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;n++&#34;</span><span class="p">&gt;</span><span class="na">点我n</span><span class="err">+</span><span class="na">1</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">n</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="自定义指令">自定义指令</h4>
<p>原始的Vue内置指令，就是对Dom的操作进行封装。由此我们也能相对应的操作dom来实现对Vue自定义指令。</p>
<p>使用directives，进行自定义指令的设置</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"> <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#el&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">directives</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//自定义v-big
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="c1">// 两种写法（对象式）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">big</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    
</span></span><span class="line"><span class="cl">                <span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//两种写法（函数式）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">big</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="自定义指令-函数式">自定义指令 函数式</h5>
<p>需求：定义一个v-big指令，和v-text功能类似，但会把绑定的数值放大10倍。</p>
<img src="./images/image-20240919144126348.png" alt="image-20240919144126348" style="zoom:50%;" />
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">需求1</span><span class="o">:</span><span class="nx">定义一个v</span><span class="o">-</span><span class="nx">big指令</span><span class="err">，</span><span class="nx">和v</span><span class="o">-</span><span class="nx">text功能类似</span><span class="err">，</span><span class="nx">但会把绑定的数值放大10倍</span><span class="err">。</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id </span><span class="o">=</span> <span class="s">&#34;el&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">{{</span><span class="nx">n</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前的n值是</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">span</span> <span class="nt">v-text</span><span class="o">=</span><span class="s">&#34;n&#34;</span><span class="p">&gt;{{</span><span class="na">n</span><span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">放大10倍后的n值是</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">span</span> <span class="nt">v-big</span><span class="o">=</span><span class="s">&#34;n&#34;</span><span class="p">&gt;{{</span><span class="na">n</span><span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="err">&lt;!--</span> <span class="na">触发n值的改变</span><span class="err">，</span><span class="na">同时引起v</span><span class="nt">-big指令的改变</span> <span class="err">--</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">v</span><span class="o">-</span><span class="nx">big何时会调用big指令函数</span><span class="err">：</span>
</span></span><span class="line"><span class="cl">                <span class="mi">1</span><span class="err">、</span><span class="nx">指令与元素成功绑定时</span>
</span></span><span class="line"><span class="cl">                <span class="mi">2</span><span class="err">、</span><span class="nx">指令所在的模版被重新解析时</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;n++&#34;</span><span class="p">&gt;</span><span class="na">点击n</span><span class="err">+</span><span class="na">1</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#el&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">n</span><span class="o">:</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">directives</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//element是当前指令所在的真实DOM元素  这里为&lt;span&gt;&lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="c1">//binding.value为当前指令传入的数据变量n的当前值  这里为1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">big</span><span class="p">(</span><span class="nx">element</span><span class="p">,</span><span class="nx">binding</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//操作DOM元素，修改元素值的内容
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">element</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">binding</span><span class="p">.</span><span class="nx">value</span> <span class="o">*</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//题外话拓展：
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//console.dir(element) 可以打印显示当前元素的所有属性
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">//element instanceof HTML 返回true能够验证：元素是否是HTML的实例对象，来判断是否是真实DOM
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="自走义指令-对象式">自走义指令 对象式</h5>
<p>需求：定义一个v-fbind指令，和v-bind功能类似，但可以让其所绑定的input元素默认获取焦点。</p>
<p>这里我们先按照函数式的正常写法，写这个需求</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">此段代码存在问题</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">需求2</span><span class="o">:</span><span class="nx">定义一个v</span><span class="o">-</span><span class="nx">fbind指令</span><span class="err">，</span><span class="nx">和v</span><span class="o">-</span><span class="nx">bind功能类似</span><span class="err">，</span><span class="nx">但可以让其所绑定的input元素默认获取焦点</span><span class="err">。</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id </span><span class="o">=</span> <span class="s">&#34;el&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">v</span><span class="nt">-fbind:value</span><span class="o">=</span><span class="s">&#34;n&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;n++&#34;</span><span class="p">&gt;</span><span class="na">点击n</span><span class="err">++</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#el&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">n</span><span class="o">:</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">directives</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">fbind</span><span class="p">(</span><span class="nx">element</span><span class="p">,</span><span class="nx">binding</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">element</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">binding</span><span class="p">.</span><span class="nx">value</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">element</span><span class="p">.</span><span class="nx">focus</span><span class="p">()</span>  <span class="c1">//改行代码执行了，但在初始化并不生效
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition bug open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-bug fa-fw" aria-hidden="true"></i>注意<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p><strong>问题现象：</strong></p>
<p>使用<strong>函数式写法</strong>，导致：初始化加载不生效，点击按钮之后生效。</p>
<img src="./images/image-20240919145802988.png" alt="image-20240919145802988" style="zoom:50%;" />
<p>原因：<strong>执行时机不对</strong>，元素未加载在页面上，就对元素进行了操作，导致操作语句执行无效，页面并不对应出现效果。</p>
<p>这里我们用原生js模仿此处的操作，阐述此现象产生的逻辑</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">button</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;btn&#34;</span><span class="p">&gt;</span>点我创建一个输入框<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span> <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">const</span> <span class="nx">btn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;btn&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nx">btn</span><span class="p">.</span><span class="nx">onclick</span><span class="o">=</span><span class="p">()=&gt;{</span>
</span></span><span class="line"><span class="cl">        	<span class="kr">const</span> <span class="nx">input</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//执行且有效果
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        	<span class="nx">input</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span><span class="s1">&#39;demo
</span></span></span><span class="line"><span class="cl"><span class="s1">        	input.value = 99
</span></span></span><span class="line"><span class="cl"><span class="s1">            //下面这两行代码执行但没有效果
</span></span></span><span class="line"><span class="cl"><span class="s1">            input.parentElement.style.backgroundColor =&#39;</span><span class="nx">skyblue</span><span class="s1">&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">            input.focus()
</span></span></span><span class="line"><span class="cl"><span class="s1"> 
</span></span></span><span class="line"><span class="cl"><span class="s1">            document.body.appendchild(input)
</span></span></span><span class="line"><span class="cl"><span class="s1">            
</span></span></span><span class="line"><span class="cl"><span class="s1">             //放在元素加载完成后，执行且有效果
</span></span></span><span class="line"><span class="cl"><span class="s1">            input.parentElement.style.backgroundColor =&#39;</span><span class="nx">skyblue</span><span class="err">&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="nx">input</span><span class="p">.</span><span class="nx">focus</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<p>说明v-fbind不能像v-big一样在元素还在加载的时候就被调用。</p>
<p>这里需要设置v-fbind在元素加载完成的时候调用用fbind指令函数。</p>
<p>由此，我们引入自定义指令的对象式写法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">需求2</span><span class="o">:</span><span class="nx">定义一个v</span><span class="o">-</span><span class="nx">fbind指令</span><span class="err">，</span><span class="nx">和v</span><span class="o">-</span><span class="nx">bind功能类似</span><span class="err">，</span><span class="nx">但可以让其所绑定的input元素默认获取焦点</span><span class="err">。</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id </span><span class="o">=</span> <span class="s">&#34;el&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">v</span><span class="nt">-fbind:value</span><span class="o">=</span><span class="s">&#34;n&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;n++&#34;</span><span class="p">&gt;</span><span class="na">点击n</span><span class="err">++</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#el&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">n</span><span class="o">:</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">directives</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">fbind</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">					<span class="c1">//Vue与我们约定俗成的在对象中规定了一些指定名称的函数，当Vue执行到某个时机时，会自动帮我们执行对应约定的名称的函数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>					<span class="c1">//下面就是几个约定时机执行的函数（注意：名字不能敲错，也不能自定义，否则不会在对应时间默认执行），我们通常把这种类型的函数称为钩子，在生命周期小节会详细描述，这里不再过多阐述。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="c1">//时机：当指令与元素成功绑定时
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">bind</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;bind&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">element</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">binding</span><span class="p">.</span><span class="nx">value</span>
</span></span><span class="line"><span class="cl">                    <span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//时机：指令所在元素被插入页面时
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">insterted</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;insterted&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">element</span><span class="p">.</span><span class="nx">focus</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                    <span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//时机：指令所在的模版被重新解析时
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">update</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;update&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">element</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">binding</span><span class="p">.</span><span class="nx">value</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">element</span><span class="p">.</span><span class="nx">focus</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="自定义指令-总结">自定义指令 总结</h5>
<p>1、有个小问题：<strong>两个单词小驼峰命名指令报错</strong>问题 ， 如下图</p>
<img src="./images/image-20240919153729399.png" alt="image-20240919153729399" style="zoom:50%;" />
<p>这时候我们把函数名称改成小写：</p>
<img src="./images/image-20240919154046230.png" alt="image-20240919154046230" style="zoom:50%;" />
<p>这样是可以解决问题的，但很明显，不是很规范的</p>
<p>正常来说，类似于directives 对象中的函数，我们都默认成了简写的形式，这是导致解析时候函数大小写反复横跳的根本原因，这里我们按照正常的完整写法就不会出现问题</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">span</span> <span class="na">v-big-nubmer</span><span class="o">=</span><span class="s">&#34;n&#34;</span><span class="p">&gt;</span>{{n}}<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"> <span class="nx">directives</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">     <span class="c1">//写全
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>     <span class="s1">&#39;big-nubmer&#39;</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">element</span><span class="p">,</span><span class="nx">binding</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                
</span></span><span class="line"><span class="cl">     <span class="p">}</span>
</span></span><span class="line"><span class="cl">     <span class="c1">//或者 简写一半
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="s1">&#39;big-nubmer&#39;</span><span class="p">(</span><span class="nx">element</span><span class="p">,</span><span class="nx">binding</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">     
</span></span><span class="line"><span class="cl">     <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>2、指令函数里的<strong>this指向问题</strong>：</p>
<p>注意所有指令函数都不维护vm，他们均对dom元素进行直接操作，他们的this指向也均为window</p>
<img src="./images/image-20240919155214333.png" alt="image-20240919155214333" style="zoom:50%;" />
<p>3、自定义的指令同过滤器一样，定义在Vue里的，都是<strong>局部指令</strong>，也不能跨vue使用。</p>
<p>要是想跨Vue使用，同样的也需要通过Vue实体定义全局的</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span><span class="nx">依旧是没有s只能一个指令一个指令的写</span>  <span class="nx">格式为</span><span class="err">（</span><span class="nx">指令名</span><span class="err">，</span><span class="nx">对象函数体</span><span class="err">）</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Vue</span><span class="p">.</span><span class="nx">directive</span><span class="p">(</span><span class="s1">&#39;big-nubmer&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">    	<span class="nx">bind</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">        	<span class="nx">element</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">binding</span><span class="p">.</span><span class="nx">value</span> <span class="o">*</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);}</span>  
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>几个注意的点</p>
<p>一、定义语法:</p>
<p> (1).局部指令:</p>
<p>  new Vue({directives:(指令名:配置对象) }) 或者 new Vue({directives:(指令名:回调函数) })</p>
<p> (2).全局指令:</p>
<p>  Vue.directive(指令名，配置对象)    或   Vue.directive(指今名，回调喊函数)</p>
<p>二、配置对象中常用的3个回调:</p>
<p> (1).bind:指令与元素成功绑定时调用。</p>
<p> (2).inserted:指今所在元素被插入页面时调用。</p>
<p> (3).update:指今所在模版结构被重新解析时调用。
三、备注:
 1.指今定义时不加<code>v-</code>。但使用时要加<code>v-</code></p>
<p> 2.指令名如果是多个单词。要使用<code>kebab-case</code>命名方式(烤肉串)，不要用<code>camelCase</code>命名(驼峰)。</p>
</div>
        </div>
    </div>
<h2 id="7-el与data的两种写法">7. el与data的两种写法</h2>
<p>我们知道，Vue实例和容器之间是通过el属性进行关联的，如果不写el，则标签引用的Vue数据不会被解析，如下面这段代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">如果不写el</span><span class="p">,</span><span class="nx">则Vue不工作</span><span class="err">，</span><span class="nx">name不被解析</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;{{</span><span class="nx">name</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//el:&#39;#root&#39; ,将该行代码注释，页面不解析name，且控制台不报错
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="vmount">v.$mount(&rsquo;&rsquo;)</h3>
<p>那么有没有什么办法能替代el，使得Vue工作呢</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;{{</span><span class="nx">name</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">v</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span> <span class="c1">//我们使用一个恒定不变的对象来承接整个Vue实例，取名叫v
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">v</span><span class="p">);</span> <span class="c1">//打印这个v，我们能够看到整个Vue的实例对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">v</span><span class="p">.</span><span class="nx">$mount</span><span class="p">(</span><span class="s1">&#39;#root&#39;</span><span class="p">)</span> <span class="c1">//使用Vue实例的$mount方法，指向root容器，以实现解析和挂载
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>在控制台，这是我们第一个看见Vue的整个实例对象</p>
<img src="./images/image-20240827094202953.png" alt="image-20240827094202953" style="zoom:50%;" />
<p>通过这种写法，我们可以很容易的控制Vue解析页面的时间</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//让Vue等一秒钟，再进行页面的解析
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">setTimeout</span><span class="p">(()=&gt;{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">v</span><span class="p">.</span><span class="nx">$mount</span><span class="p">(</span><span class="s1">&#39;#root&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span><span class="mi">1000</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>图解</p>
<img src="./images/image-20240827093737158.png" alt="image-20240827093737158" style="zoom:50%;" />
<h3 id="data函数式写法">data函数式写法</h3>
<p>在Vue实例中，我们把data: {  }，这种写法形式称为对象式写法，花括号{}里包含的是对象属性。</p>
<p>除此之外，data在Vue实例里还能写成函数的形式：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl">	<span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="c1">//data的第一种写法：对象式
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//data的第二种写法：函数式
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">data</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="关于this">关于this</h3>
<p>注意：这里的data函数不是我们手动调用的，是Vue帮我们调用的</p>
<p>在这里我们打印输入一下，data方法中的this</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl">	<span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;this&#34;</span><span class="p">,</span><span class="k">this</span><span class="p">);</span> 
</span></span><span class="line"><span class="cl">                <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>这里this指向的是整个Vue实例对象</p>
<img src="./images/image-20240827095255712.png" alt="image-20240827095255712" style="zoom: 50%;" />
<p>注意，如果把data写成箭头函数，例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl">		<span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">()=&gt;{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;this&#34;</span><span class="p">,</span><span class="k">this</span><span class="p">);</span> 
</span></span><span class="line"><span class="cl">                <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>这里的this指向就会有问题，就会指向全局的window。（箭头函数是没有自己的this的，他默认就会向外去找指向，就会找到外层全局的window，当做他的this去使用）</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240827095625919.png"
        data-srcset="./images/image-20240827095625919.png, ./images/image-20240827095625919.png 1.5x, ./images/image-20240827095625919.png 2x"
        data-sizes="auto"
        alt="./images/image-20240827095625919.png"
        title="image-20240827095625919" /></p>
<h3 id="简写形式-1">简写形式</h3>
<p>我们通常写普通的函数时，一般用（）来代替:function()，所以写成：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl">	<span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">			<span class="c1">//data:function() =====&gt; 等价于  =====&gt; data()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;this&#34;</span><span class="p">,</span><span class="k">this</span><span class="p">);</span> 
</span></span><span class="line"><span class="cl">                <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">注意：由Vue所管理的函数，一定不能写成箭头函数，例：data()，watch()，computer()等</div>
        </div>
    </div>
<h2 id="8-理解mvvm">8. 理解MVVM</h2>
<p>Vue在最初的设计的时候，很大程度上参考了MVVM模型<a href="https://v2.cn.vuejs.org/v2/guide/instance.html" target="_blank" rel="noopener noreffer ">官网解释地址</a></p>
<img src="./images/image-20240827114445967.png" alt="image-20240827114445967" style="zoom:50%;" />
<p>1.M：模型（Model) :对应 data 中的数据
2.V：视图(View):模板
3.VM：视图模型(ViewModel)：Vue 实例对象</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240827141836011.png"
        data-srcset="./images/image-20240827141836011.png, ./images/image-20240827141836011.png 1.5x, ./images/image-20240827141836011.png 2x"
        data-sizes="auto"
        alt="./images/image-20240827141836011.png"
        title="image-20240827141836011" /></p>
<p>这块注意有个现象：写在data里的属性，会同步出现在Vue实例对象的属性里面，原理我们在数据代理时会进行阐述。</p>
<img src="./images/image-20240827142758707.png" alt="image-20240827142758707" style="zoom:50%;" />
<p>同时{{  }}中，Vue实体内中能够看到的所有属性，也能够使用</p>
<p>【Vue实体内的所有属性，Vue模板都可以使用】</p>
<p>例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;{{</span><span class="nx">$options</span><span class="p">}}&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;{{</span><span class="nx">$emit</span><span class="p">}}&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;{{</span><span class="nx">_c</span><span class="p">}}&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="9-objectdefineproperty">9. Object.defineProperty</h2>
<p>数据劫持、数据代理、计算属性，的底层均用到了Object.defineProperty这个方法</p>
<p>作用：给一个方法或者一个对象定义属性</p>
<p>用法：Object.defineProperties(操作的对象名,&lsquo;添加的属性名&rsquo;,{配置项键值对})</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">address</span><span class="o">:</span><span class="s1">&#39;chengdu&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">//给person对象添加一个属性，叫age，值为18
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">person</span><span class="p">,</span><span class="s1">&#39;age&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">value</span><span class="o">:</span><span class="mi">18</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意这块添加进去的age属性，在控制台的呈现样子</p>
<img src="./images/image-20240827145323514.png" alt="image-20240827145323514" style="zoom: 50%;" />
<p>这个颜色的区别，表示这个age不可以被枚举，及age这个属性不参与遍历</p>
<h3 id="enumerable配置项">enumerable配置项</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//我们通过Object的keys方法对其进行验证
</span></span></span><span class="line"><span class="cl"><span class="c1">// Object.keys()传入一个对象，将对该对象的属性名进行提取，并拼合成一个数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">person</span><span class="p">));</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="./images/image-20240827145841805.png" alt="image-20240827145841805" style="zoom:50%;" />
<p>这里可以明显看到，没有age属性</p>
<p>如果想让age属性能够正常被遍历和枚举，我们引入defineProperty中的另一个配置项enumerable</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//enumerable可枚举的，默认为false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">person</span><span class="p">,</span><span class="s1">&#39;age&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">value</span><span class="o">:</span><span class="mi">18</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nx">enumerable</span><span class="o">:</span><span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="./images/image-20240827150506053.png" alt="image-20240827150506053" style="zoom:50%;" />
<h3 id="writable配置项">writable配置项</h3>
<p>我们在控制台分别操作一下name属性和age属性，再次打印，我们发现age并不能操作成功</p>
<img src="./images/image-20240827151204114.png" alt="image-20240827151204114" style="zoom:50%;" />
<p>这说明defineProperty设置的属性的属性值是不能被修改的</p>
<p>若要使其同正常属性一样能够修改其属性值，则需要使用另一个配置项writable</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//writable 能否被修改，默认为false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">person</span><span class="p">,</span><span class="s1">&#39;age&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">value</span><span class="o">:</span><span class="mi">18</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">writable</span><span class="o">:</span><span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="./images/image-20240827151510869.png" alt="image-20240827151510869" style="zoom:50%;" />
<h3 id="configurable配置项">configurable配置项</h3>
<p>我们对属性进行删除操作，这里同样操作name和age：</p>
<img src="./images/image-20240827151939527.png" alt="image-20240827151939527" style="zoom:50%;" />
<p>这说明defineProperty设置的属性的属性值是不能被删除的</p>
<p>若要使其同正常属性一样能够删除，则需要使用另一个配置项configurable</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//configurable能否被删除，默认为false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">person</span><span class="p">,</span><span class="s1">&#39;age&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">value</span><span class="o">:</span><span class="mi">18</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">configurable</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="./images/image-20240827152135526.png" alt="image-20240827152135526" style="zoom:50%;" />
<h3 id="getter">getter</h3>
<p><strong>get函数</strong></p>
<p>当我有一个从变量number中获取年龄的age需求时，希望：当变量发生变化时，年龄属性也同步发生变化。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"> <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nx">number</span> <span class="o">=</span> <span class="mi">18</span>
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">address</span><span class="o">:</span><span class="s1">&#39;chengdu&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">person</span><span class="p">,</span><span class="s1">&#39;age&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//注意简写：
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">//get:function()  ========&gt;  等价于 get()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//当有人读取person的age属性时，get函数就会被调用,且返回值就是age的值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="k">return</span> <span class="s1">&#39;hello&#39;</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//设置成变量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="c1">//return number
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">})</span>
</span></span><span class="line"><span class="cl">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>控制台效果为：</p>
<img src="./images/image-20240827154407625.png" alt="image-20240827154407625" style="zoom:50%;" />
<p>注意：每一次使用或者涉及读取age这个属性的时候，都会现调用getter</p>
<img src="./images/image-20240827155359306.png" alt="image-20240827155359306" style="zoom:50%;" />
<h3 id="setter">setter</h3>
<p>和getter相同的，有一个控制写入的配置项函数，set函数</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"> <span class="c1">//当有人修改person的age属性时，set函数就会被调用,且入参是修改的age值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">set</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;有人修改age,且修改值为：&#34;</span><span class="o">+</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">number</span> <span class="o">=</span> <span class="nx">value</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="./images/image-20240827155905472.png" alt="image-20240827155905472" style="zoom:50%;" />
<h2 id="10数据代理">10.数据代理</h2>
<p>数据代理：通过一个对象代理对另一个对象中属性的操作（读/写）</p>
<p>例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text/javascript&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">obj</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">100</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="kd">let</span> <span class="nx">obj2</span> <span class="o">=</span><span class="p">{</span><span class="nx">y</span><span class="o">:</span><span class="mi">200</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="mi">0</span><span class="nx">bject</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">obj2</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">get</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">x</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span><span class="err">，</span>
</span></span><span class="line"><span class="cl">        <span class="nx">set</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        	<span class="nx">obj</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">value</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">/script&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="vue中的数据代理">Vue中的数据代理</h3>
<p>1.Vue中的数据代理:
通过vm对象来代理data对象中属性的操作(读/号)</p>
<p>2.Vue中数据代理的好处:
更加方便的操作data中的数据
3.基本原理:
通过object.defineProperty()把data对象中所有属性添加到vm上。
为每一个添加到vm上的属性，都指定一个getter/setter。
在getter/setter内部去操作(读/号)data中对应的属性</p>
<p>这个时候我们来看MVVM小结里的Vue实例中的现象，就很好理解：</p>
<img src="./images/image-20240827142758707.png" alt="image-20240827142758707" style="zoom:50%;" />
<p>首先，Vue在设置data方法的时候，将data内的数据复制了一份，放进了Vue实例对象的_data里</p>
<img src="./images/image-20240827162546657.png" alt="image-20240827162546657" style="zoom:50%;" />
<p>此时使用设置的name，可以用_data.name。</p>
<p>此时还没有进行数据代理。</p>
<p>然后，Vue对所有的data内属性和值使用数据代理，在Vue实体中添加name等属性，自动为其设置getter、setter方法，使得：</p>
<p>vm._data.name = vm.name</p>
<p>此时：vm._data = options.data = data  【注意后面这个=成立需要将data要放到整个全局】</p>
<p>关于_data</p>
<p>注意：这块展开_data能够看到和vm中一样的结构，但他并不是数据代理，他主要用来监听data内容变化，用于影响页面解析显示</p>
<img src="./images/image-20240827164718269.png" alt="image-20240827164718269" style="zoom: 67%;" />
<p>Vue中的数据劫持主要是通过ES6的<code>Object.defineProperty()</code>方法来实现。Vue会遍历data选项中的属性，并使用<code>Object.defineProperty()</code>将它们转为带有getter和setter的属性，这样Vue就能监控和响应数据的变化。</p>
<p>数据劫持：我们把原始的data内容，复制后增加了getter和setter方法用于数据监测的这种改写和加工操作，称为数据劫持。</p>
<h2 id="11computed">11.Computed</h2>
<h3 id="姓名案例">姓名案例</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"> <span class="c">&lt;!--</span> <span class="nx">写一个姓名案例</span><span class="err">：</span><span class="nx">实现输入框输入姓名的时候</span><span class="err">，</span><span class="nx">自动拼成全名</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">姓</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="nt">v-model</span><span class="o">=</span><span class="s">&#34;xing&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="na">名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="nt">v-model</span><span class="o">=</span><span class="s">&#34;ming&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="err">&lt;!--</span> <span class="na">插值语法的正常写法</span> <span class="err">--</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">全名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{{</span><span class="nx">xing</span><span class="p">}}</span> <span class="o">-</span> <span class="p">{{</span><span class="nx">ming</span><span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">xing</span><span class="o">:</span><span class="s1">&#39;wang&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">ming</span><span class="o">:</span><span class="s1">&#39;ty&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>页面效果为</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240828143414166.png"
        data-srcset="./images/image-20240828143414166.png, ./images/image-20240828143414166.png 1.5x, ./images/image-20240828143414166.png 2x"
        data-sizes="auto"
        alt="./images/image-20240828143414166.png"
        title="image-20240828143414166" /></p>
<p>这个时候，当input内无限输入姓名的长度，却只取前4位时，插值的写法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">当需求越复杂</span><span class="err">，</span><span class="nx">插值语法中的内容就越多</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">这种写法不报错</span><span class="err">，</span><span class="nx">但是不推荐</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nx">全名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{{</span><span class="nx">xing</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)}}</span> <span class="o">-</span> <span class="p">{{</span><span class="nx">ming</span><span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>在Vue官方文档中，风格指南中明确表示，组件模板中应当只包含简单表达式：</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240828143656575.png"
        data-srcset="./images/image-20240828143656575.png, ./images/image-20240828143656575.png 1.5x, ./images/image-20240828143656575.png 2x"
        data-sizes="auto"
        alt="./images/image-20240828143656575.png"
        title="image-20240828143656575" /></p>
<p>methods的写法：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">fullName不加</span><span class="p">()</span><span class="nx">返回的是整个函数体</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">fullName加</span><span class="p">()</span><span class="nx">返回的是return里的东西</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nx">全名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{{</span><span class="nx">fullName</span><span class="p">()}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fullName</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">       <span class="c1">//return &#39;wangty&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">xing</span> <span class="o">+</span><span class="s1">&#39;-&#39;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">ming</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="计算属性">计算属性</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"> <span class="nx">全名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{{</span><span class="nx">fullName</span><span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">fullName</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="c">&lt;!--</span> <span class="nx">get原理和defineProperty一样</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">get</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                        <span class="k">return</span> <span class="s1">&#39;wangty&#39;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>计算属性加载后依旧会放在vm中</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240828150834336.png"
        data-srcset="./images/image-20240828150834336.png, ./images/image-20240828150834336.png 1.5x, ./images/image-20240828150834336.png 2x"
        data-sizes="auto"
        alt="./images/image-20240828150834336.png"
        title="image-20240828150834336" /></p>
<p>在Vue开发者工具的结构中也能够很清晰的区分普通属性和计算属性</p>
<img src="./images/image-20240828153624537.png" alt="image-20240828153624537" style="zoom:50%;" />
<p>Vue对计算属性的缓存处理：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">写一个姓名案例</span><span class="err">：</span><span class="nx">实现输入框输入姓名的时候</span><span class="err">，</span><span class="nx">自动拼成全名</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">姓</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="nt">v-model</span><span class="o">=</span><span class="s">&#34;xing&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="na">名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="nt">v-model</span><span class="o">=</span><span class="s">&#34;ming&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="na">全名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{{</span><span class="nx">fullName</span><span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span><span class="c">&lt;!--</span> <span class="nx">第一次调用</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">全名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{{</span><span class="nx">fullName</span><span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span><span class="c">&lt;!--</span> <span class="nx">第二次调用</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">全名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{{</span><span class="nx">fullName</span><span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span><span class="c">&lt;!--</span> <span class="nx">第三次调用</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">全名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{{</span><span class="nx">fullName</span><span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span><span class="c">&lt;!--</span> <span class="nx">第四次调用</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">vm</span> <span class="o">=</span>  <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">xing</span><span class="o">:</span><span class="s1">&#39;wang&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">ming</span><span class="o">:</span><span class="s1">&#39;ty&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">           <span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">fullName</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//有人读取fullname时，被调用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">get</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;get被调用&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">xing</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">ming</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意控制台，这个地方对get的调用只调了一次！</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240828151500443.png"
        data-srcset="./images/image-20240828151500443.png, ./images/image-20240828151500443.png 1.5x, ./images/image-20240828151500443.png 2x"
        data-sizes="auto"
        alt="./images/image-20240828151500443.png"
        title="image-20240828151500443" /></p>
<p>实际上，在第一次调用fullName属性的时候，Vue向计算属性要了返回结果，并进行了缓存处理。在后面再次请求fullName属性的时候，直接使用了缓存中的值。</p>
<p>那么这个缓存在数据变化时是否会对显示造成影响呢？是不会的。</p>
<p>计算属性中的get有两个被调用时机：</p>
<p>​	1、初次读取fullName属性时</p>
<p>​	2、当依赖的数据发生变化时</p>
<p><strong>此处就可以区分methods写法和computed写法之间的优劣了。对的，methods会反复调用！！</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text/javascript&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">.....</span>
</span></span><span class="line"><span class="cl">    <span class="p">,</span><span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">fullName</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//有人读取fullname时，被调用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">get</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;get被调用&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">xing</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">ming</span>
</span></span><span class="line"><span class="cl">                    <span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//有人修改fullname时，被调用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="c1">//传入value为‘李-四’
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">set</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;set被调用,被修改的值：&#34;</span><span class="p">,</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                        <span class="kr">const</span> <span class="nx">arr</span> <span class="o">=</span> <span class="nx">value</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                        <span class="k">this</span><span class="p">.</span><span class="nx">xing</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">                        <span class="k">this</span><span class="p">.</span><span class="nx">ming</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">.......</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">/script&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>计算属性总结：
1.定义：要用的属性不存在，要通过已有属性计算得来。
2.原理：底层借助了objcet.defineproperty方法提供的getter和setter。
3.get函效什么时候执行？
（1）.初次读取时会执行一次。
（2）.当依赖的数据发生改变时会被再次调用。
4.优势：与methods实现相比。内部有缓存机制（复用），效奉更高，调试方便。
5.备注：
1.计算属性最终会出现在vm上，直接读取使用即可。
2.如果计算属性要被修改，那必须写set函数去响应修改，且set中要引起计算时依赖的数据发生</p>
<h3 id="计算属性-简写">计算属性 简写</h3>
<p>通常情况下，我们多使用计算属性的读取，不怎么使用修改。当确定计算属性只读不改时：</p>
<p>我们简化计算属性的写法：</p>
<p>1、删除掉set方法；</p>
<p>2、将fullName由对象写法改成函数写法：</p>
<p>​	fullName:{   }   ===&gt;   fullName:function( ){   }  ===&gt;  fullName(){   }</p>
<p>​	并将这个函数，当作get函数使用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text/javascript&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">.....</span>
</span></span><span class="line"><span class="cl">    <span class="p">,</span><span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fullName</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">           <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">xing</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">ming</span>
</span></span><span class="line"><span class="cl">          <span class="p">},</span>
</span></span><span class="line"><span class="cl">     <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">.......</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">/script&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="12watch">12.watch</h2>
<h3 id="天气案例">天气案例</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">写一个按钮点击后</span><span class="err">，</span><span class="nx">实现页面天气的切换</span><span class="err">，</span><span class="nx">并且输出切换前的天气和切换后的天气</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">今天天气很</span><span class="p">{{</span><span class="nx">info</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="err">@</span><span class="na">click</span><span class="o">=</span><span class="s">&#34;isHost = !isHost&#34;</span><span class="p">&gt;</span><span class="nx">点击切换天气</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">vm</span> <span class="o">=</span>  <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">isHost</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">           <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">           <span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">info</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">               <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">isHost</span><span class="o">?</span> <span class="s1">&#39;炎热&#39;</span><span class="o">:</span><span class="s1">&#39;凉爽&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>效果是，点击按钮，天气能在炎热凉爽之间来回切换</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240828161106046.png"
        data-srcset="./images/image-20240828161106046.png, ./images/image-20240828161106046.png 1.5x, ./images/image-20240828161106046.png 2x"
        data-sizes="auto"
        alt="./images/image-20240828161106046.png"
        title="image-20240828161106046" /></p>
<p>注意：这样的写法，在Vue开发者工具上会有个bug</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">当我将下面这行代码</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">今天天气很</span><span class="p">{{</span><span class="nx">info</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">改为</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">今天天气很一般</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="p">.....</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">....</span>
</span></span><span class="line"><span class="cl">          <span class="p">,</span><span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">info</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">               <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">isHost</span><span class="o">?</span> <span class="s1">&#39;炎热&#39;</span><span class="o">:</span><span class="s1">&#39;凉爽&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">       <span class="p">....</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>此处，computed中info的属性依旧随着isHost值的变化，而计算了</p>
<p>但是在Vue开发者工具中却并不能提现。但是我们可以通过vm验证，计算属性是变化了的。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240828162451016.png"
        data-srcset="./images/image-20240828162451016.png, ./images/image-20240828162451016.png 1.5x, ./images/image-20240828162451016.png 2x"
        data-sizes="auto"
        alt="./images/image-20240828162451016.png"
        title="image-20240828162451016" /></p>
<p>即，当页面没有使用计算属性和基本属性的时候，Vue开发者工具，就不更新data中被修改的基本属性的值了。但是实际上vm中的data属性值和计算属性值都是被更改了的。</p>
<p>此处属于Vue开发者工具的一个小坑，后续可能Vue开发者工具会进行维护。</p>
<h3 id="监视属性">监视属性</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="p">.....</span>
</span></span><span class="line"><span class="cl">           <span class="p">,</span><span class="nx">watch</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">          		<span class="c1">//isHost：监视谁，这儿就写谁的名字，这里指监视isHost的变化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">isHost</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//handler函数什么时候调用？在isHost被修改的时候。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">handler</span><span class="p">(</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;isHost被修改了&#39;</span><span class="p">,</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                    <span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//初始化时是否执行handler,默认为false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">immediate</span><span class="o">:</span><span class="kc">true</span>    
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>控制台效果</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240828163632724.png"
        data-srcset="./images/image-20240828163632724.png, ./images/image-20240828163632724.png 1.5x, ./images/image-20240828163632724.png 2x"
        data-sizes="auto"
        alt="./images/image-20240828163632724.png"
        title="image-20240828163632724" /></p>
<p>第二种写法，可以通过Vue实例对象，实现效果都是一样的</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">vm</span> <span class="o">=</span>  <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="p">........</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">      <span class="c1">//注意这里监视对象要加&#39;&#39;引号。里面的配置项内容和watch里的写法一样
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">vm</span><span class="p">.</span><span class="nx">$watch</span><span class="p">(</span><span class="s1">&#39;isHost&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">handler</span><span class="p">(</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;isHost被修改了&#39;</span><span class="p">,</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//immediate:true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>监视属性watch
1.当被监视的属性变化时，回调函数自动调用，进行相关操作
2.监视的属性必须存在，才能进行监视！！ 没有不会报错，但是监视前后数据都是undefined
3.监视的两种写法：
（1）. new Vue时传入watch配置</p>
<p>​	（2）. 通过vm.$watch监视</p>
<h3 id="深度监视">深度监视</h3>
<p>深度监视：
（1）Vue中的watch默认不监测对象内部值的改变（一层）。
（2）配置deep:true可以监测对象内部值改变（多层）。
备注：
（1）Vue自身可以监测对象内部值的改变，但vue提供的watch默认不可以！
（2）使用watch时根据数据的具体结构，决定是否采用深度监视。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">vm</span> <span class="o">=</span>  <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">number</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">a</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">b</span><span class="o">:</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">           <span class="nx">watch</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//监视多级结构中，某个属性的变化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="s1">&#39;number.a&#39;</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">handler</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;a被修改了&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span>   
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">注意</span><span class="err">：</span><span class="nx">这块儿监视的number是指number</span><span class="err">：</span><span class="p">{</span>   <span class="p">}</span><span class="nx">对象所在的地址值</span>
</span></span><span class="line"><span class="cl"><span class="nx">如果写成watch</span><span class="err">：</span><span class="p">{</span>  
</span></span><span class="line"><span class="cl">		<span class="nx">number</span><span class="err">：</span><span class="p">{</span>   <span class="p">}</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">地址永远不会变化</span><span class="err">，</span><span class="nx">则永远不会触发监听</span><span class="err">。</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果想要监视到number中任意一个值变化，那么需要加上监视穿透deep</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span> 
</span></span><span class="line"><span class="cl">    <span class="p">.........,</span>
</span></span><span class="line"><span class="cl">           <span class="nx">watch</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">number</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">deep</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">handler</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;a被修改了&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span>   
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">	<span class="p">.......</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意：这块两个概念，Vue实例是可以监测到多层级数据中属性的变化的，这个可以在控制台通过打印vm验证。只是Vue提供给开发者的watch属性中，无法直接监测到多层级数据的变化，需要设置默认检测层级或者使用deep。</p>
<h3 id="监视的简写形式">监视的简写形式</h3>
<p>如果监视的对象不适用其他配置项，例如deep，immediate等，只使用handler，可简写成：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span> 
</span></span><span class="line"><span class="cl">    <span class="p">.........,</span>
</span></span><span class="line"><span class="cl">           <span class="nx">watch</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//正常写法   
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">isHost</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">              <span class="nx">handler</span><span class="p">(</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">              <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;isHost被修改了&#39;</span><span class="p">,</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//简写，isHost对象式写成函数式，当handler用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">isHost</span><span class="p">(</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">              <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;isHost被修改了&#39;</span><span class="p">,</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">	<span class="p">.......</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">或者</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span> 
</span></span><span class="line"><span class="cl">    <span class="p">.........,</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//正常写法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> 		<span class="nx">vm</span><span class="p">.</span><span class="nx">$watch</span><span class="p">(</span><span class="s1">&#39;isHost&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">           <span class="nx">handler</span><span class="p">(</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">              <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;isHost被修改了&#39;</span><span class="p">,</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//deep:true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">//immediate:true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">})</span>
</span></span><span class="line"><span class="cl">   		 <span class="c1">//简写
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">vm</span><span class="p">.</span><span class="nx">$watch</span><span class="p">(</span><span class="s1">&#39;isHost&#39;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">           <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;isHost被修改了&#39;</span><span class="p">,</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="p">.......</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="13watch对比computed">13.watch对比computed</h2>
<p><strong>计算属性 vs 侦听属性</strong></p>
<p>Vue 提供了一种更通用的方式来观察和响应 Vue 实例上的数据变动：<strong>侦听属性</strong>。当你有一些数据需要随着其它数据变动而变动时，你很容易滥用 <code>watch</code>——特别是如果你之前使用过 AngularJS。然而，通常更好的做法是使用计算属性而不是命令式的 <code>watch</code> 回调。细想一下这个例子：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">id</span><span class="o">=</span><span class="s2">&#34;demo&#34;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="nx">fullName</span> <span class="p">}}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;#demo&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">firstName</span><span class="o">:</span> <span class="s1">&#39;Foo&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">lastName</span><span class="o">:</span> <span class="s1">&#39;Bar&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fullName</span><span class="o">:</span> <span class="s1">&#39;Foo Bar&#39;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">watch</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">firstName</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">fullName</span> <span class="o">=</span> <span class="nx">val</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lastName</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">lastName</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">fullName</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="nx">val</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>上面代码是命令式且重复的。将它与计算属性的版本进行比较：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;#demo&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">firstName</span><span class="o">:</span> <span class="s1">&#39;Foo&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">lastName</span><span class="o">:</span> <span class="s1">&#39;Bar&#39;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">computed</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fullName</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lastName</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>好得多了，不是吗？</p>
<p><strong>我们发现，好多功能在使用watch和computed属性都可以完成：</strong></p>
<p>不过呢。。。computed完全依赖return的内容。</p>
<p>但是，目前还没有办法可以让computed等待一段时间再进行return返回。</p>
<p>说明，计算属性中，是<strong>不能够开启异步任务</strong>去处理数据的。</p>
<p>那这个时候就需要依赖watch</p>
<p>watch不依赖return，watch中的数据修改，依赖于数据处理语句，例如：a = b ，给a的赋值语句</p>
<p>所以当有：想要某值改变，但是延迟一秒操作的时候。使用watch进行处理</p>
<p><strong>这里注意一个小细节哦：</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//这里的setTimeout很自然的使用了箭头函数
</span></span></span><span class="line"><span class="cl"><span class="c1">//之前我们说过，尽量不适用箭头函数以免改变了方法体中this的指向
</span></span></span><span class="line"><span class="cl"><span class="c1">//这里：
</span></span></span><span class="line"><span class="cl"><span class="c1">//isHost是Vue管理下的函数。
</span></span></span><span class="line"><span class="cl"><span class="c1">//但是setTimeout定时器所指定的回调，是不受Vue控制的。浏览器定时器管理模块控制的。最后到时间了，也是js引擎帮我们调的函数
</span></span></span><span class="line"><span class="cl"><span class="c1">//------------------------------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1">//所以这儿，必须写成箭头函数
</span></span></span><span class="line"><span class="cl"><span class="c1">//如果这儿写成普通函数，js引擎会认为this是它引擎控制的整个window
</span></span></span><span class="line"><span class="cl"><span class="c1">//------------------------------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1">//原理：
</span></span></span><span class="line"><span class="cl"><span class="c1">//当这儿写成箭头函数的时候，由于箭头函数没有this，就会默认往外层找
</span></span></span><span class="line"><span class="cl"><span class="c1">//这儿setTimeout的外层是isHost函数
</span></span></span><span class="line"><span class="cl"><span class="c1">//而isHost函数的this就是Vue
</span></span></span><span class="line"><span class="cl"><span class="c1">//由此使得this的指向正常
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">		<span class="nx">watch</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">isHost</span><span class="p">(</span><span class="nx">val</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">setTimeout</span><span class="p">(()=&gt;{</span>
</span></span><span class="line"><span class="cl">                    <span class="k">this</span><span class="p">.</span><span class="nx">isHost</span> <span class="o">=</span> <span class="nx">val</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span><span class="mi">1000</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>小结：</p>
<p>computed利watch之间的区别：
1.computed能完成的功能，watch都可以完成。
2.watch能完成的功能，computed不一定能完成，例如：watch可以进行异步操作。
两个重要的小原则：
1.所被vue管理的函数，最好写成普通函数，这样this的指向才是vm 或 组件实例对象。
2.所有不被Vue所管理的函数（定时器的回调函数、ajax的回调函数、Promise的回调函数等，只要是没引入Vue都可以调用的函数），最好写成箭头函数，这样this的指向才是vm 或 组件实例对象</p>
<h2 id="14列表过滤">14.列表过滤</h2>
<img src="./images/image-20240904164224323.png" alt="image-20240904164224323" style="zoom:50%;" />
<p>两种实现方式，先用watch写一遍再用computed写一遍</p>
<p><strong>watch写法：</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">列表过滤</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="nt">v-model</span><span class="o">=</span><span class="s">&#34;keyWord&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">li</span> <span class="nt">v-for</span><span class="o">=</span><span class="s">&#34;(p,index) of filPersons&#34; :key=&#34;p.id&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span><span class="na">p.name</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.age</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.sex</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">watch</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">keyWord</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">immediate</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">handler</span><span class="p">(</span><span class="nx">val</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                        <span class="c1">//这块注意，filter要返回满足条件的新数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                        <span class="k">this</span><span class="p">.</span><span class="nx">filPersons</span> <span class="o">=</span>   <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">p</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">                        <span class="c1">//indexOf对于包含的内容返回索引，不包含的内容返回-1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                        <span class="c1">//这里注意，都包含空字符串：任何字符串.indexOf(&#39;&#39;)都返回0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                        <span class="k">return</span> <span class="nx">p</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                        <span class="p">})</span>
</span></span><span class="line"><span class="cl">                    <span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">keyWord</span><span class="o">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">persons</span><span class="o">:</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;001&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;马冬梅&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">18</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;女&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;002&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;周冬雨&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">19</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;女&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;003&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;周杰伦&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">20</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;004&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;温兆伦&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">21</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="nx">filPersons</span><span class="o">:</span><span class="p">[]</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>computed写法：</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">列表过滤</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="nt">v-model</span><span class="o">=</span><span class="s">&#34;keyWord&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">li</span> <span class="nt">v-for</span><span class="o">=</span><span class="s">&#34;(p,index) of filPersons&#34; :key=&#34;p.id&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span><span class="na">p.name</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.age</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.sex</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">filPersons</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                  <span class="k">return</span>  <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">p</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">                       <span class="k">return</span> <span class="nx">p</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">keyWord</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                    <span class="p">})</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">keyWord</span><span class="o">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">persons</span><span class="o">:</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;001&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;马冬梅&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">18</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;女&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;002&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;周冬雨&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">19</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;女&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;003&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;周杰伦&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">20</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;004&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;温兆伦&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">21</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="15列表排序">15.列表排序</h2>
<p>排序和搜索都能同时控制使用</p>
<img src="./images/image-20240904174138070.png" alt="image-20240904174138070" style="zoom:50%;" />
<p><strong>computed写法：</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">列表排序</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="nt">v-model</span><span class="o">=</span><span class="s">&#34;keyWord&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="err">@</span><span class="na">click </span><span class="o">=</span> <span class="s">&#34;sortType = 2&#34;</span><span class="p">&gt;</span><span class="nx">年龄升序</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="err">@</span><span class="na">click </span><span class="o">=</span> <span class="s">&#34;sortType = 1&#34;</span><span class="p">&gt;</span><span class="nx">年龄降序</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="err">@</span><span class="na">click </span><span class="o">=</span> <span class="s">&#34;sortType = 0&#34;</span><span class="p">&gt;</span><span class="nx">原顺序</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">li</span> <span class="nt">v-for</span><span class="o">=</span><span class="s">&#34;(p,index) of filPersons&#34; :key=&#34;p.id&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span><span class="na">p.name</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.age</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.sex</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">filPersons</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                  <span class="kr">const</span> <span class="nx">arr</span> <span class="o">=</span>   <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">p</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">                       <span class="k">return</span> <span class="nx">p</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">keyWord</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                    <span class="p">})</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//为0时不进该判断
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">sortType</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                        <span class="c1">//升降序方法.sort(a,b)两个入参。升序-前减后，降序-后减前
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                        <span class="nx">arr</span><span class="p">.</span><span class="nx">sort</span><span class="p">((</span><span class="nx">p1</span><span class="p">,</span><span class="nx">p2</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">                            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">sortType</span> <span class="o">===</span> <span class="mi">1</span><span class="o">?</span> <span class="nx">p2</span><span class="p">.</span><span class="nx">age</span> <span class="o">-</span> <span class="nx">p1</span><span class="p">.</span><span class="nx">age</span> <span class="o">:</span> <span class="nx">p1</span><span class="p">.</span><span class="nx">age</span> <span class="o">-</span> <span class="nx">p2</span><span class="p">.</span><span class="nx">age</span>
</span></span><span class="line"><span class="cl">                        <span class="p">})</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span> <span class="nx">arr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">keyWord</span><span class="o">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">sortType</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span> <span class="c1">// 0原顺序 1降序 2升序
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">persons</span><span class="o">:</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;001&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;马冬梅&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">18</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;女&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;002&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;周冬雨&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">19</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;女&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;003&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;周杰伦&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">20</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;004&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;温兆伦&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">21</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="16vue监测数据改变的原理">16.Vue监测数据改变的原理</h2>
<p>这里注意，修改更新data中的数据时存在这样一个问题：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">人员列表</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;updataMei&#34;</span><span class="p">&gt;</span><span class="na">点击更改马冬梅的数据</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">li</span> <span class="nt">v-for</span><span class="o">=</span><span class="s">&#34;(p,index) of persons&#34; :key=&#34;p.id&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span><span class="na">p.name</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.age</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.sex</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="kr">const</span> <span class="nx">vm</span> <span class="o">=</span>  <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">persons</span><span class="o">:</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;001&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;马冬梅&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">18</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;女&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;002&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;周冬雨&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">19</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;女&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;003&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;周杰伦&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">20</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;004&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;温兆伦&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">21</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">updataMei</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//这里挨个修改data中的第一行数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">&#39;马老师&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                    <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">age</span> <span class="o">=</span> <span class="s1">&#39;50&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                    <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">sex</span> <span class="o">=</span> <span class="s1">&#39;男&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//这里整体修改data中的第一行数据 【会发现此种写法它不生效】
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;001&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;马老师&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">50</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>运行结果：</p>
<p><strong><img src="./images/image-20240905094650683.png" alt="image-20240905094650683" style="zoom:50%;" /></strong></p>
<p>可以看出，逐条修改数据，可以成功修改Vue中的数据，并且更新页面上的显示；但是整体修改，Vue中的数据确实被修改了，这里通过vm可以看出，页面上却不更新显示。</p>
<p>由此我们在这里探讨：Vue监测数据改变的原理。（Vue是如何监测数据改变的）</p>
<h3 id="响应式解析过程">响应式解析过程</h3>
<p>data中数据的解析过程：</p>
<p>​	在数据代理小节：我们知道，Vue将data中的数据复制一份,形成了<code>_data</code>。Vue通过<code>_data</code>进行数据代理生成页面上的data。</p>
<p>​	但是，这儿能看出我们写的data和vm中的_data，<code>_data</code>结构上比我们写的多了些东西。这里说明Vue不是单纯的复制了我们写的data，它对data进行了加工。</p>
<p>​	它对data进行加工的作用，使得我们在修改data中的数据的时候，它通过setter方法重新解析模板。这就是响应式。</p>
<p>​	整个响应式流程：data中name修改，形成新的<code>_data.name</code>，调用setter方法、重新解析模版，生成虚拟dom，新旧dom对比算法，复用旧dom/生成新dom。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240905104636170.png"
        data-srcset="./images/image-20240905104636170.png, ./images/image-20240905104636170.png 1.5x, ./images/image-20240905104636170.png 2x"
        data-sizes="auto"
        alt="./images/image-20240905104636170.png"
        title="image-20240905104636170" /></p>
<h3 id="模拟数据监测">模拟数据监测</h3>
<p>这里我们不使用Vue，单独写一个对象的数据监测：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!--Vue的数据检测类似 --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">text</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;username&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">age</span><span class="o">:</span><span class="s1">&#39;12&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1">//这里创建一个监视的实力对象，用于监视数据data中的数据变化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>           <span class="kr">const</span> <span class="nx">obs</span> <span class="o">=</span>  <span class="k">new</span> <span class="nx">Observer</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">           <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obs</span><span class="p">);</span> <span class="c1">//这里的obs打印输出来和data一致
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>           
</span></span><span class="line"><span class="cl">           <span class="c1">//Observer函数：入参为需要监视的数据对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>           <span class="kd">function</span> <span class="nx">Observer</span><span class="p">(</span><span class="nx">obs</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//取对象中所有的属性形成一个数组 ，这里是[name,age]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="kr">const</span> <span class="nx">keys</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">obs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//遍历
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">keys</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">k</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//k为每一个属性,this为整个obs实例对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="c1">//Object.defineProperty(对象,&#39;属性&#39;,{})
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">k</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//读：就把改属性的值返回去
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">get</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;被读&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                        <span class="k">return</span> <span class="nx">obs</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                    <span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//改：就把收到的值替换到对应属性
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">set</span><span class="p">(</span><span class="nx">val</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;被改&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">obs</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="o">=</span> <span class="nx">val</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">})</span>
</span></span><span class="line"><span class="cl">            <span class="p">})</span>
</span></span><span class="line"><span class="cl">           <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意不能直接对data使用defineProperty，防止死循环</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//死循环代码
</span></span></span><span class="line"><span class="cl"><span class="c1">//这种监视会反复调用读取，导致卡死
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="s1">&#39;name&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">get</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="nx">data</span><span class="p">.</span><span class="nx">name</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="vue里的对象监测原理">Vue里的对象监测原理</h3>
<p>​	Vue底层的对象监测类似于此，依赖于Vue.set()</p>
<h3 id="vueset">Vue.set()</h3>
<p>注意，Vue里模版中使用一个对象中不存在的属性，则值默认为undefined。如果Vue在页面中遇到undefined，则默认成什么都不展示，且控制台无报错。</p>
<p>当Vue里模版中使用vm身上不存在的属性，控制台就会报错告诉你未定义。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240905124940323.png"
        data-srcset="./images/image-20240905124940323.png, ./images/image-20240905124940323.png 1.5x, ./images/image-20240905124940323.png 2x"
        data-sizes="auto"
        alt="./images/image-20240905124940323.png"
        title="image-20240905124940323" /></p>
<p>所以这里，我们设置一个属性时，将其定义在对象中。保证我们的演示效果，写法如上图左侧</p>
<p>我们需要对student.sex实时追加属性值，使得页面上同时进行实时更新。</p>
<p>这里使用Vue.set()  <a href="https://v2.cn.vuejs.org/v2/api/#Vue-set" target="_blank" rel="noopener noreffer ">官网API地址</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//Vue提供函数  target改动对象，key操作的属性，val修改的值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">Vue</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span><span class="nx">key</span><span class="p">,</span><span class="nx">val</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//vm._data取对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">Vue</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">vm</span><span class="p">.</span><span class="nx">_data</span><span class="p">.</span><span class="nx">student</span><span class="p">,</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">//或者vm.data取对象，数据代理原理
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">Vue</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">vm</span><span class="p">.</span><span class="nx">student</span><span class="p">,</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>或者使用vm.$set()</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">vm</span><span class="p">.</span><span class="nx">$set</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span><span class="nx">key</span><span class="p">,</span><span class="nx">val</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//vm._data取对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">vm</span><span class="p">.</span><span class="nx">$set</span><span class="p">(</span><span class="nx">vm</span><span class="p">.</span><span class="nx">_data</span><span class="p">.</span><span class="nx">student</span><span class="p">,</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">//或者vm.data取对象，数据代理原理
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">vm</span><span class="p">.</span><span class="nx">$set</span><span class="p">(</span><span class="nx">vm</span><span class="p">.</span><span class="nx">student</span><span class="p">,</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意：对象不能是 Vue 实例，或者 Vue 实例的根数据对象。Vue.set()不是万能的，其设定了禁止直接对vm进行操作。即，只能操作data里的对象，不能操作data对象，例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//使用Vue.set()直接在vm中加入sex属性
</span></span></span><span class="line"><span class="cl"><span class="c1">//此操作会报错，告诉你禁止直接操作vm下的data对象。
</span></span></span><span class="line"><span class="cl"><span class="c1">//下面是两种错误写法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">Vue</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">vm</span><span class="p">.</span><span class="nx">_data</span><span class="p">.</span><span class="nx">sex</span><span class="p">,</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nx">Vue</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">vm</span><span class="p">.</span><span class="nx">sex</span><span class="p">,</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="./images/image-20240905130717576.png" alt="image-20240905130717576" style="zoom: 67%;" />
<h3 id="vue里的数组监测原理">Vue里的数组监测原理</h3>
<p>Vue如何检测<strong>数组</strong>里的数据改变</p>
<p>我们将data中设置一组对象数据，和一组数组数据，我们在页面控制台输出的data中可以看到两个数据的差别</p>
<p>Vue在加工的时候，给对象都创建了getter和setter方法。但是数组却没有。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240905134821315.png"
        data-srcset="./images/image-20240905134821315.png, ./images/image-20240905134821315.png 1.5x, ./images/image-20240905134821315.png 2x"
        data-sizes="auto"
        alt="./images/image-20240905134821315.png"
        title="image-20240905134821315" /></p>
<p>当我们修改数组的时候</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">school</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;大学&#39;</span>  <span class="c1">//页面不生效
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>原因这儿就找到了！页面模版的重新解析，依赖了数据中的setter方法，而数组没有setter。所以当我们修改数组时，vm的data中确实数据发生了更改，而页面却没有任何变化。这就也解释了为什么人员列表的时候，persons数组列表中直接修改第一行的数据，vm被改动，但页面不生效的现象了。</p>
<p>在Vue 的设计者认为中，数组应使用修改数组的一些方法对其进行修改。只有当使用数组的通用修改方法时，Vue才承认数组被改变了，才能够监测到数组数据的改变。</p>
<p>修改数组的一些常用方法：</p>
<p>​	push：在数组尾部添加一个元素</p>
<p>​	pop：删除最后一个元素</p>
<p>​	shift：删除第一个元素</p>
<p>​	unshift：在数组头部添加一个元素</p>
<p>​	splice：在某索引处进行删除、修改、添加</p>
<p>​	sort：数组排序</p>
<p>​	reverse：数组翻转</p>
<p>当使用上面这些方法时，Vue则可以成功监测到数据改变，同步更新页面。例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">vm</span><span class="p">.</span><span class="nx">_data</span><span class="p">.</span><span class="nx">school</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;大学&#39;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>当然，提供的Vue.set() 依旧对数组有效</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">Vue</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">vm</span><span class="p">.</span><span class="nx">_data</span><span class="p">.</span><span class="nx">school</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;大学&#39;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>不过需要注意的是，这里vm使用的push及其以上方法，并是不原生态的Array数组使用的push方法。Vue对其进行了包装。<a href="https://v2.cn.vuejs.org/v2/guide/list.html#%e6%95%b0%e7%bb%84%e6%9b%b4%e6%96%b0%e6%a3%80%e6%b5%8b" target="_blank" rel="noopener noreffer ">官网API地址</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//控制台验证
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">vm</span><span class="p">.</span><span class="nx">_data</span><span class="p">.</span><span class="nx">school</span><span class="p">.</span><span class="nx">push</span> <span class="o">===</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">push</span>   <span class="c1">//false
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="17表单数据收集">17.表单数据收集</h2>
<p>表单数据收集时：</p>
<p>ajax前台往后台传参数的时候，把一组数据转成JSON格式的</p>
<p>JSON.statiy()数据转换成JSON格式</p>
<p>收集表单数据：可以用this._data，但是一般不推荐直接使用</p>
<p>建议整个表单数据，前面包一个对象，通过 对象收集 this.queryInfo</p>
<p>v-model的修饰符：</p>
<p>v-model.trim =&gt; 不收集输入的空格（所有的空格都不收集）</p>
<p>v-model.number =&gt; 收集的数据自动转成数值类型</p>
<p>v-model.lazy =&gt; 收集时，需要失去焦点后再记录</p>
<p>小结：</p>
<p>如果input框的type类型是text，v-model收集的是value，用户输入的也是value</p>
<p>如果类型是radio，需要给标签配置value值</p>
<p>如果类型是checkbox， 没有设置value，收集的是是否被选中，true/false</p>
<p>配置了value，初始值是数组，收集的是选中的数组。是非数组，收集的是布尔值</p>
<h2 id="18过滤器">18.过滤器</h2>
<p>小案例：当前时间戳的转换。【日期第三方库 moment.js 、 dayjs】</p>
<p>我们用三种实现方式：计算属性、methods、过滤器 分别实现</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1.0&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span><span class="nx">过滤器</span><span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;js/vue.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">日期转换方法第三方库引入</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">有互联网也可以引在线的</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">https</span><span class="o">:</span><span class="c1">//www.bootcdn.cn/ 搜索dayjs 复制链接 另存为 --&gt;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;js/dayjs.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">过滤器</span> <span class="nx">时间戳切换</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前时间</span><span class="err">：</span><span class="p">{{</span><span class="nx">time</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">计算属性</span> <span class="nx">实现</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前时间</span><span class="err">：</span><span class="p">{{</span><span class="nx">timeComputed</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">methods</span> <span class="nx">实现</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前时间</span><span class="err">：</span><span class="p">{{</span><span class="nx">getNowTime</span><span class="p">()}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">filter</span> <span class="nx">实现</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="o">|</span> <span class="nx">管道符前面的为入参</span> <span class="nx">后面的为过滤器函数</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">后面的函数return的内容</span> <span class="nx">整个替换掉插值位置的所有内容</span> <span class="nx">显示</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前时间</span><span class="err">：</span><span class="p">{{</span><span class="nx">time</span> <span class="o">|</span> <span class="nx">timeFormater</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">filter传参</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">默认第一位参数为</span> <span class="o">|</span> <span class="nx">前参数</span><span class="err">，</span><span class="nx">第二位参数为小括号内参数</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前时间</span><span class="err">：</span><span class="p">{{</span><span class="nx">time</span> <span class="o">|</span> <span class="nx">timeFormater</span><span class="p">(</span><span class="s2">&#34;YYYY年MM月DD日&#34;</span><span class="p">)}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">filter串联</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">串联不影响传参</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">mySlice只接受timeFormater返回地方值进行计算</span> <span class="nx">挨着串联</span> <span class="nx">只处理该函数</span> <span class="o">|</span> <span class="nx">前的返回值为入参</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前年份</span><span class="err">：</span><span class="p">{{</span><span class="nx">time</span> <span class="o">|</span> <span class="nx">timeFormater</span><span class="p">(</span><span class="s2">&#34;YYYY年MM月DD日&#34;</span><span class="p">)</span> <span class="o">|</span> <span class="nx">mySlice</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//定义全局过滤器
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//一次只能定义一个
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//Vue.filter(&#39;注册全局过滤器名称&#39;,function(入参){方法体}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">Vue</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="s1">&#39;mySlice&#39;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">val</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="nx">val</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">time</span><span class="o">:</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">timeComputed</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span> <span class="nx">dayjs</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">time</span><span class="p">).</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;YYYY-MM-DD HH:mm:ss&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>   
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">getNowTime</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span> <span class="nx">dayjs</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">time</span><span class="p">).</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;YYYY-MM-DD HH:mm:ss&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//注意：new Vue中的filters 可以写多个。里面的每一个filter都属于局部过滤器。当这个Vue是组件时，A组件和B组件的filter不能相互使用。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">filters</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//timeFormater(val){  没有第二入参的写法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">timeFormater</span><span class="p">(</span><span class="nx">val</span><span class="p">,</span><span class="nx">str</span> <span class="o">=</span> <span class="s1">&#39;YYYY-MM-DD HH:mm:ss&#39;</span><span class="p">){</span>  <span class="c1">//有第二入参用入参，没有用默认的 = 后的这个
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="c1">//return &#39;hello&#39; 返回啥页面就是啥，完全依赖此处return
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="k">return</span> <span class="nx">dayjs</span><span class="p">(</span><span class="nx">val</span><span class="p">).</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;YYYY-MM-DD HH:mm:ss&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="nx">mySlice</span><span class="p">(</span><span class="nx">val</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span> <span class="nx">val</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>⚠️注意：new Vue中的filters 可以写多个。里面的每一个filter都属于局部过滤器。当这个Vue是组件时，A组件和B组件的filter不能相互使用。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">过滤器使用方式</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">插值语法</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前时间</span><span class="err">：</span><span class="p">{{</span><span class="nx">time</span> <span class="o">|</span> <span class="nx">timeFormater</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">单向属性绑定</span><span class="err">（</span><span class="nx">双向用不了</span><span class="err">，</span><span class="nx">这种形式也用的比较少</span><span class="err">）</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h3</span> <span class="o">:</span><span class="na">x</span><span class="o">=</span><span class="s">&#34;time | timeFormater&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>🏷小结：一般用于 对要显示的数据进行特定格式化后再显示（适用于一些简单逻辑的处理）</p>
<h2 id="19生命周期">19.生命周期</h2>
<div class="details admonition success open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-check-circle fa-fw" aria-hidden="true"></i>定义<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p><strong>生命周期:</strong>
  1.又名: 生命周期回调函数、生命周期函数、生命周期<strong>钩子</strong>。（只需要准备好函数，在特定的时间，将函数钩出来使用。）</p>
<p>  2.是什么: Vue在关键时刻帮我们调用的一些特殊名称的函数。</p>
<p>  3.生命周期函数的名字不可更改，但函数的具体内容是程序员根据需求编写的</p>
<p>  4.生命周期函数中的this指向是vm或组件实例对象。</p>
</div>
        </div>
    </div>
<p>实现一个幻灯片渐隐渐现的效果</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">定时器写在外部</span><span class="p">(</span><span class="nx">不推荐</span><span class="p">)</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id </span><span class="o">=</span> <span class="s">&#34;el&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">此处为</span> <span class="o">:</span><span class="nx">style</span><span class="o">=</span><span class="s2">&#34;{opacity:opacity}&#34;</span> <span class="nx">因为style中为js函数体</span><span class="err">，</span><span class="nx">函数体同名可以省略</span><span class="err">，</span><span class="nx">由此写成下面的这种形式</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h2</span> <span class="nt">:style</span><span class="o">=</span><span class="s">&#34;{opacity}&#34;</span><span class="p">&gt;</span><span class="nx">一个渐隐渐现的效果</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="kr">const</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#el&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">opacity</span><span class="o">:</span><span class="mi">1</span>  <span class="c1">//初始化：默认透明度为1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">//再Vue外面写一个定时器，循环操作vm
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">setInterval</span><span class="p">(()=&gt;{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//每次透明度减小0.01
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>           <span class="nx">vm</span><span class="p">.</span><span class="nx">opacity</span> <span class="o">-=</span> <span class="mf">0.01</span>
</span></span><span class="line"><span class="cl">           <span class="c1">//注意此处写成 &lt;=0 ,而不是写成 ==0 ，因为在js中 0.1 +0.1 不一定等于0.2 ，所以在-0.01的时候不一定会刚好减到0，有可能直接奔负数就去了
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>           <span class="c1">//一旦发现透明度减完了，就使其恢复到1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>           <span class="k">if</span><span class="p">(</span><span class="nx">vm</span><span class="p">.</span><span class="nx">opacity</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="nx">vm</span><span class="p">.</span><span class="nx">opacity</span> <span class="o">=</span><span class="mi">1</span> 
</span></span><span class="line"><span class="cl">        <span class="p">},</span><span class="mi">16</span><span class="p">)</span> <span class="c1">//每隔16毫秒就减一次透明度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>使用声明周期函数，使得定时器能够自然的存在于Vue的内部</p>
<p>原理：Vue在解析完模板，由虚拟DOM生成真实DOM之后，会默认调用的几个函数，帮我们完成在元素加载后，自动调用需要调用的函数 【在Vue整个干活过程中，特殊的时间点，去调用的函数，统称为生命周期函数】</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">mounted</span><span class="p">()</span><span class="nx">生命周期函数</span> <span class="nx">写法</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id </span><span class="o">=</span> <span class="s">&#34;el&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h2</span> <span class="nt">:style</span><span class="o">=</span><span class="s">&#34;{opacity}&#34;</span><span class="p">&gt;</span><span class="nx">一个渐隐渐现的效果</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#el&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">opacity</span><span class="o">:</span><span class="mi">1</span>  <span class="c1">//初始化：默认透明度为1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//Vue完成模版的解析并把真实的DOM元素放入页面后（挂载完成）调用mounted
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">//只在真DOM放入时调用一次，后面解析模板不会再被调用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">mounted</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">setInterval</span><span class="p">(()=&gt;{</span>
</span></span><span class="line"><span class="cl">                        <span class="k">this</span><span class="p">.</span><span class="nx">opacity</span> <span class="o">-=</span> <span class="mf">0.01</span>
</span></span><span class="line"><span class="cl">                        <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">opacity</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">opacity</span> <span class="o">=</span><span class="mi">1</span> 
</span></span><span class="line"><span class="cl">                    <span class="p">},</span><span class="mi">16</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>官方操作手册中给出了非常完整的Vue生命周期图示：<a href="https://v2.cn.vuejs.org/v2/guide/instance.html#%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f%e5%9b%be%e7%a4%ba" target="_blank" rel="noopener noreffer ">如这里</a> ， 同时也给了详细的解释。这里我们仅仅将图拿过来，进行简单的备注和阐述。</p>
<img src="./images/image-20240921171301860.png" alt="image-20240921171301860" style="zoom:50%;" />
<p>阅读此图注意：</p>
<ul>
<li><strong>实色填充图形</strong>均为 生命周期 <strong>流程</strong></li>
<li><strong>红色圆角矩形框</strong> 均为 生命周期 <strong>函数</strong></li>
<li>绿色填充和黄色填充圆角矩形框和菱形框 均为 生命周期  <strong>某环节</strong></li>
</ul>
<h3 id="生命周期_挂载流程">生命周期_挂载流程</h3>
<ul>
<li>
<p>beforeCreate() 第一个生命周期函数：</p>
</li>
<li>
<p>数据创建前</p>
<p>首先打印函数名称，确定函数执行；其次验证vm上并没有data的数据代理</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id </span><span class="o">=</span> <span class="s">&#34;el&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">当前的n值是</span><span class="err">：</span><span class="p">{{</span><span class="nx">n</span><span class="p">}}&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="err">@</span><span class="na">click </span><span class="o">=</span> <span class="s">&#34;add&#34;</span><span class="p">&gt;</span><span class="nx">点我n</span><span class="o">+</span><span class="mi">1</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#el&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">               <span class="nx">n</span><span class="o">:</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">           <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">add</span><span class="p">(){</span> <span class="nx">n</span><span class="o">++</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">beforeCreate</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;beforeCreate&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="kr">debugger</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>控制台表现</p>
<img src="./images/image-20240921175523577.png" alt="image-20240921175523577" style="zoom:80%;" />
</li>
<li>
<p>created() 第二个生命周期函数：</p>
</li>
<li>
<p>数据创建完毕</p>
<p>首先打印函数名称，确定函数执行；其次验证vm上完成了data的数据代理</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">   <span class="p">....</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="p">.....</span>
</span></span><span class="line"><span class="cl">            <span class="nx">beforeCreate</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;beforeCreate&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">created</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;created&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>控制台表现</p>
<img src="./images/image-20240921181158589.png" alt="image-20240921181158589" style="zoom:80%;" />
</li>
<li>
<p>beforeMount() 第三个生命周期函数</p>
</li>
<li>
<p>数据挂载前</p>
<p>首先打印函数名称，确定函数执行；其次验证vm中有值，但此时并没有将解析结果（值）放入页面</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">   <span class="p">....</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="p">.....</span>
</span></span><span class="line"><span class="cl">            <span class="nx">beforeCreate</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;beforeCreate&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">created</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;created&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">beforeMount</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;beforeMount&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="kr">debugger</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>            
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>控制台表现</p>
<img src="./images/image-20240922094903623.png" alt="image-20240922094903623" style="zoom:80%;" />
<p>验证此处对DOM的所有操作，最终都不会有效</p>
<img src="./images/image-20240922102320348.png" alt="image-20240922102320348" style="zoom:80%;" />
</li>
<li>
<p>mounted() 第四个生命周期函数</p>
</li>
<li>
<p>数据挂载完毕</p>
<p>首先打印函数名称，确定函数执行；其次，确定页面上所有的元素都被解析完成，且挂载完毕</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">   <span class="p">....</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="p">.....</span>
</span></span><span class="line"><span class="cl">            <span class="nx">beforeCreate</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;beforeCreate&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">created</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;created&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">beforeMount</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;beforeMount&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">mounted</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;mounted&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="kr">debugger</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>控制台效果</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240922103138506.png"
        data-srcset="./images/image-20240922103138506.png, ./images/image-20240922103138506.png 1.5x, ./images/image-20240922103138506.png 2x"
        data-sizes="auto"
        alt="./images/image-20240922103138506.png"
        title="image-20240922103138506" /></p>
<p>到此，整个挂载流程结束。</p>
<p>挂载流程 - 图解：</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240922105326834.png"
        data-srcset="./images/image-20240922105326834.png, ./images/image-20240922105326834.png 1.5x, ./images/image-20240922105326834.png 2x"
        data-sizes="auto"
        alt="./images/image-20240922105326834.png"
        title="image-20240922105326834" /></p>
</li>
</ul>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>注意<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>在使用template模版对象时，有多个节点只能用<code>&lt;div&gt;</code>标签进行包裹，不能使用<code>&lt;template&gt;</code>标签。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">.....</span>
</span></span><span class="line"><span class="cl"><span class="c1">//只能使用div
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">template</span><span class="o">:</span><span class="sb">`
</span></span></span><span class="line"><span class="cl"><span class="sb">    &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">        &lt;h2&gt;当前的n值是：{{n}}&lt;/h2&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">        &lt;button @click = &#34;add&#34;&gt;点我n+1&lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">`</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">......</span>
</span></span><span class="line"><span class="cl"><span class="c1">//不能使用template
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">template</span><span class="o">:</span><span class="sb">`
</span></span></span><span class="line"><span class="cl"><span class="sb">    &lt;template&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">        &lt;h2&gt;当前的n值是：{{n}}&lt;/h2&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">        &lt;button @click = &#34;add&#34;&gt;点我n+1&lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">    &lt;/template&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">`</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>我们知道<code>&lt;template&gt;</code>标签，在页面解析的时候，会自动隐藏掉最外的一层，只显示<code>&lt;template&gt;</code>标签里面的内容。所以，容易产生<code>&lt;template&gt;</code>标签里面多根节点的问题。导致template模版对象编译失败报错</p>
<img src="./images/image-20240922154650875.png" alt="image-20240922154650875" style="zoom:50%;" />
</div>
        </div>
    </div>
<h3 id="生命周期_更新流程">生命周期_更新流程</h3>
<ul>
<li>
<p>beforeUpdate() 第五个生命周期函数</p>
</li>
<li>
<p>在页面数据更新完成前</p>
</li>
<li>
<p>首先打印函数名称，确定函数执行；其次，验证此环节：数据已经更改，但页面并未更新</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">   <span class="p">....</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="p">.....</span>
</span></span><span class="line"><span class="cl">            <span class="nx">beforeCreate</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;beforeCreate&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">created</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;created&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">beforeMount</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;beforeMount&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">mounted</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;mounted&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">beforeUpdate</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;beforeUpdate&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">n</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="kr">debugger</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>           
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>控制台效果</p>
<img src="./images/image-20240922155821026.png" alt="image-20240922155821026" style="zoom:80%;" />
</li>
<li>
<p>updated() 第六个生命周期函数</p>
</li>
<li>
<p>在页面数据更新完毕</p>
</li>
<li>
<p>首先打印函数名称，确定函数执行；其次，验证此环节：数据已经更改，页面完成更新</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">   <span class="p">....</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="p">.....</span>
</span></span><span class="line"><span class="cl">            <span class="nx">beforeCreate</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;beforeCreate&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">created</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;created&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">beforeMount</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;beforeMount&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">mounted</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;mounted&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">beforeUpdate</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;beforeUpdate&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">updated</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;updated&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">n</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="kr">debugger</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>控制台效果</p>
  <img src="./images/image-20240922160534827.png" alt="image-20240922160534827" style="zoom:50%;" />
</li>
</ul>
<p>到此，整个更新流程结束。</p>
<p>更新流程 - 图解：</p>
<img src="./images/image-20240922160645734.png" alt="image-20240922160645734" style="zoom:50%;" />
<h3 id="生命周期_销毁流程">生命周期_销毁流程</h3>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>This is a tips<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>vm被销毁：</p>
<p>  使得该vm不再工作（数据变化时，不再继续解析了）</p>
<p>  但是原来工作的成果还在（即，已经被解析挂载的页面不会有变化）。</p>
<p>官方解释：https://cn.vuejs.org/v2/api/#vm-destroy</p>
<img src="./images/image-20240922162140663.png" alt="image-20240922162140663" style="zoom:50%;" />
</div>
        </div>
    </div>
<ul>
<li>beforeDestroy() 第七个生命周期函数</li>
<li>将要销毁前</li>
<li>这里是可以访问所有的vm中的所有数据和方法的，但是此时所有对数据的修改都不会再返过去触发更新流程了。即，这里所有的数据修改操作，页面都不会有任何效果。（值可以随便用，方法可以随便调，页面不会有变化）</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="p">.....</span>
</span></span><span class="line"><span class="cl">        <span class="nx">beforeDestroy</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;beforeDestroy&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">n</span><span class="p">);</span> <span class="c1">//能正常拿到
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">n</span> <span class="o">=</span> <span class="mi">99</span>  <span class="c1">//改行操作无用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    	<span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>destroyed() 第八个生命周期函数</li>
<li>销毁完毕</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="p">.....</span>
</span></span><span class="line"><span class="cl">        <span class="nx">beforeDestroy</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;beforeDestroy&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    	<span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nx">destroyed</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;destroyed&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>到此，整个销毁流程结束。</p>
<p>销毁流程 - 图解：</p>
<img src="./images/image-20240922163820858.png" alt="image-20240922163820858" style="zoom:50%;" />
<h3 id="生命周期_总结">生命周期_总结</h3>
<p>整个生命周期 - 图解：</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240922164458106.png"
        data-srcset="./images/image-20240922164458106.png, ./images/image-20240922164458106.png 1.5x, ./images/image-20240922164458106.png 2x"
        data-sizes="auto"
        alt="./images/image-20240922164458106.png"
        title="image-20240922164458106" /></p>
<p>4对生命周期钩子：</p>
<p>vm的一生(vm的生命周期):
  将要创建========&gt;调用beforeCreate函数。</p>
<p>  创建完毕========&gt;调用created函数。</p>
<p>  将要挂载========&gt;调用beforeMount。</p>
<p>  (重要)挂载完毕==&gt;调用mounted函数========&gt;【重要的钩子】
  将要更新========&gt;调用beforeUpdate数。</p>
<p>  更新完毕========&gt;调用updated函数。</p>
<p>  (重要)将要销毁==&gt;调用beforeDestroy函数。========&gt;【重要的钩子】</p>
<p>  销毁完毕========&gt;调用destroyed函数。
这块流程中：主要阐述8个钩子。还有3个常用的钩子，需要在特殊的场景才能被调用，我们会在路由小节中进行详细描述。</p>
<h1 id="第2章vue组件化编程">第2章：Vue组件化编程</h1>
<h2 id="20组件">20.组件</h2>
<p><strong>Vue组件化编程</strong></p>
<p>传统方式编写应用，存在2个问题：</p>
<p> 1、依赖关系混乱不好维护（一堆html引用一堆js和css）；</p>
<p> 2、代码复用率不高。</p>
<p><strong>组件的定义</strong>：</p>
<p> 实现应用中<strong>局部</strong>功能<strong>代码</strong>(html、js、css)和<strong>资源</strong>(mp3、gif)的<strong>集合</strong></p>
<p><strong>模块化</strong>：</p>
<p> 当用js来写的，并且将一个大的js按照模块分成多个不同的js来编写应用，就称为一个模块化应用</p>
<p><strong>组件化</strong>：</p>
<p> 当用组件来写，并且应用中的功能都是多个组件来编写的，就称为一个组件化的应用。</p>
<p> 组件复用不需要复制粘贴，只需要引用即可。非常方便。</p>
<h3 id="非单文件组件">非单文件组件</h3>
<p>一个文件中包含有n个组件。例如：a.html中有4个组件</p>
<img src="./images/image-20240922190503592.png" alt="image-20240922190503592" style="zoom:50%;" />
<h3 id="单文件组件">单文件组件</h3>
<p>一个文件中只包含有1个组件。例如：a.vue中有且只有唯一一个组件</p>
<img src="./images/image-20240922190654374.png" alt="image-20240922190654374" style="zoom:50%;" />
<h3 id="vue中使用组件的三步">Vue中使用组件的三步</h3>
<p>1、创建组件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"> <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//创建school组件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>       <span class="kr">const</span> <span class="nx">school</span> <span class="o">=</span> <span class="nx">Vue</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//组件定义时，一定不要写el配置项
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//因为最终所有的组件都要被一个vm管理，由vm决定服务于哪个容器
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//el:&#39;#el&#39;,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//data这里必须写成函数形式
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//在return中返回你要设置的data内容
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">//这个问题在el于data的写法小节有铺垫过
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">//原因就是：data对象式直接使用了同一个对象，导致多方调用时，相互影响。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">//而data函数形式，每一次调用都是return创建的一个新的对象，解决了多方调用被相互影响的问题。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;某学校&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">address</span><span class="o">:</span><span class="s1">&#39;某地址&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nx">template</span><span class="o">:</span><span class="sb">`
</span></span></span><span class="line"><span class="cl"><span class="sb">        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;h2&gt;学校名称：{{name}}&lt;/h2&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;h2&gt;学校地址：{{address}}&lt;/h2&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">        `</span>
</span></span><span class="line"><span class="cl">       <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="c1">//创建student组件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>       <span class="kr">const</span> <span class="nx">student</span> <span class="o">=</span> <span class="nx">Vue</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;张三&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">age</span><span class="o">:</span><span class="s1">&#39;18&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nx">template</span><span class="o">:</span><span class="sb">`
</span></span></span><span class="line"><span class="cl"><span class="sb">        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;h2&gt;学生名称：{{name}}&lt;/h2&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;h2&gt;学生年龄：{{age}}&lt;/h2&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">        `</span>
</span></span><span class="line"><span class="cl">       <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#el&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>2、注册组件</p>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>全局注册</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="nx">Vue</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">&#39;school&#39;</span><span class="p">,</span><span class="nx">school</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#el&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//全新配置项
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//注册组件（局部注册）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">components</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">school</span><span class="o">:</span><span class="nx">school</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">student</span><span class="o">:</span><span class="nx">student</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>3、编写组件标签，使用组件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id </span><span class="o">=</span> <span class="s">&#34;el&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">         <span class="c">&lt;!--</span> <span class="nx">编写组件标签</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">school</span><span class="p">&gt;&lt;/</span><span class="nt">school</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">student</span><span class="p">&gt;&lt;/</span><span class="nt">student</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>实现效果以及Vue开发者工具节点体现如图：</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240922194733789.png"
        data-srcset="./images/image-20240922194733789.png, ./images/image-20240922194733789.png 1.5x, ./images/image-20240922194733789.png 2x"
        data-sizes="auto"
        alt="./images/image-20240922194733789.png"
        title="image-20240922194733789" /></p>
<h3 id="细节点注意">细节点注意</h3>
<p> 1.关于组件名:
  一个单词组成:
   第一种写法(首字母小写):school
   第二种写法(首字母大写):School</p>
<p>  多个单词组成:
   第一种写法(kebab-case命名):my-school</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">my-school</span><span class="p">&gt;&lt;/</span><span class="nt">my-school</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">components</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="s1">&#39;my-school&#39;</span><span class="o">:</span><span class="nx">school</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>   第二种写法(CamelCase命名):MySchool(需要Vue脚手架支持)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">不在Vue脚手架里会报错</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">MySchool</span><span class="p">&gt;&lt;/</span><span class="nt">MySchool</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">components</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">MySchool</span><span class="o">:</span><span class="nx">school</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>  备注:
   (1).组件名尽可能回避HTML中已有的元素名称，例如:h2、H2都不行。
   (2).可以使用name配置项指定组件在开发者工具中呈现的名字。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="kr">const</span> <span class="nx">student</span> <span class="o">=</span> <span class="nx">Vue</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//自定义组件名字 - 没有这个就取注册时候的key:value的key值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;student&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="p">....</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nx">template</span><span class="o">:</span><span class="p">....</span>
</span></span><span class="line"><span class="cl">       <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p> 2.关于组件标签:</p>
<p>  第一种写法:<code>&lt;school&gt;&lt;/school&gt;</code></p>
<p>  第二种写法:<code>&lt;schoo1/&gt;</code></p>
<p>  备注:不用使用脚手架时，<code>&lt;school/&gt;</code>会导致后续组件不能渲染</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">两种写法</span><span class="err">：</span><span class="nx">页面均可正常渲染school组件</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">myshool</span><span class="p">&gt;&lt;/</span><span class="nt">myshool</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">myshool</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">页面渲染三个school组件</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">myshool</span><span class="p">&gt;&lt;/</span><span class="nt">myshool</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">myshool</span><span class="p">&gt;&lt;/</span><span class="nt">myshool</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">myshool</span><span class="p">&gt;&lt;/</span><span class="nt">myshool</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">页面只渲染一个school组件</span><span class="err">，</span><span class="nx">后面的不再渲染</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">myshool</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">myshool</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">myshool</span><span class="p">/&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p> 3.一个简写方式:
  const  school =Vue.extend(options)可简写为:const school = options</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"> <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">     <span class="c1">//主动调用组件扩展方法extend
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>       <span class="kr">const</span> <span class="nx">student</span> <span class="o">=</span> <span class="nx">Vue</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">              <span class="p">...</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nx">template</span><span class="o">:</span><span class="p">....</span>
</span></span><span class="line"><span class="cl">       <span class="p">})</span>
</span></span><span class="line"><span class="cl">           
</span></span><span class="line"><span class="cl">     <span class="c1">//简写
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>     <span class="kr">const</span> <span class="nx">student</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">              <span class="p">...</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nx">template</span><span class="o">:</span><span class="p">....</span>
</span></span><span class="line"><span class="cl">       <span class="p">}</span> 
</span></span><span class="line"><span class="cl">     
</span></span><span class="line"><span class="cl">      <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#el&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//注册组件时判断：有写extend直接使用组件，没有则帮忙调用extend之后使用组件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">components</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">school</span><span class="o">:</span><span class="nx">school</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="组件的嵌套">组件的嵌套</h3>
<p>下方是三个组件的嵌套。</p>
<p>所有的组件都嵌在app组件中，app组件中有同级school组件、hello组件，school组件中含有student组件、</p>
<p>代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span><span class="nx">Document</span><span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;../js/vue.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id </span><span class="o">=</span> <span class="s">&#34;el&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">app</span><span class="p">&gt;&lt;/</span><span class="nt">app</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//创建student组件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="kr">const</span> <span class="nx">student</span> <span class="o">=</span> <span class="nx">Vue</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">                <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;张三&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">age</span><span class="o">:</span><span class="s1">&#39;18&#39;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="nx">template</span><span class="o">:</span><span class="sb">`
</span></span></span><span class="line"><span class="cl"><span class="sb">        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;h2&gt;学生名称：{{name}}&lt;/h2&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;h2&gt;学生年龄：{{age}}&lt;/h2&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">        `</span>
</span></span><span class="line"><span class="cl">            <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1">//创建school组件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="kr">const</span> <span class="nx">school</span> <span class="o">=</span> <span class="nx">Vue</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">                <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;某学校&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">address</span><span class="o">:</span><span class="s1">&#39;某地址&#39;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="nx">template</span><span class="o">:</span><span class="sb">`
</span></span></span><span class="line"><span class="cl"><span class="sb">        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;h2&gt;学校名称：{{name}}&lt;/h2&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;h2&gt;学校地址：{{address}}&lt;/h2&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;!-- 2在哪里注册的，在哪个模版中写 --&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;student&gt;&lt;/student&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">        `</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//注册组件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">components</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//1定义组件的代码，要写在注册组件之前（比如这里的14~27行代码，必须在49行代码之前）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="c1">//简写
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">student</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="kr">const</span> <span class="nx">hello</span> <span class="o">=</span> <span class="nx">Vue</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">                <span class="nx">template</span><span class="o">:</span><span class="sb">`&lt;h1&gt;你好鸭！欢迎来进行学习~&lt;/h1&gt;`</span>
</span></span><span class="line"><span class="cl">            <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">Vue</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">                <span class="nx">template</span><span class="o">:</span><span class="sb">`
</span></span></span><span class="line"><span class="cl"><span class="sb">        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;hello&gt;&lt;/hello&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;school&gt;&lt;/school&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">        `</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">components</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">hello</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">school</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">                <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#el&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//注册组件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">components</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//简写
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">app</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">})</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>页面及控制台运行效果：</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240924151136609.png"
        data-srcset="./images/image-20240924151136609.png, ./images/image-20240924151136609.png 1.5x, ./images/image-20240924151136609.png 2x"
        data-sizes="auto"
        alt="./images/image-20240924151136609.png"
        title="image-20240924151136609" /></p>
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>1 定义组件的代码，要写在注册组件之前</p>
<p>2 子组件只能写在，注册的父组件的模版template中</p>
</div>
        </div>
    </div>
<h3 id="vuecomponent结构函数">VueComponent结构函数</h3>
<p>关于VueComponent：
1.school组件本质是一个名为VueComponent的构造函数，且不是程序员定义的，是Vue.extend生成的</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">school</span> <span class="o">=</span> <span class="nx">Vue</span><span class="p">.</span><span class="nx">extend</span><span class="p">({})</span>
</span></span><span class="line"><span class="cl"><span class="c1">//定义组件后，打印组件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;@&#34;</span><span class="p">,</span><span class="nx">school</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>控制台输出为：</p>
<img src="./images/image-20240924152810304.png" alt="image-20240924152810304" style="zoom: 67%;" />
<p>这里可以看出，其是一个函数。严谨上来讲，我们称其为构造函数，其调用方式应该为<code>new VueComponent()</code></p>
<p>我们打开Vue.js查找VueComponent函数，打印一段文字。我们会发现，当我们使用组件时候，使用一次就调一次该函数。即，有一个<code>&lt;school&gt;&lt;/school&gt;</code>调一次new，有三个，就调3次。</p>
<p>2.我们只需要写<code>&lt;school/&gt;</code>或<code>&lt;school&gt;&lt;/school&gt;</code>，Vue解析时会帮我们创建school组件的实例对象，即Vue帮我们执行的：new VueComponent(options)。</p>
<p>3.特别注意：每次调用Vue.extend，返回的都是一个全新的VueComponent！！！！</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">school</span> <span class="o">=</span> <span class="nx">Vue</span><span class="p">.</span><span class="nx">extend</span><span class="p">({})</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">student</span> <span class="o">=</span> <span class="nx">Vue</span><span class="p">.</span><span class="nx">extend</span><span class="p">({})</span>
</span></span><span class="line"><span class="cl"><span class="c1">//定义组件后，打印组件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;@&#34;</span><span class="p">,</span><span class="nx">school</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;@&#34;</span><span class="p">,</span><span class="nx">student</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//打印出来的东西，看起来都是长一样的，都是VueComponent
</span></span></span><span class="line"><span class="cl"><span class="c1">//但是是两个全新的，各自独立的，功能长相都一样的 VueComponent
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//-----------------验证-----------------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">school</span> <span class="o">===</span> <span class="nx">student</span><span class="p">);</span> <span class="c1">//false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nx">school</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">99</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">school</span><span class="p">.</span><span class="nx">a</span><span class="p">);</span>  <span class="c1">//99
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">student</span><span class="p">.</span><span class="nx">a</span><span class="p">);</span> <span class="c1">//undefind
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>4.关于this指向：</p>
<p> (1).组件配置中：</p>
<p>  data函数、methods中的函数、watch中的函数、computed中的函数它们的this均是【VueComponent实例对象】</p>
<p> (2).new Vue()配置中：</p>
<p>  data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是【Vue实例对象】</p>
<p>5.VueComponent的实例对象，以后简称vc(也可称之为:组件实例对象)。</p>
<p> Vue的实例对象，以后简称vm。</p>
<p>控制台输出vm，结构里面能通过$children很清晰的看见各个组件的 结构关系，和上下管理层级关系。</p>
<img src="./images/image-20240924155219872.png" alt="image-20240924155219872" style="zoom:50%;" />
<h3 id="vue实例--组件实例">Vue实例 &amp; 组件实例</h3>
<p>vm和vc从结构上来看基本上一致，但并不是完全一致，并不是完全相等的两个东西。</p>
<p>首先，vm是Vue创建实例的时候，生成的实例对象；vc是VueComponent创建实例的时候，生成的实例对象。</p>
<p>Vue生成实例对象和VueComponent生成实例对象的缔造过程并不是一模一样的！所以他们两并不是完全一样的</p>
<p>其次，vm中是可以使用el配置项的，用于指定服务于哪个容器；vc中是不能使用el的</p>
<p>再有，vm中的data可以写成data:{}，也可以写成data(){}；但是vc中data只能写成data(){return }函数形式</p>
<h3 id="内置关系">内置关系</h3>
<p>首先复习一个js上的属性概念：<code>.prototype</code> &amp; <code>.__proto__</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//定义一个构造函数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">function</span> <span class="nx">Demo</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//创建一个Demo的实例对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Demo</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//显式原型属性
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//只有function函数才有这个属性，实例对象是没有的
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//一般通过该条:程序员追加值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Demo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span> <span class="c1">//打印输出为 原型对象{}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//隐式原型属性
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//实例对象默认都带有这个属性
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//一般通过该条程序自动访问值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">__proto__</span><span class="p">);</span><span class="c1">//也打印输出为 原型对象{} ,且与上面的长得一样
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">//通过 显式原型属性 操作原型对象，追加一个x属性
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">Demo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">99</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//手动通过这种方式访问值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//发现是同步更新到值的
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">__proto__</span><span class="p">.</span><span class="nx">x</span><span class="p">);</span> <span class="c1">//99
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">//验证两个原型对象是否是完全相同的
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Demo</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">===</span> <span class="nx">d</span><span class="p">.</span><span class="nx">__proto__</span><span class="p">);</span> <span class="c1">//true 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">//通过Demo的实例对象访问
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span>  <span class="c1">//Demo{a=1,b=2}  这里，Demo表示后面的{}里的对象内容，是由Demo缔造出来的
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">x</span><span class="p">);</span> <span class="c1">//99   
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">//为什么输出的d带着Demo
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//表示这个{}对象是谁构造出来的
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//例如
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">function</span> <span class="nx">school</span><span class="p">(){}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">student</span><span class="p">(){}</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">school</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">ss</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">student</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span> <span class="c1">//school{}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ss</span><span class="p">);</span><span class="c1">//student{}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//这里如果没有前面的这个名字，则分不清对象来自于哪里
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>由此引入一个重要的内置关系：</p>
<p><code>VueComponent.prototype.__proto__ === Vue.prototype</code></p>
<p>这个关系的作用：</p>
<p>让组件实例对象vc可以访问到Vue原型上的属性、方法</p>
<p>这是Vue独有的：增加了，vc原型对象的原型对象指向vm的原型对象。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">因为有这个内置关系</span><span class="err">：</span><span class="nx">使得组件里this</span><span class="p">.</span><span class="nx">x打印输出为99</span> <span class="nx">得以实现</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id </span><span class="o">=</span> <span class="s">&#34;el&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">school</span><span class="p">&gt;&lt;/</span><span class="nt">school</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">     <span class="nx">Vue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">99</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="c1">//创建school组件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>       <span class="kr">const</span> <span class="nx">school</span> <span class="o">=</span> <span class="nx">Vue</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;某学校&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">address</span><span class="o">:</span><span class="s1">&#39;某地址&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nx">template</span><span class="o">:</span><span class="sb">`
</span></span></span><span class="line"><span class="cl"><span class="sb">        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;h2&gt;学校名称：{{name}}&lt;/h2&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;h2&gt;学校地址：{{address}}&lt;/h2&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;button @click=&#34;onChange&#34;&gt;点击获取x的值&lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="sb">        `</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">onchange</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">alert</span><span class="p">(</span><span class="s2">&#34;当前x的值是&#34;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">       <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#el&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">components</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">school</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="单文件组件-1">单文件组件</h3>
<p>单文件组件，均是以<code>xxxx.vue</code>的文件</p>
<p>命名规范：</p>
<p>一个单词的文件命名为：<code>school.vue</code>，<code>School.vue</code></p>
<p>多个单词的文件命名为：<code>my-school.vue</code>，<code>MySchool.vue</code></p>
<p>一般我们都使用大写字母开头进行命名，主要是为了和开发者工具那边的根节点结构展示的名字一样【这边写成小写开头，那边也会默认显示为大写】。</p>
<h4 id="1新建一个单文件组件schoolvue">1新建一个单文件组件School.vue</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="p">.</span><span class="nx">vue文件中主要是</span><span class="err">：</span><span class="nx">页面资源的合集</span><span class="err">，</span><span class="nx">即html</span><span class="err">、</span><span class="nx">css</span><span class="err">、</span><span class="nx">js</span> 
</span></span><span class="line"><span class="cl">	<span class="nx">为了迎合常见的前端三种资源显示的写法</span><span class="err">，</span><span class="nx">vue提供了三个标签</span>
</span></span><span class="line"><span class="cl"><span class="nx">分别是</span><span class="err">：</span>
</span></span><span class="line"><span class="cl">    <span class="mi">1</span><span class="err">、</span><span class="nx">组件的结构标签</span><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="mi">2</span><span class="err">、</span><span class="nx">组件的交互标签</span><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="mi">3</span><span class="err">、</span><span class="nx">组件的样式标签</span><span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">这里就能看出</span><span class="err">“</span><span class="nx">非单文件</span><span class="err">”</span><span class="nx">的一个弊端</span><span class="err">：</span>
</span></span><span class="line"><span class="cl"><span class="nx">组件的样式是不能单独写的</span><span class="err">，</span><span class="nx">是公共写公共引用的</span>
</span></span><span class="line"><span class="cl"><span class="err">“</span><span class="nx">单文件</span><span class="err">”</span><span class="nx">的样式</span><span class="err">，</span><span class="nx">一个文件一个</span><span class="err">，</span><span class="nx">是独立的</span>    <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">组件的结构标签</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;demo&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">学校名称</span><span class="err">：</span><span class="p">{{</span><span class="nx">name</span><span class="p">}}&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">学校地址</span><span class="err">：</span><span class="p">{{</span><span class="nx">address</span><span class="p">}}&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;onChange&#34;</span><span class="p">&gt;</span><span class="na">点击获取x的值</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="err">&lt;!--</span> <span class="na">组件的交互标签</span> <span class="err">--</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//组件需要被引用，外部使用import
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//这儿有三种暴露方式：
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// export const school = Vue.extend({})//1分别暴露
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// export{school}//2统一暴露
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// export default school //3默认暴露
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">//我们一般使用默认暴露，因为引用时比较简单，只需要import 起名 from vue文件的位置；
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//export default Vue.extend({})
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//由于Vue.extend不写vue也会自动帮我们调用，所以这里可以简写
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">export</span> <span class="k">default</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;School&#39;</span><span class="p">,</span><span class="c1">//和文件名保持一致，开发者工具呈现的是这儿的名字
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;某学校&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">address</span><span class="o">:</span><span class="s1">&#39;某地址&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">x</span><span class="o">:</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">onchange</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">alert</span><span class="p">(</span><span class="s2">&#34;当前x的值是&#34;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">组件的样式标签</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="nx">demo</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">background</span><span class="o">-</span><span class="nx">color</span><span class="o">:</span> <span class="nx">aqua</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="2新建一个总体管理的顶级父组件appvue">2新建一个总体管理的顶级父组件App.vue</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">这儿的div必须有</span><span class="err">，</span><span class="nx">保证根节点</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"> <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">School</span><span class="p">&gt;&lt;/</span><span class="nt">School</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"> <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">//引入组件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="nx">School</span> <span class="nx">from</span> <span class="s1">&#39;./School.vue&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">School</span> <span class="nx">from</span> <span class="s1">&#39;./School.vue&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kr">export</span> <span class="k">default</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;App&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//注册
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">components</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">           <span class="nx">School</span> 
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="3新建一个入口文件mainjs">3新建一个入口文件main.js</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//vue脚手架选择了main.js用来调用new Vue()创建vm实例对象
</span></span></span><span class="line"><span class="cl"><span class="c1">//引入App
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="nx">App</span> <span class="nx">from</span> <span class="s2">&#34;./App.vue&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">el</span><span class="o">:</span><span class="s2">&#34;#root&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">componements</span><span class="o">:</span><span class="p">{</span><span class="nx">App</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span> 
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="4新建一个根容器文件indexhtml">4新建一个根容器文件index.html</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1.0&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span><span class="nx">Document</span><span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">指定容器</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">     <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">引用App</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">         <span class="p">&lt;</span><span class="nt">App</span><span class="p">&gt;&lt;/</span><span class="nt">App</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">     <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="c">&lt;!--</span> <span class="nx">在模块加载完毕后引入</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">     <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;../js/vue.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">     <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;./main.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span> <span class="c">&lt;!--</span> <span class="nx">main</span><span class="p">.</span><span class="nx">js入口文件</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>整个单文件组件引用流程和书写规范就结束了，主要的文件如图：</p>
<img src="./images/image-20240925044635221.png" alt="image-20240925044635221" style="zoom:50%;" />
<p><code>xxxx.vue</code>文件运行，借助：</p>
<p>1、自己单独使用webpack 搭建工作流，借助一些第三方插件和node将.vue文件转换 成 .html 文件使得浏览器能够运行</p>
<p>2、Vue脚手架【vue官方团队，也是通过webpack经过一些node借助一些第三方插件打造的一个工作流，是一个搭建好的一个编译环境，可以直接使用】</p>
<p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-所以，我们这里阐述vue脚手架的内容&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;</p>
<h1 id="第3章使用vue脚手架">第3章：使用Vue脚手架</h1>
<h2 id="21vue脚手架">21.Vue脚手架</h2>
<h3 id="创建vue脚手架">创建Vue脚手架</h3>
<h4 id="1说明">1说明</h4>
<ul>
<li>Vue脚手架是Vue官方提供的标准化开发工具（开发平台）</li>
<li>最新的版本是4.x</li>
<li>官方文档：https://cli.vuejs.org/zh/。</li>
<li>CLI的全称是 command line interface 直译过来是：命令行接口工具</li>
</ul>
<h4 id="2具体步骤">2具体步骤</h4>
<p>第一步（仅第一次执行）：全局安装@vue/cli</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">npm install -g @vue/cli
</span></span></code></pre></td></tr></table>
</div>
</div><p>第二步：切换到你要创建项目的目录，然后使用命令创建项目</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">vue create xxxx
</span></span></code></pre></td></tr></table>
</div>
</div><p>提示选择用哪个版本的Vue创建项目，这里移动光标，选择Vue2，回车</p>
<img src="./images/image-20240929225751625.png" alt="image-20240929225751625" style="zoom:50%;" />
<ul>
<li>babel：ES6转ES5需要用到的语法编译器</li>
<li>eslint：语法检查器</li>
<li>等待创建</li>
</ul>
<img src="./images/image-20240929230051839.png" alt="image-20240929230051839" style="zoom:50%;" />
<ul>
<li>创建完成</li>
</ul>
<img src="./images/image-20240929230146283.png" alt="image-20240929230146283" style="zoom:50%;" />
<p>第三步：启动项目</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">npm run serve
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>按步骤执行</li>
</ul>
<img src="./images/image-20240929230433069.png" alt="image-20240929230433069" style="zoom:50%;" />
<ul>
<li>启动成功</li>
</ul>
<img src="./images/image-20240929230450281.png" alt="image-20240929230450281" style="zoom:50%;" />
<ul>
<li>打开页面</li>
</ul>
<img src="./images/image-20240929230656743.png" alt="image-20240929230656743" style="zoom:50%;" />
<ul>
<li>停止程序</li>
<li>crtl+c 连续两次即可</li>
</ul>
<img src="./images/image-20240929230952969.png" alt="image-20240929230952969" style="zoom:50%;" />
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>备注：</p>
<p>1、如果出现下载缓慢请配置npm淘宝镜像：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">//该镜像已经过期
</span></span><span class="line"><span class="cl">npm config <span class="nb">set</span> registry https://registry.npm.taobao.org
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">//请使用下面的最新的镜像
</span></span><span class="line"><span class="cl">npm config <span class="nb">set</span> registry https://registry.npmmirror.com
</span></span></code></pre></td></tr></table>
</div>
</div><p>2、Vue脚手架隐藏了所有webpack相关的配置，若想查看具体的webpack配置，请执行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">vue inspect &gt; output.js
</span></span></code></pre></td></tr></table>
</div>
</div><p>3、执行完install命令，退出命令窗口，重新cmd打开，再输入vue测试是否安装成功。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">//退回到上一层目录
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> 
</span></span><span class="line"><span class="cl">//清空上面所有记录
</span></span><span class="line"><span class="cl">cls
</span></span><span class="line"><span class="cl">//新建一个文件夹
</span></span><span class="line"><span class="cl">mkdir
</span></span></code></pre></td></tr></table>
</div>
</div><p>4、vue create xxxx命令创建的项目中，包含</p>
<ul>
<li>vue脚手架</li>
<li>官方给你写好的HelloWord例子</li>
</ul>
</div>
        </div>
    </div>
<h3 id="分析脚手架结构">分析脚手架结构</h3>
<p>将项目用vscode打开，同样用终端启动。分析项目中对应文件的作用。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240929231452099.png"
        data-srcset="./images/image-20240929231452099.png, ./images/image-20240929231452099.png 1.5x, ./images/image-20240929231452099.png 2x"
        data-sizes="auto"
        alt="./images/image-20240929231452099.png"
        title="image-20240929231452099" /></p>
<h4 id="gitignore">.gitignore</h4>
<p>哪些文件或者文件夹不想接受git管理，在<code>.gitignore</code>这个文件中配置</p>
<img src="./images/image-20240929231632009.png" alt="image-20240929231632009" style="zoom:50%;" />
<h4 id="babelconfigjs">babel.config.js</h4>
<p>demo的控制文件。配置一些ES6转ES5的规则。【不需要我们去修改】</p>
<img src="./images/image-20240929231929331.png" alt="image-20240929231929331" style="zoom:50%;" />
<h4 id="packagejson">package.json</h4>
<p>包的说明书。你的包叫什么名字，什么版本，使用的一些依赖，引入的一些库，一些短命令。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240929232532554.png"
        data-srcset="./images/image-20240929232532554.png, ./images/image-20240929232532554.png 1.5x, ./images/image-20240929232532554.png 2x"
        data-sizes="auto"
        alt="./images/image-20240929232532554.png"
        title="image-20240929232532554" /></p>
<h4 id="package-lockjson">package-lock.json</h4>
<p>包管理器。包版本控制文件。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240929232758923.png"
        data-srcset="./images/image-20240929232758923.png, ./images/image-20240929232758923.png 1.5x, ./images/image-20240929232758923.png 2x"
        data-sizes="auto"
        alt="./images/image-20240929232758923.png"
        title="image-20240929232758923" /></p>
<h4 id="readmemd">README.md</h4>
<p>对整个工程进行一个说明或者一个描述</p>
<h4 id="src">src</h4>
<p>下面的4个四个文件：</p>
<ul>
<li>assets - 一般放前端的静态资源：例如图片</li>
<li>components</li>
<li>App.vue - 顶级父组件</li>
<li>main.js - 入口文件</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240929234000016.png"
        data-srcset="./images/image-20240929234000016.png, ./images/image-20240929234000016.png 1.5x, ./images/image-20240929234000016.png 2x"
        data-sizes="auto"
        alt="./images/image-20240929234000016.png"
        title="image-20240929234000016" /></p>
<h4 id="public">public</h4>
<p>下面两个文件：</p>
<ul>
<li>favicon.ico - 网站图标</li>
<li>index.html - 主页面</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240929235234843.png"
        data-srcset="./images/image-20240929235234843.png, ./images/image-20240929235234843.png 1.5x, ./images/image-20240929235234843.png 2x"
        data-sizes="auto"
        alt="./images/image-20240929235234843.png"
        title="image-20240929235234843" /></p>
<h2 id="22render函数">22.render函数</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">render</span><span class="o">:</span> <span class="nx">h</span> <span class="p">=&gt;</span> <span class="nx">h</span><span class="p">(</span><span class="nx">App</span><span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">}).</span><span class="nx">$mount</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>替换成</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">render</span><span class="p">(</span><span class="nx">createElement</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">,</span><span class="s1">&#39;你好啊&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}).</span><span class="nx">$mount</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>发现页面正常显示：</p>
<img src="./images/image-20241001114506556.png" alt="image-20241001114506556" style="zoom:50%;" />
<p>由此可以知道，render：是vue帮我们调用的，且利用入参createElement函数帮我们编译模板。</p>
<p>上面的代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">render</span><span class="p">(</span><span class="nx">createElement</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">,</span><span class="s1">&#39;你好啊&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>简化可以写成：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//函数写成箭头函数
</span></span></span><span class="line"><span class="cl"><span class="c1">//render:(createElement) =&gt;{return createElement(&#39;h1&#39;,&#39;你好啊&#39;)}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//一个入参，可以去掉括号
</span></span></span><span class="line"><span class="cl"><span class="c1">//render:createElement =&gt;{return createElement(&#39;h1&#39;,&#39;你好啊&#39;)}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//一个唯一返参，可以去掉return
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">render</span><span class="o">:</span><span class="nx">createElement</span> <span class="p">=&gt;</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">,</span><span class="s1">&#39;你好啊&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//这便是main.js中写入模版精简的形式
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">render</span><span class="o">:</span> <span class="nx">h</span> <span class="p">=&gt;</span> <span class="nx">h</span><span class="p">(</span><span class="nx">App</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>讨论main.js中的render函数的作用</p>
<img src="./images/image-20241001105750317.png" alt="image-20241001105750317" style="zoom:50%;" />
<p>我们之前独自写过main.js，格式是这样的：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">App</span> <span class="nx">from</span> <span class="s2">&#34;./App.vue&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">el</span><span class="o">:</span><span class="s2">&#34;#root&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">template</span><span class="o">:</span><span class="sb">`&lt;App&gt;&lt;/App&gt;`</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">componements</span><span class="o">:</span><span class="p">{</span><span class="nx">App</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>那为什么vue创建的main.js不这么写呢。</p>
<p>我们将上面这段代码copy后，放入脚手架中，编译项目，可以看见控制台报错：</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20241001110446581.png"
        data-srcset="./images/image-20241001110446581.png, ./images/image-20241001110446581.png 1.5x, ./images/image-20241001110446581.png 2x"
        data-sizes="auto"
        alt="./images/image-20241001110446581.png"
        title="image-20241001110446581" /></p>
<p>我们去调查，为什么vue不完整</p>
<p>在Es6引入第三方库的时候，我们一般写到某个路径下具体某个文件<code>xxx.js</code></p>
<p>在vue引入第三方库的时候，我们一般只写到它的名字。</p>
<p>那么它具体引入的是哪个js，按住ctrl键，点击：</p>
<img src="./images/image-20241001111013725.png" alt="image-20241001111013725" style="zoom:50%;" />
<p>点击引用的vue文件，可以看到来到了node_moudles中</p>
<img src="./images/image-20241001111812948.png" alt="image-20241001111812948" style="zoom:50%;" />
<p>这儿能看见整个vue包含的文件。其实，<code>main.js</code>中<code>import Vue from 'vue'</code>只写到了这个vue包文件夹，具体指向的哪个js文件，需要依赖配置项：</p>
<p><code>package.json</code>中的<code>module</code>的配置js。</p>
<p>这里可以看到是<code>dist/vue.runtime.esm.js</code>。这个js是个精简版的vuejs，它将模版解析器精简掉了，所以他没办法解析<code>template</code>配置项，产生报错。</p>
<img src="./images/image-20241001112144246.png" alt="image-20241001112144246" style="zoom:50%;" />
<p>打开<code>dist</code>文件夹，我们可以看见他下方有很多个vuejs，但是只有<code>Vue.js</code>是完整版的，其余的都是在它的基础上精简或者稍加改变的。</p>
<img src="./images/image-20241001113054685.png" alt="image-20241001113054685" style="zoom:50%;" />
<p>那么问题找到了，我们将<code>main.js</code>包中的引入换成完整版的：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">Vue</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>替换为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">Vue</span> <span class="nx">from</span> <span class="s1">&#39;vue/dist/vue&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>重新编译后，页面和控制台：</p>
<img src="./images/image-20241001113419710.png" alt="image-20241001113419710" style="zoom:50%;" />
<p>模版编译成功，控制台无报错。</p>
<p>为什么不使用这个完整版的vue呢。</p>
<p><code>vue.runtime.esm.js</code>体积小，打包以后体积还能更小一点。且模版编译器最终，不应该出现在我们最终打包好的文件内。</p>
<img src="./images/image-20241001121512606.png" alt="image-20241001121512606" style="zoom:50%;" />
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p><strong>注意：</strong></p>
<p>组件中也有template标签，但是不用render函数去编译解析。</p>
<p>在<code>package.json</code>中专门引入了依赖包，去解析组件中的模版标签。</p>
<ul>
<li><strong>只有vm中的模版标签它解析不了，需要使用render函数</strong></li>
<li><strong>脚手架中一般只有一个vm，render也只会在vm中出现一次</strong></li>
</ul>
<img src="./images/image-20241001122251468.png" alt="image-20241001122251468" style="zoom:50%;" />
</div>
        </div>
    </div>
<h2 id="23修改默认配置">23.修改默认配置</h2>
<p><strong>脚手架的默认配置</strong></p>
<p>为了安全Vue将配置的文件隐藏起来，使用下面的这个命令可以将隐藏的文件形成一个.js文件显示在项目的根目录：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">Vue inspect &gt; output.js
</span></span></code></pre></td></tr></table>
</div>
</div><p>虽然<code>output.js</code>是可以看见默认配置的，但是对这个文件的修改是无效果的。</p>
<p>如果要自定义配置，可以在项目的根目录下，新建一个文件<code>vue.config.js</code></p>
<p><strong>修改脚手架默认配置</strong></p>
<p>官方文档解释位置：https://cli.vuejs.org/zh</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20241001181644250.png"
        data-srcset="./images/image-20241001181644250.png, ./images/image-20241001181644250.png 1.5x, ./images/image-20241001181644250.png 2x"
        data-sizes="auto"
        alt="./images/image-20241001181644250.png"
        title="image-20241001181644250" /></p>
<p>例如，我们把main入口文件的名字改成自定义</p>
<img src="./images/image-20241001182021930.png" alt="image-20241001182021930" style="zoom:80%;" />
<p>原理：</p>
<ul>
<li>Vue底层基于webpack，webpack基于node</li>
<li>使用文件<code>vue.config.js</code>中的这块，重写webpack中修改的这一部分</li>
<li>使得核心部分能有修改入口，且不会对基本核心内部进行破坏造成影响</li>
</ul>
<h2 id="24ref属性">24.ref属性</h2>
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p><strong>ref属性</strong></p>
<ul>
<li>
<p>1.被用来给元素或子组件注册引用信息(id的替代者)</p>
</li>
<li>
<p>2.应用在htmi标签上获取的是真实DOM元素，应用在组件标签上是组件实例对象(vc)</p>
</li>
<li>
<p>3.使用方式:</p>
<p>打标识:<code>&lt;h1 ref=&quot;xxx&quot;&gt;.....&lt;/h1&gt;</code>或<code>&lt;School ref=&quot;xxx&quot;&gt;&lt;/School&gt;</code>获取:<code>this.$refs.xxx</code></p>
</li>
</ul>
</div>
        </div>
    </div>
<p>获取Dom元素，原始写法：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;text&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>用ref写法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">ref</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;text&#34;</span><span class="p">&gt;</span><span class="nx">text</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">School</span> <span class="na">ref</span><span class="o">=</span><span class="s">&#34;sch&#34;</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;sch&#34;</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">....</span>
</span></span><span class="line"><span class="cl"><span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">showDOM</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//组件里的this都是vc
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//输出的是h1的整个DOM元素 - 基本标签ref可以当id用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$refs</span><span class="p">.</span><span class="nx">text</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;text&#34;</span><span class="p">))</span><span class="c1">//结果同上
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        
</span></span><span class="line"><span class="cl">        <span class="c1">//输出的是组件school的vc实例对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$refs</span><span class="p">.</span><span class="nx">sch</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//输出的是组件模版解析后的真实DOM
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;sch&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>看一下输出ref：</p>
<img src="./images/image-20241001185145083.png" alt="image-20241001185145083" style="zoom:50%;" />
<p>看一下输出id：</p>
<img src="./images/image-20241001185116235.png" alt="image-20241001185116235" style="zoom:50%;" />
<h2 id="25_props配置">25._props配置</h2>
<p><strong>props的作用</strong>：让组件接收外部传过来的数据</p>
<p>组件外属性传值：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">student</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;张三&#34;</span> <span class="na">sex</span><span class="o">=</span><span class="s">&#34;男&#34;</span> <span class="na">age</span><span class="o">=</span><span class="s">&#34;18&#34;</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>组件内接受，三种写法：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//简单接受
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">props</span><span class="o">:</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;age&#39;</span><span class="p">,</span><span class="s1">&#39;sex&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//接受的同时对数据进行类型限制
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">props</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span><span class="o">:</span><span class="nb">String</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sex</span><span class="o">:</span><span class="nb">String</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">age</span><span class="o">:</span><span class="nb">Number</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//接受时限制是否必传、默认值以及类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">props</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">type</span><span class="o">:</span><span class="nb">String</span><span class="p">,</span> <span class="c1">//限制name类型为String
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">required</span><span class="o">:</span><span class="kc">true</span> <span class="c1">//且为必传
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sex</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">type</span><span class="o">:</span><span class="nb">Number</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="k">default</span><span class="o">:</span><span class="mi">99</span> <span class="c1">//不必传，没传时默认99
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">age</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">type</span><span class="o">:</span><span class="nb">String</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="nx">required</span><span class="o">:</span><span class="kc">true</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>备注:props是只读的，Vue底层会监测你对props的修改，如果进行了修改，就会发出警告，若业务需求确实需要修改，那么请复制props的内容到data中一份，然后去修改data中的数据。</p>
<p>例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="mi">19</span><span class="p">;</span> <span class="c1">//页面有效果，控制台有警告
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Vue不建议在组件内部，修改外部传入的属性的属性值。</p>
<p>一般做法：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//使用一个中间变量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl"><span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">changeAge</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">age</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//修改中间变量，并使用中间变量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">this</span><span class="p">.</span><span class="nx">changeAge</span> <span class="o">=</span> <span class="mi">19</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h2 id="26mixin混入">26.mixin混入</h2>
<p>两个组件共享一个配置 ，实现复用方法的效果</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//新建一个共有.js文件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="err">《</span><span class="nx">hunhe</span><span class="p">.</span><span class="nx">js</span><span class="err">》</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//该文件中暴露共用配置方法
</span></span></span><span class="line"><span class="cl"><span class="c1">//export const为分别暴露，引入的时候需要带{}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="kr">const</span> <span class="nx">hunhe</span> <span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="p">......</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="c1">//需要的组件中引入.js文件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="p">{</span><span class="nx">hunhe</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../hunhe.js&#39;</span>   
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//组件中使用mixins配置项
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">mixins</span><span class="o">:</span><span class="p">[</span><span class="nx">hunhe</span><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>混合中data中的数据以及methods冲突，以组件为主，例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//《hunhe.js》中
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="kr">const</span> <span class="nx">hunhe</span> <span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">a</span><span class="o">:</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//《组件student中》
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">a</span><span class="o">:</span><span class="mi">99</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">},</span><span class="nx">mixins</span><span class="o">:</span><span class="p">[</span><span class="nx">hunhe</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">)</span> <span class="c1">//输出为99，以组件为准	
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><strong>但是！！！</strong></p>
<p>生命周期冲突，不以任何为主，都会执行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//《hunhe.js》中
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="kr">const</span> <span class="nx">hunhe</span> <span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">...,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">mounted</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">    	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;11&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//《组件student中》
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="p">...,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">mounted</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">    	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;22&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span><span class="nx">mixins</span><span class="o">:</span><span class="p">[</span><span class="nx">hunhe</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl"><span class="c1">//启动后控制台输出：
</span></span></span><span class="line"><span class="cl"><span class="c1">//11
</span></span></span><span class="line"><span class="cl"><span class="c1">//22
</span></span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h2 id="27插件">27.插件</h2>
<p>插件实际上是一个{ }对象</p>
<p>自定义插件必须有有个install函数</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//新建《plugins.js》
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="k">default</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">install</span><span class="p">(</span><span class="nx">Vue</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="p">...</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//install的入参是Vue。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//此函数中可以设定所有全局Vue能够设定的方法，并且让组件均能使用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//main.js中引入插件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="nx">pligins</span> <span class="nx">from</span> <span class="s1">&#39;./pligins.js&#39;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="c1">//main.js中使用插件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">Vue</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">pligins</span><span class="p">)</span> <span class="c1">//这句话或默认帮我们调用《plugins.js》中的install方法
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">插件功能:用于增强Vue
本质：包含install方法的一个对象，install的第一个参数是Vue，第二个以后的参数是插件使用者传递的数据。</div>
        </div>
    </div>
<h2 id="28scoped样式">28.scoped样式</h2>
<p>scoped作用：让样式在局部生效，防止冲突</p>
<p>先看一个冲突</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20241002115053906.png"
        data-srcset="./images/image-20241002115053906.png, ./images/image-20241002115053906.png 1.5x, ./images/image-20241002115053906.png 2x"
        data-sizes="auto"
        alt="./images/image-20241002115053906.png"
        title="image-20241002115053906" /></p>
<p>解决这个问题</p>
<p>在style标签里加上scoped属性</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">style</span> <span class="na">scoped</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">....</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>原理：scoped原本就有作用域的意思，它在每个负责的标签样式后面都随机生成一个属性，配合样式选择器完成每个组件中引用同名样式的区分</p>
<img src="./images/image-20241002125134307.png" alt="image-20241002125134307" style="zoom:50%;" />
<h2 id="29浏览器本地存储">29.浏览器本地存储</h2>
<p>在浏览器打开某网页，未登录情况下搜索某关键字，发现能够有对应的历史记录。</p>
<p>此历史记录是浏览器将信息存在了本机的硬盘上，也叫浏览器本地存储</p>
<p>浏览器本地存储统称webStorage</p>
<p>1、存储内容大小一般支持5MB左右(不同浏览器可能还不一样)
2、浏览器端通过 Window.sessionStorage 和 Window.localStorage 属性来实现本地存储机制。</p>
<ul>
<li>localStorage</li>
<li>sessionStorage</li>
</ul>
<h3 id="localstoragesetitem">localStorage.setItem</h3>
<p>该方法接受一个键和值作为参数，会把键值对添加到存储中，如果键名存在，则更新其对应的值。</p>
<p>浏览器本地存储不是Vue独有的，是js就有的，用<code>.html</code>文件就可以实现编译。</p>
<ul>
<li>保存本地存储</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>localStorage<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>localStorage<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&#34;s()&#34;</span><span class="p">&gt;</span>点击保存一个数据<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kd">function</span> <span class="nx">s</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//第一个API叫setItem，两个入参必须为字符串
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">//重复添加同名的，会覆盖之前的值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">&#39;msg&#39;</span><span class="p">,</span><span class="s1">&#39;hello!&#39;</span><span class="p">)</span> <span class="c1">//msg hello!
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">&#39;msg2&#39;</span><span class="p">,</span><span class="mi">666</span><span class="p">)</span>     <span class="c1">//msg2 666 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">&#39;msg3&#39;</span><span class="p">,{</span><span class="s1">&#39;id&#39;</span><span class="o">:</span><span class="s1">&#39;001&#39;</span><span class="p">})</span><span class="c1">//不是字符串的会自动调toString，对象会存成[Object object]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s1">&#39;msg4&#39;</span><span class="p">,</span><span class="nx">JOSN</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">对象</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="./images/image-20241002173834704.png" alt="image-20241002173834704" style="zoom:50%;" />
<h3 id="localstoragegetitem">localStorage.getItem</h3>
<p>该方法接受一个键名作为参数，返回键名对应的值</p>
<ul>
<li>读取本地存储</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kd">function</span> <span class="nx">s</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//第二个API叫getItem,会给一个字符串的返回值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s1">&#39;msg&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">         <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s1">&#39;msg&#39;</span><span class="p">));</span> <span class="c1">//hello!
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>         <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">对象字符串</span><span class="p">));</span><span class="c1">//对象的需要手动转换一下
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="localstorageremoveitem">localStorage.removeItem</h3>
<p>该方法接受一个键名作为参数，并把该键名从存储中删除</p>
<ul>
<li>删除本地存储</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kd">function</span> <span class="nx">s</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//第三个API叫removeItem
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>         <span class="nx">localStorage</span><span class="p">.</span><span class="nx">removeItem</span><span class="p">(</span><span class="s1">&#39;msg&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="localstorageclear">localStorage.clear</h3>
<p>该方法会清空存储中的所有数据。</p>
<ul>
<li>清空本地存储</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kd">function</span> <span class="nx">s</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//第四个API叫clear
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>         <span class="nx">localStorage</span><span class="p">.</span><span class="nx">clear</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>关闭浏览器，并不会自动清空浏览器本地存储。</p>
<p>但是！！！清除缓存，会清空浏览器本地存储。</p>
</div>
        </div>
    </div>
<h3 id="sessionstorage">sessionStorage</h3>
<p>sessionStorage的4个API和localStorage使用和功能效果是一样的。</p>
<p>控制台位置，在localStorage下面</p>
<img src="./images/image-20241002175756430.png" alt="image-20241002175756430" style="zoom:50%;" />
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><strong>备注:</strong>
1、SessionStorage存储的内容会随着浏览器窗口关闭而消失。
2、LocalStorage存储的内容，需要手动清除才会消失。
3、<code>xxxxxstorage.getItem(xxx)</code>如果xxx对应的value获取不到，那么getltem的返回值是null.
4、<code>JSON.parse(null)</code>的结果依然是null。</div>
        </div>
    </div>
<h2 id="30组件自定义事件">30.组件自定义事件</h2>
<h3 id="绑定子传父">绑定【子传父】</h3>
<p>子组件给父组件传值，三个写法：</p>
<ul>
<li>function</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">父组件App</span><span class="p">.</span><span class="nx">vue</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">School</span> <span class="nt">:getSchoolName</span><span class="o">=</span><span class="s">&#34;getSchoolName&#34;</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">props</span><span class="o">:</span><span class="p">[</span><span class="s1">&#39;getSchoolName&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl"><span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">getSchoolName</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">		<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;学校名：&#34;</span><span class="o">+</span><span class="nx">name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">子组件School</span><span class="p">.</span><span class="nx">vue</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">getSchoolName</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>$emit （自定义事件）</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">父组件App</span><span class="p">.</span><span class="nx">vue</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">Student</span> <span class="na">v</span><span class="nt">-on:student</span><span class="o">=</span><span class="s">&#34;getStudentName&#34;</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">Student</span> <span class="nt">@student</span><span class="s">=&#34;getStudentName&#34;</span><span class="p">/&gt;</span><span class="c">&lt;!--</span><span class="nx">简写</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">getStudentName</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">		<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;学生名：&#34;</span><span class="o">+</span><span class="nx">name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">子组件Student</span><span class="p">.</span><span class="nx">vue</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">$emit</span><span class="p">(</span><span class="s1">&#39;student&#39;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ref （自定义事件）</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">父组件App</span><span class="p">.</span><span class="nx">vue</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">Student</span> <span class="na">ref</span><span class="o">=</span><span class="s">&#34;student&#34;</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">getStudentName</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">		<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;学生名：&#34;</span><span class="o">+</span><span class="nx">name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="nx">mounted</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">this</span><span class="p">.</span><span class="nx">$refs</span><span class="p">.</span><span class="nx">student</span><span class="p">.</span><span class="nx">$on</span><span class="p">(</span><span class="s1">&#39;studentTest&#39;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">getStudentName</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">子组件Student</span><span class="p">.</span><span class="nx">vue</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">$emit</span><span class="p">(</span><span class="s1">&#39;studentTest&#39;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>如果子传父的参数很多，三个办法：</p>
<ul>
<li>挨个写入参</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">$emit</span><span class="p">(</span><span class="s1">&#39;demo&#39;</span><span class="p">,</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">,</span><span class="nx">p</span><span class="p">...)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">$refs</span><span class="p">.</span><span class="nx">组件名</span><span class="p">.</span><span class="nx">$on</span><span class="p">(</span><span class="s1">&#39;demo&#39;</span><span class="p">,</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">,</span><span class="nx">p</span><span class="p">...)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>写成一个对象</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">$emit</span><span class="p">(</span><span class="s1">&#39;demo&#39;</span><span class="p">,{</span><span class="nx">params</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">$refs</span><span class="p">.</span><span class="nx">组件名</span><span class="p">.</span><span class="nx">$on</span><span class="p">(</span><span class="s1">&#39;demo&#39;</span><span class="p">,{</span><span class="nx">params</span><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ES6写法，&hellip;a</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">$emit</span><span class="p">(</span><span class="s1">&#39;demo&#39;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">,...</span><span class="nx">params</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">$refs</span><span class="p">.</span><span class="nx">组件名</span><span class="p">.</span><span class="nx">$on</span><span class="p">(</span><span class="s1">&#39;demo&#39;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">,...</span><span class="nx">params</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h3 id="解绑">解绑</h3>
<p>解绑一个自定义事件</p>
<ul>
<li>$off</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">父组件App</span><span class="p">.</span><span class="nx">vue</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">Student</span> <span class="nt">@student</span><span class="s">=&#34;getStudentName&#34;</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">子组件Student</span><span class="p">.</span><span class="nx">vue</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">$off</span><span class="p">(</span><span class="s1">&#39;student&#39;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>解绑多个自定义事件</p>
<ul>
<li>$off([事件名])</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">父组件App</span><span class="p">.</span><span class="nx">vue</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">Student</span> <span class="nt">@student</span><span class="s">=&#34;getStudentName&#34;</span> <span class="nt">@demo</span><span class="s">=&#34;getDemo&#34;</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">子组件Student</span><span class="p">.</span><span class="nx">vue</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">$off</span><span class="p">([</span><span class="s1">&#39;student&#39;</span><span class="p">,</span><span class="s1">&#39;demo&#39;</span><span class="p">])</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>解绑所有的自定义事件</p>
<ul>
<li>$off()</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">父组件App</span><span class="p">.</span><span class="nx">vue</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">Student</span> <span class="nt">@student</span><span class="s">=&#34;getStudentName&#34;</span> <span class="nt">@demo</span><span class="s">=&#34;getDemo&#34;</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">子组件Student</span><span class="p">.</span><span class="nx">vue</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">$off</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><ul>
<li>组件上也可以绑定原生DOM事件，需要使用<code>native</code>修饰符.</li>
</ul>
<p>不使用<code>native</code>修饰符.会默认<code>@click</code>为自定义事件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">Student</span> <span class="nt">@student</span><span class="s">=&#34;getStudentName&#34;</span> <span class="nt">@click.native</span><span class="s">=&#34;getDemo&#34;</span><span class="p">/&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>this.$refs.组件名.$on('事件名',回调函数)</code>里的回调函数需要写成箭头函数，或者直接定义在当前组件的methods中。否则this指向会有问题</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">$refs</span><span class="p">.</span><span class="nx">组件名</span><span class="p">.</span><span class="nx">$on</span><span class="p">(</span><span class="s1">&#39;事件名&#39;</span><span class="p">,()=&gt;{})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//或者
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">demo</span><span class="p">(){}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">$refs</span><span class="p">.</span><span class="nx">组件名</span><span class="p">.</span><span class="nx">$on</span><span class="p">(</span><span class="s1">&#39;事件名&#39;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">demo</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<h2 id="31全局事件总线">31.全局事件总线</h2>
<h3 id="globaleventbus">GlobalEventBus</h3>
<p>一种组件间通讯的方式，适用于<strong>任意组件间的通讯</strong></p>
<ul>
<li>安装全局事件总线</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//《main.js》
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">	<span class="p">....</span>
</span></span><span class="line"><span class="cl">	<span class="nx">beforeCreate</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Vue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">$bus</span> <span class="o">=</span> <span class="k">this</span>  <span class="c1">//定义全局事件总线
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">......</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>使用事件总线：</li>
</ul>
<p>1、接受数据</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//《School.vue》
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">this</span><span class="p">.</span><span class="nx">$bus</span><span class="p">.</span><span class="nx">$on</span><span class="p">(</span><span class="s2">&#34;事件名&#34;</span><span class="p">,</span><span class="nx">回调函数</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>2、提供数据</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//《Student.vue》
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">this</span><span class="p">.</span><span class="nx">$bus</span><span class="p">.</span><span class="nx">$emit</span><span class="p">(</span><span class="s2">&#34;事件名&#34;</span><span class="p">,</span><span class="nx">传递入参数据</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>3、关闭总线中不用的自定义事件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//《School.vue》
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">beforeDestroy</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">$bus</span><span class="p">.</span><span class="nx">$off</span><span class="p">(</span><span class="s1">&#39;demo&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="32消息订阅与发布">32.消息订阅与发布</h2>
<h3 id="_pubsub">_pubsub</h3>
<p><code>pubsub.js</code>是一个第三方库，引用这个库可以在任意框架实现消息的订阅和发布。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">npm i pubsub-js
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>pubsub</code>是<code>publish</code>发布和<code>subscribe</code>订阅的组合简写</p>
<ul>
<li>在组件中引入</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import pubsub from &#39;pubsub-js&#39;
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>订阅消息</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">pubsub</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s1">&#39;事件名&#39;</span><span class="err">，</span><span class="nx">回调函数</span><span class="p">(</span><span class="nx">事件名</span><span class="err">，</span><span class="nx">收到的数据</span><span class="p">){})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>发布消息</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">pubsub</span><span class="p">.</span><span class="nx">publish</span><span class="p">(</span><span class="s1">&#39;事件名&#39;</span><span class="err">，</span><span class="nx">事件名</span><span class="err">，</span><span class="nx">传递入参数据</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>销毁消息（ 取消订阅）</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//在订阅的组件内,通过id取消订阅
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">this</span><span class="p">.</span><span class="nx">pubId</span> <span class="o">=</span> <span class="nx">pubsub</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s1">&#39;事件名&#39;</span><span class="err">，</span><span class="nx">回调函数</span><span class="p">(</span><span class="nx">事件名</span><span class="err">，</span><span class="nx">收到的数据</span><span class="p">){})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">beforeDestroy</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pubsub</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">pubId</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="33nexttick">33.$nextTick</h2>
<ol>
<li>语法<code>this.$nextTick(回调函数)</code></li>
<li>作用：在下一次DOM更新结束后执行其指定的回调</li>
<li>什么时候用：当改变数据后，要基于更新后的新DOM进行某些操作时，要在$nextTick所指定的回调函数中执行</li>
</ol>
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>不写$nextTick，用定时器也是可以解决，等待DOM更新结束后执行的操作。</p>
<p>setTimeout(( )=&gt;{ 基于更新后的新DOM进行某些操作 },2000)</p>
<p>只是官方推荐使用$nextTick</p>
</div>
        </div>
    </div>
<h2 id="34动画效果">34.动画效果</h2>
<p>实现一块元素从左边缓缓进入再离开的动画效果</p>
<ul>
<li>原始css3的写法：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">合适时候换成go</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;come&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">style</span> <span class="na">scoped</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">h1</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">background</span><span class="o">-</span><span class="nx">color</span><span class="o">:</span> <span class="nx">burlywood</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="nx">come</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="cm">/* 播放这个动画 持续1s钟 */</span>
</span></span><span class="line"><span class="cl">        <span class="nx">animation</span><span class="o">:</span> <span class="nx">demo</span> <span class="mi">1</span><span class="nx">s</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="nx">go</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="cm">/* 反转播放这个动画 持续1s钟 */</span>
</span></span><span class="line"><span class="cl">        <span class="nx">animation</span><span class="o">:</span> <span class="nx">demo</span> <span class="mi">1</span><span class="nx">s</span> <span class="nx">reverse</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/* 动画：定义一个关键帧 起名叫demo */</span>
</span></span><span class="line"><span class="cl">    <span class="err">@</span><span class="nx">keyframes</span> <span class="nx">demo</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="cm">/* 左右来回变换 */</span>
</span></span><span class="line"><span class="cl">        <span class="nx">from</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="cm">/* 从左边 */</span>
</span></span><span class="line"><span class="cl">            <span class="nx">transform</span><span class="o">:</span> <span class="nx">translateX</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="o">%</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">to</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">transform</span><span class="o">:</span> <span class="nx">translateX</span><span class="p">(</span><span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Vue的实现写法</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">transition标签包裹的就是过度动画</span>  <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">transition</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">transition</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">style</span> <span class="na">scoped</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">h1</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="nx">background</span><span class="o">-</span><span class="nx">color</span><span class="o">:</span> <span class="nx">burlywood</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/* 进入时激活：来 */</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="nx">v</span><span class="o">-</span><span class="nx">enter</span><span class="o">-</span><span class="nx">active</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="cm">/* 播放这个动画 持续1s钟 */</span>
</span></span><span class="line"><span class="cl">        <span class="nx">animation</span><span class="o">:</span> <span class="nx">demo</span> <span class="mi">1</span><span class="nx">s</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/* 离开时激活：离开 */</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="nx">v</span><span class="o">-</span><span class="nx">leave</span><span class="o">-</span><span class="nx">active</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="cm">/* 反转播放这个动画 持续1s钟 */</span>
</span></span><span class="line"><span class="cl">        <span class="nx">animation</span><span class="o">:</span> <span class="nx">demo</span> <span class="mi">1</span><span class="nx">s</span> <span class="nx">reverse</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/* 动画：定义一个关键帧 起名叫demo */</span>
</span></span><span class="line"><span class="cl">    <span class="err">@</span><span class="nx">keyframes</span> <span class="nx">demo</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="cm">/* 左右来回变换 */</span>
</span></span><span class="line"><span class="cl">        <span class="nx">from</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="cm">/* 从左边 */</span>
</span></span><span class="line"><span class="cl">            <span class="nx">transform</span><span class="o">:</span> <span class="nx">translateX</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="o">%</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">to</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">transform</span><span class="o">:</span> <span class="nx">translateX</span><span class="p">(</span><span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>如果<code>&lt;transition&gt;</code>有名字，则<code>.v-enter-active</code>开头需要将<code>v</code>替换成取的名字</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">transition</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;aaa&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">transition</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">style</span> <span class="na">scoped</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="nx">aaa</span><span class="o">-</span><span class="nx">enter</span><span class="o">-</span><span class="nx">active</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="nx">aaa</span><span class="o">-</span><span class="nx">leave</span><span class="o">-</span><span class="nx">active</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果要第一次页面就显示动画，需要加上<code>appear</code>属性</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">transition</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;aaa&#34;</span> <span class="nt">:appear</span><span class="o">=</span><span class="s">&#34;true&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">transition</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<ul>
<li>Vue的实现第二种写法</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">transition</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">transition</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">style</span> <span class="na">scoped</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">h1</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="nx">background</span><span class="o">-</span><span class="nx">color</span><span class="o">:</span> <span class="nx">burlywood</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="nx">v</span><span class="o">-</span><span class="nx">enter</span><span class="o">-</span><span class="nx">active</span><span class="p">,.</span><span class="nx">v</span><span class="o">-</span><span class="nx">leave</span><span class="o">-</span><span class="nx">active</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">transition</span><span class="o">:</span> <span class="mf">0.5</span><span class="nx">s</span> <span class="nx">linear</span><span class="p">;</span> <span class="cm">/* 动画持续0.5s 匀速 */</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/* 进入起点，离开终点 */</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="nx">v</span><span class="o">-</span><span class="nx">enter</span><span class="p">,.</span><span class="nx">v</span><span class="o">-</span><span class="nx">leave</span><span class="o">-</span><span class="nx">to</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">transform</span><span class="o">:</span> <span class="nx">translateX</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="o">%</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/* 进入终点，离开起点 */</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="nx">v</span><span class="o">-</span><span class="nx">leave</span><span class="p">,.</span><span class="nx">v</span><span class="o">-</span><span class="nx">enter</span><span class="o">-</span><span class="nx">to</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">transform</span><span class="o">:</span> <span class="nx">translateX</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="o">%</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>多个元素过度</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">多个元素使用transition</span><span class="o">-</span><span class="nx">group</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">transition-group</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">且每个元素必须有key值</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">key</span><span class="o">=</span><span class="s">&#34;1&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">key</span><span class="o">=</span><span class="s">&#34;2&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">transition-group</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>集成第三方动画</li>
</ul>
<p>有时候我们也集成一些好用的第三方库来帮我们完成好看的动画效果，npm网站：https://npmjs.com 上有这么这一个库，叫<code>animate.css</code></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20241003160318756.png"
        data-srcset="./images/image-20241003160318756.png, ./images/image-20241003160318756.png 1.5x, ./images/image-20241003160318756.png 2x"
        data-sizes="auto"
        alt="./images/image-20241003160318756.png"
        title="image-20241003160318756" /></p>
<p>这是一个成型的动画库，只需要引入，就能直接使用这个链接里的动画</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20241003160437939.png"
        data-srcset="./images/image-20241003160437939.png, ./images/image-20241003160437939.png 1.5x, ./images/image-20241003160437939.png 2x"
        data-sizes="auto"
        alt="./images/image-20241003160437939.png"
        title="image-20241003160437939" /></p>
<p>用一个简单的例子：</p>
<ul>
<li>安装这个库</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">npm install animate.css --save
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>组件里引入这个库</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="s1">&#39;animate.css&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>使用这个库</li>
<li>先选一个样式动画，复制</li>
<li>
<img src="./images/image-20241003161350692.png" alt="image-20241003161350692" style="zoom:50%;" />
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">transition-group</span>
</span></span><span class="line"><span class="cl">                  <span class="na">apper</span>
</span></span><span class="line"><span class="cl">                  <span class="na">name</span><span class="o">=</span><span class="s">&#34;animate__animated animate__bounce&#34;</span>
</span></span><span class="line"><span class="cl">                  <span class="na">enter</span><span class="nt">-active-class</span><span class="err">=&#34;</span><span class="na">animate__swing</span><span class="err">&#34;</span>
</span></span><span class="line"><span class="cl">                  <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">transition-group</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="35插槽">35.插槽</h2>
<ol>
<li>作用：让父组件可以向子组件指定位置插入html结构，也是一种组件间通信的方式，适用于 父组件 ====&gt;子组件</li>
<li>分类：默认插槽、具名插槽、作用域插槽</li>
<li>使用方式：</li>
</ol>
<ul>
<li><strong>默认插槽</strong></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="nx">父组件中</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">Category</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="nx">html结构1</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">Category</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nx">子组件中</span><span class="o">:</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="c">&lt;!--</span><span class="nx">定义插槽</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">slot</span><span class="p">&gt;</span><span class="nx">插槽默认内容</span><span class="p">...&lt;/</span><span class="nt">slot</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><strong>具名插槽</strong></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="nx">父组件中</span><span class="o">:</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">Category</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">基本写法</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">div</span> <span class="na">slot</span><span class="o">=</span><span class="s">&#34;center&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="nx">html结构1</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">只有template可以这样写</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">template</span> <span class="na">v</span><span class="nt">-slot</span><span class="o">:</span><span class="na">footer</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="nx">htm1结构2</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">Category</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">子组件中</span><span class="o">:</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="c">&lt;!--</span><span class="nx">定义插槽</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">slot</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;center&#34;</span><span class="p">&gt;</span><span class="nx">插槽默认内容</span><span class="p">...&lt;/</span><span class="nt">slot</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">slot</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;footer&#34;</span><span class="p">&gt;</span><span class="nx">插槽默认内容</span><span class="p">...&lt;/</span><span class="nt">slot</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><strong>作用域插槽</strong></li>
</ul>
<ol>
<li>理解：数据在组件的自身，但根据数据生成的结构需要组件的使用者来决定。</li>
<li>具体编码：</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="nx">父组件中</span><span class="o">:</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">Category</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">scope没有d</span><span class="err">，</span><span class="nx">注意和style那块区分</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">scope收到传来的整个插槽对象的数据</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">scope里面入参scopeData包含有多个属性的值</span><span class="err">，</span><span class="nx">如solt</span> <span class="o">:</span><span class="nx">a</span><span class="o">=</span><span class="s2">&#34;11&#34;</span> <span class="o">:</span><span class="nx">b</span><span class="o">=</span><span class="s2">&#34;11&#34;</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">引用则写成scopeData</span><span class="p">.</span><span class="nx">a</span> <span class="nx">或者scopeData</span><span class="p">.</span><span class="nx">b</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">template</span> <span class="na">scope</span><span class="o">=</span><span class="s">&#34;scopeData&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="c">&lt;!--</span> <span class="nx">生成的是u1列表</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">u1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">li</span> <span class="nt">v-for</span><span class="s">=&#34;g in scopeData.games&#34; :key=&#34;g&#34;&gt;{{g}}&lt;/li&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">    &lt;/u1&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">  &lt;/template&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">&lt;/Category&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">&lt;Category&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">  &lt;template slot-scope=&#34;scopeData&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">	&lt;!--生成的是h4标题 --&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">	&lt;h4 v-for=&#34;g in scopeData.games&#34; :key=&#34;g&#34;&gt;{{g}}&lt;/h4&gt;   		   &lt;/template&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">&lt;/Category&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">子组件中:
</span></span></span><span class="line"><span class="cl"><span class="s">&lt;template&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">	&lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="s">		&lt;slot </span><span class="nt">:games</span><span class="s">=&#34;games&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">slot</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">....</span>
</span></span><span class="line"><span class="cl"><span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="nx">games</span><span class="o">:</span><span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>最新写法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">旧的写法</span><span class="err">，</span><span class="nx">现在还能用</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">scope里面入参有多个</span><span class="err">，</span><span class="nx">如solt</span> <span class="o">:</span><span class="nx">a</span><span class="o">=</span><span class="s2">&#34;11&#34;</span> <span class="o">:</span><span class="nx">b</span><span class="o">=</span><span class="s2">&#34;11&#34;</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span> <span class="na">scope</span><span class="o">=</span><span class="s">&#34;{dataList}&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">最新写成</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span> <span class="na">solt</span><span class="nt">-scope</span><span class="err">=&#34;</span><span class="p">{</span><span class="na">dataList</span><span class="p">}</span><span class="err">&#34;</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="第四章vue拓展">第四章：Vue拓展</h1>
<h2 id="36vue中的ajax请求">36.Vue中的ajax请求</h2>
<h3 id="跨域配置代理">跨域配置代理</h3>
<p>在开发的过程中，如何借助Vue脚手架，去解决ajax跨域的问题。</p>
<p>发送一个ajax的方法：</p>
<ol>
<li>xhr    <code>new XMLHttpRequest()</code>  ： <code>xhr.open()</code> 和 <code>xhr.send()</code></li>
<li>jQuery   对xhr进行封装   <code>$.get</code>  和  <code>$.post</code>   【因为jQuery中80%内容都是用于对DOM操作的封装，Vue避免对DOM进行操作，所以它不常用在Vue中】</li>
<li>axios     【Vue推荐使用】</li>
<li>fetch</li>
</ol>
<p>我们这里选择使用axios</p>
<ul>
<li>安装axios库</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">npm i axios
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>引入axios库</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">axios</span> <span class="nx">from</span> <span class="s1">&#39;axios&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>使用</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">demo</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">		<span class="c1">//服务器地址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;http://localhost:5000/demo&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">			<span class="c1">//成功回调
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="nx">response</span> <span class="p">=&gt;{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">)},</span>
</span></span><span class="line"><span class="cl">			<span class="c1">//失败回调
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="nx">error</span> <span class="p">=&gt;{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">)}</span>
</span></span><span class="line"><span class="cl">		<span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition failure open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-times-circle fa-fw" aria-hidden="true"></i>跨域报错警告<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p><code>Access to XMLHttpRequest at 'http://localhost:5000/demo' from origin 'http://localhost:8080' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.</code></p>
<p>访问规定：协议名，主机名，端口号 。三个一致，允许访问。</p>
<p>不一致，会请求，会查到数据，但是返回给请求方的时候报跨域错误。</p>
<p>解决跨域：</p>
<ol>
<li>服务器位置：通过配置cors，允许某部分请求头能够访问，解决跨域的问题。</li>
<li>jsonp ：借助script标签里的src属性，在引入外部资源的时候，不受同源策略限制的特点实现的。【只能解决get请求，post解决不了】</li>
<li>配置代理服务器</li>
</ol>
</div>
        </div>
    </div>
<h4 id="1-配置代理-方式一">1. 配置代理 方式一</h4>
<p>请求方 &lt;======&gt; 代理服务器 &lt;=======&gt; 目标服务器</p>
<ol>
<li>
<p>niginx 反向代理服务器</p>
</li>
<li>
<p>vue-cli 借助vue脚手架帮我们开启一个服务器</p>
<p>官方文档位置：https://cli.vuejs.org/zh/config/#devserver-proxy</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20241003172344336.png"
        data-srcset="./images/image-20241003172344336.png, ./images/image-20241003172344336.png 1.5x, ./images/image-20241003172344336.png 2x"
        data-sizes="auto"
        alt="./images/image-20241003172344336.png"
        title="image-20241003172344336" /></p>
</li>
</ol>
<ul>
<li>写法：</li>
</ul>
<p>在<code>vue.config.js</code>里添加下面的代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//开启代理服务器
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">devServer</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">proxy</span><span class="o">:</span><span class="s1">&#39;http://localhost:5000&#39;</span> <span class="c1">//指向目标服务器
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>调用</li>
</ul>
<p>这里只能找代理服务器发请求，代理服务器端口是8080</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">methods:{
</span></span><span class="line"><span class="cl">	demo(){
</span></span><span class="line"><span class="cl">		//服务器地址
</span></span><span class="line"><span class="cl">		axios.get(&#39;http://localhost:8080/demo&#39;).then(
</span></span><span class="line"><span class="cl">			//成功回调
</span></span><span class="line"><span class="cl">			response =&gt;{ console.log(response.data)},
</span></span><span class="line"><span class="cl">			//失败回调
</span></span><span class="line"><span class="cl">			error =&gt;{ console.log(error.message)}
</span></span><span class="line"><span class="cl">		)
</span></span><span class="line"><span class="cl">	}
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>注意！！！<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>这样的代理配置有两个缺点：</p>
<ol>
<li>只能配置一个目标服务器</li>
<li>如果<code>public</code>根文件夹下有静态资源，则直接返回了静态资源，不会请求代理服务器，如：</li>
</ol>
<p><code>http://localhost:8080/demo</code>会直接请求<code>demo.txt</code>文件，没有才请求代理服务器，有就直接返回<code>demo.txt</code>的信息。</p>
</div>
        </div>
    </div>
<h4 id="2-配置代理-方式二">2. 配置代理 方式二</h4>
<ul>
<li>写法：</li>
</ul>
<p>在<code>vue.config.js</code>里添加下面的代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">devServer</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">proxy</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;/api&#39;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">target</span><span class="o">:</span> <span class="s1">&#39;&lt;url&gt;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">ws</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">changeOrigin</span><span class="o">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;/foo&#39;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">target</span><span class="o">:</span> <span class="s1">&#39;&lt;other_url&gt;&#39;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>先看第一部分</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">devServer</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">proxy</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;/api&#39;</span><span class="o">:</span> <span class="p">{</span>  <span class="c1">//请求前缀，如果是以这个名字为前缀的，代理就转发
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">target</span><span class="o">:</span> <span class="s1">&#39;http://localhost:5000&#39;</span><span class="p">,</span> <span class="c1">//请求的目标服务器
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">ws</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>  <span class="c1">//支持：websocket客户端与服务器间的一种通讯方式
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">changeOrigin</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span><span class="c1">//用于控制请求头重host的值。请求来源 返回成和目标服务器一致
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">pathRewrite</span><span class="o">:</span><span class="p">{</span><span class="s1">&#39;^/api&#39;</span><span class="o">:</span><span class="s1">&#39;&#39;</span><span class="p">}</span>  <span class="c1">//重写路径，正则匹配以api开头的路径，全部替换成空。不然，访问目标服务器时也会带着请求前缀，导致接口404
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"> <span class="c1">//前缀写在端口号后，方法名称前
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> <span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;http://localhost:8080/api/demo&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="3-vue-resource">3. vue-resource</h4>
<p>vue-resource也是一个发送ajax请求的库，也是对xhr进行封装的，vue1.0使用广泛，现在官方已不再维护。</p>
<ul>
<li>安装vue-resource</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">npm i vue-resource
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>main.js中引入插件</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">vueResource</span> <span class="nx">from</span> <span class="s1">&#39;vue-resource&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Vue</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">vueResource</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>使用同axios</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">$http</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;http://localhost:8080/demo&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">			<span class="c1">//成功回调
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="nx">response</span> <span class="p">=&gt;{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">)},</span>
</span></span><span class="line"><span class="cl">			<span class="c1">//失败回调
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="nx">error</span> <span class="p">=&gt;{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">)}</span>
</span></span><span class="line"><span class="cl">		<span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="37vuex插件">37.Vuex插件</h2>
<h4 id="vuex简介">Vuex简介</h4>
<p>概念：专门在 Vue 中实现<strong>集中式</strong>状态(数据)管理的一个 Vue 插件，对 vue 应用中
多个组件的共享状态进行集中式的管理(读/写)，也是一种组件间通信的方式，且适用于任意组件间通信。
Github 地址: <a href="https://github.com/vuejs/vuex" target="_blank" rel="noopener noreffer ">https://github.com/vuejs/vuex</a></p>
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>**集中式：**将所有接受方集中起来，发送一次，都能接受。</p>
<p>**分布式：**分成多个相同的，同时发送，都能接受。</p>
</div>
        </div>
    </div>
<h4 id="vuex工作原理图">Vuex工作原理图</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20241013174409088.png"
        data-srcset="./images/image-20241013174409088.png, ./images/image-20241013174409088.png 1.5x, ./images/image-20241013174409088.png 2x"
        data-sizes="auto"
        alt="./images/image-20241013174409088.png"
        title="image-20241013174409088" /></p>
<h4 id="搭建vuex环境">搭建Vuex环境</h4>
<ol>
<li>安装插件：<code>npm i vuex</code></li>
<li>使用插件：<code>Vue.use(Vuex)</code></li>
</ol>
<div class="details admonition bug open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-bug fa-fw" aria-hidden="true"></i>注意哦<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>在2022年2月7日，vue3成为了默认版本。也就是说，我们现在去执行<code>npm i vue</code>安装的就直接是vue3了。</p>
<p>vue3成为默认版本的同时，vuex也更新到了4版本。也就是说，我们现在去执行<code>npm i vuex</code>安装的是vuex4了。</p>
<p>而vuex的4版本，只能在vue3中使用。如果在vue2版本中使用vuex的4版本，就会出现报错。</p>
<ul>
<li>vue2中，只能用vuex的3版本</li>
<li>vue3中，只能用vuex的4版本</li>
</ul>
<p>我们现在用的vue2的框架环境，所以我们这里要引入3版本的vuex，命令为<code>npm i vuex@3</code></p>
</div>
        </div>
    </div>
<p><strong>vuex安装后，存在一个store配置项，所有组件均能看见store：vc ==&gt; store</strong></p>
<ol>
<li>
<p>创建文件：<code>src/store/index.js</code>，store文件夹与App.vue同级</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//该文件用于创建Vuex中最为核心的store
</span></span></span><span class="line"><span class="cl"><span class="c1">//引入Vue核心库
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="nx">Vue</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1">//引入Vuex
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="nx">Vuex</span> <span class="nx">from</span> <span class="s1">&#39;vuex&#39;</span>
</span></span><span class="line"><span class="cl"><span class="nx">Vue</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">Vuex</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//准备actions-用于响应组件中的动作
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">actions</span><span class="o">=</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//准备mutations-用于操作修改数据(state)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">mutations</span> <span class="o">=</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//准备state-用于保存存储数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">state</span> <span class="o">=</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//创建并暴露store
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="k">default</span> <span class="k">new</span> <span class="nx">Vuex</span><span class="p">.</span><span class="nx">Store</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">	<span class="nx">actions</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">mutations</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">state</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>在<code>main.js</code>中创建vm时引入<code>store</code>配置项</p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="p">.....</span>
</span></span><span class="line"><span class="cl"><span class="c1">//引入store
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="nx">store</span> <span class="nx">from</span> <span class="s1">&#39;./store&#39;</span>
</span></span><span class="line"><span class="cl"><span class="p">.....</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//创建vm
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#app&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">render</span><span class="o">:</span><span class="nx">h</span><span class="p">=&gt;</span><span class="nx">h</span><span class="p">(</span><span class="nx">App</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="nx">store</span><span class="p">,</span> <span class="c1">//配置store直接简写
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="基本使用">基本使用</h4>
<ol>
<li>
<p>初始化数据、配置 <code>actions</code>、配置<code>mutations</code>、操作文件<code>store.js</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="p">....</span>
</span></span><span class="line"><span class="cl"><span class="c1">//准备actions-用于响应组件中的动作
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">actions</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">jia</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span><span class="nx">value</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// console.1og(&#39;actions中的jia被调用了&#39;,ministore,value)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">context</span><span class="p">.</span><span class="nx">commit</span><span class="p">(</span><span class="s1">&#39;JIA&#39;</span><span class="p">,</span><span class="nx">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//准备mutations-用于操作修改数据(state)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">mutations</span> <span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//执行加
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">JIA</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span><span class="nx">value</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// console.log(&#39;mutations中的JIA被调用了&#39;state,value)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">state</span><span class="p">.</span><span class="nx">sum</span> <span class="o">+=</span> <span class="nx">value</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//准备state-用于保存存储数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">state</span> <span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sum</span><span class="o">:</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">....</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>组件中读取vuex中的数据：<code>$store.state.sum</code></p>
</li>
<li>
<p>组件中修改vuex中的数据：<code>$store.dispatch('action中的方法名',数据)</code>或<code>$store.commit('mutation中的方法名',数据)</code></p>
</li>
</ol>
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>备注<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">若没有网络请求或其他业务逻辑，组件中也可以越过actions，即，不写<code>dispatch</code>，直接编写<code>commit</code></div>
        </div>
    </div>
<h4 id="vuex开发者工具的使用">vuex开发者工具的使用</h4>
<h4 id="getters的使用">getters的使用</h4>
<ol>
<li>
<p>概念：当state中的数据需要经过加工后再使用时，可以使用getters加工。</p>
</li>
<li>
<p>在<code>store.js</code>中追加<code>getters</code>配置</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="p">.....</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">getters</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">bigSum</span><span class="p">(</span><span class="nx">state</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">state</span><span class="p">.</span><span class="nx">sum</span> <span class="o">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//创建并暴露store
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="k">default</span> <span class="k">new</span> <span class="nx">Vuex</span><span class="p">.</span><span class="nx">Stroe</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="p">......</span>
</span></span><span class="line"><span class="cl">    <span class="nx">getters</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span> 
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>组件中读取数据：<code>$store.getters.bigSum</code></p>
</li>
</ol>
<h4 id="四个map方法的使用">四个map方法的使用</h4>
<ol>
<li>
<p>**mapState方法：**用于帮助我们映射<code>state</code>中的数据为计算属性</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span><span class="nx">mapState</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vuex&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//借助mapState生成计算属性:sum、schoo1、subject(对象写法)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">...</span><span class="nx">mapState</span><span class="p">({</span><span class="nx">sum</span><span class="o">:</span><span class="s1">&#39;sum&#39;</span><span class="p">,</span><span class="nx">school</span><span class="o">:</span><span class="s1">&#39;school&#39;</span><span class="p">,</span><span class="nx">subjeCT</span><span class="o">:</span><span class="s1">&#39;subject&#39;</span><span class="p">)),</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//借助mapstate生成计算属性:sum、schoO1、subject(数组写法)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">...</span><span class="nx">mapState</span><span class="p">([</span> <span class="s1">&#39;sum&#39;</span><span class="p">,</span><span class="s1">&#39;school&#39;</span><span class="p">,</span><span class="s1">&#39;subjact&#39;</span><span class="p">]),</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>**mapGetters方法：**用于帮助我们映射<code>getters</code>中的数据为计算属性</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-JS" data-lang="JS"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span><span class="nx">mapGetters</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vuex&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//借助mapGetters生成计算属性:bigsum(对象写法)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">...</span><span class="nx">mapGetters</span><span class="p">({</span><span class="nx">bigSum</span><span class="o">:</span><span class="s1">&#39;bigSum&#39;</span><span class="p">}),</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//借助mapGetters生成计算属性:bigSum(数组写法)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">...</span><span class="nx">mapGetters</span><span class="p">([</span><span class="s1">&#39;bigSum&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>**mapActions方法：**用于帮助我们生成与<code>actions</code>对话的方法，即:包含<code> $store.dispatch(xxx)</code>的函数</p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span><span class="nx">mapActions</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vuex&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//靠mapActions生成:incrementOdd、incrementwait(对象形式)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">...</span><span class="nx">mapActions</span><span class="p">({</span><span class="nx">incrementOdd</span><span class="o">:</span><span class="s1">&#39;jia0dd&#39;</span><span class="p">,</span><span class="nx">incrementWait</span><span class="o">:</span><span class="s1">&#39;jiaWait&#39;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//靠mapActions生成:incrementOdd、incrementWait(数组形式)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">...</span><span class="nx">mapActions</span><span class="p">([</span><span class="s1">&#39;jiaodd&#39;</span><span class="p">,</span><span class="s1">&#39;jiawait&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>
<p>**mapMutations方法：**用于帮助我们生成与<code>mutations</code>对话的方法，即:包含<code>$store.commit(xxx)</code>的函数</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span><span class="nx">mapMutations</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vuex&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//靠mapMutations生成:increment、decrement(对象形式)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">...</span><span class="nx">mapMutations</span><span class="p">({</span><span class="nx">increment</span><span class="o">:</span><span class="s1">&#39;JIA&#39;</span><span class="p">,</span><span class="nx">decrement</span><span class="o">:</span><span class="s1">&#39;JIAN&#39;</span><span class="p">}),</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//靠mapMutations生成:JIA、JIAN(数组形式)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">...</span><span class="nx">mapMutations</span><span class="p">([</span><span class="s1">&#39;JIA&#39;</span><span class="p">,</span><span class="s1">&#39;JIAN&#39;</span><span class="p">]),</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>备注<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">mapActions与mapMutaions使用时，若需要传递参数需要：在模板中绑定事件时传递好参数，否则参数是事件对象。</div>
        </div>
    </div>
</li>
</ol>
<p><strong>一个前端随机生成唯一id的方法</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span><span class="nx">nanoid</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;nanoid&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Const</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">nanoid</span><span class="p">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>ajax调用接口</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">axios</span> <span class="nx">from</span> <span class="s1">&#39;axios&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;接口&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="nx">response</span> <span class="p">=&gt;{},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">error</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">alert</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="模块化命名空间">模块化&amp;命名空间</h4>
<p><code>store</code>包下，<code>index.js</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//求和相关的配置,开启命名空间
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">countOptions</span><span class="o">=</span><span class="p">{</span><span class="nx">actions</span><span class="o">:</span><span class="p">{},</span><span class="nx">mutations</span><span class="o">:</span><span class="p">{},</span><span class="nx">state</span><span class="o">:</span><span class="p">{},</span><span class="nx">getters</span><span class="o">:</span><span class="p">{},</span><span class="nx">namespaced</span><span class="o">:</span><span class="kc">true</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//人员管理相关的配置,开启命名空间
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">personOptions</span><span class="o">=</span><span class="p">{</span><span class="nx">actions</span><span class="o">:</span><span class="p">{},</span><span class="nx">mutations</span><span class="o">:</span><span class="p">{},</span><span class="nx">state</span><span class="o">:</span><span class="p">{},</span><span class="nx">getters</span><span class="o">:</span><span class="p">{},</span><span class="nx">namespaced</span><span class="o">:</span><span class="kc">true</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//创建并暴露store
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="k">default</span> <span class="k">new</span> <span class="nx">Vuex</span><span class="p">.</span><span class="nx">Store</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">modules</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">a</span><span class="o">:</span><span class="nx">countOptions</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">b</span><span class="o">:</span><span class="nx">personOptions</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>模块化则分别将<code>index.js</code>中的两个部分，分成<code>count.js</code> <code>person.js</code>两个js，并精简<code>index.js</code>中的代码</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="p">....</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">countOptions</span> <span class="nx">from</span> <span class="s1">&#39;./count&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">personOptions</span> <span class="nx">from</span> <span class="s1">&#39;./person&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="k">new</span> <span class="nx">Vuex</span><span class="p">.</span><span class="nx">Store</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">modules</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">countAbout</span><span class="o">:</span><span class="nx">countOptions</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">personAbout</span><span class="o">:</span><span class="nx">personOptions</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>xxx.vue</code>组件中</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//借助mapState生成计算属性，从state中取数据。(数组写法)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">...</span><span class="nx">mapState</span><span class="p">(</span><span class="s1">&#39;countAbout&#39;</span><span class="p">,[</span><span class="s1">&#39;sum&#39;</span><span class="p">,</span><span class="s1">&#39;school&#39;</span><span class="p">,</span><span class="s1">&#39;subject&#39;</span><span class="p">]),</span>
</span></span><span class="line"><span class="cl">    <span class="p">...</span><span class="nx">mapState</span><span class="p">(</span><span class="s1">&#39;personAbout&#39;</span><span class="p">,[</span><span class="s1">&#39;personList&#39;</span><span class="p">]),</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//借助mapGetters生成计算属性，从getters中读取数据。(数组写法)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">...</span><span class="nx">mapGetters</span><span class="p">(</span><span class="s1">&#39;countAbout&#39;</span><span class="p">,[</span><span class="s1">&#39;bigSum&#39;</span><span class="p">])</span>    
</span></span><span class="line"><span class="cl"><span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//借助mapMutations生成对应的方法，方法中会调用commit去联系mutations(对象写法)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">...</span><span class="nx">mapMutations</span><span class="p">(</span><span class="s1">&#39;countAbout&#39;</span><span class="p">,{</span><span class="nx">increment</span><span class="o">:</span><span class="s1">&#39;JIA&#39;</span><span class="p">,</span><span class="nx">decrement</span><span class="o">:</span><span class="s1">&#39;JIAN&#39;</span><span class="p">}),</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//借助mapActions生成对应的方法，方法中会调用dispatch去联系actions(对象写法)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">...</span><span class="nx">mapActions</span><span class="p">(</span><span class="s1">&#39;countAbout&#39;</span><span class="p">,{</span><span class="nx">incrementOdd</span><span class="o">:</span><span class="s1">&#39;jia0dd&#39;</span><span class="p">,</span><span class="nx">incrementWait</span><span class="o">:</span><span class="s1">&#39;jiaWait&#39;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>目的：让代码更好维护，让多种数据分类更加明确。</p>
<ol>
<li>
<p>开启命名空间后，组件中读取<code>state</code>数据:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//方式一：自己直接读取
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">this</span><span class="p">.</span><span class="nx">$store</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">personAbout</span><span class="p">.</span><span class="nx">list</span>
</span></span><span class="line"><span class="cl"><span class="c1">//方式二：借助mapState读取
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">...</span><span class="nx">mapState</span><span class="p">(</span><span class="s1">&#39;countAbout&#39;</span><span class="p">,[</span><span class="s1">&#39;sum&#39;</span><span class="p">,</span><span class="s1">&#39;school&#39;</span><span class="p">,</span><span class="s1">&#39;subject&#39;</span><span class="p">]),</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>开启命名空间后，组件中读取<code>getters</code>数据:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//方式一:自己直接读取
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">this</span><span class="p">.</span><span class="nx">$store</span><span class="p">.</span><span class="nx">getters</span><span class="p">[</span><span class="s1">&#39;personAbout/firstPersonName&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="c1">//方式二:借助mapGetters读取
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">...</span><span class="nx">mapGetters</span><span class="p">(</span><span class="s1">&#39;countAbout&#39;</span><span class="p">,[</span><span class="s1">&#39;bigSum&#39;</span><span class="p">])</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>开启命名空间后，组件中调用<code>dispatch</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//方式一:自己直接dispatch
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">this</span><span class="p">.</span><span class="nx">$store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="s1">&#39;personAbout/addPersonWang&#39;</span><span class="p">,</span><span class="nx">person</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">//方式二:借助mapActions
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">...</span><span class="nx">mapActions</span><span class="p">(</span><span class="s1">&#39;countAbout&#39;</span><span class="p">,{</span><span class="nx">incrementOdd</span><span class="o">:</span> <span class="s1">&#39;jia0dd&#39;</span><span class="p">,</span><span class="nx">incrementWait</span><span class="o">:</span><span class="s1">&#39;jiawait&#39;</span><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>开启命名空间后，组件中调用<code>commit</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//方式一:自己直接commit
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">this</span><span class="p">.</span><span class="nx">$store</span><span class="p">.</span><span class="nx">commit</span><span class="p">(</span><span class="s1">&#39;personAbout/ADD_PERSON&#39;</span><span class="p">,</span><span class="nx">person</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">//方式二:借助mapMutations
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">...</span><span class="nx">mapMutations</span><span class="p">(</span><span class="s1">&#39;countAbout&#39;</span><span class="p">,{</span><span class="nx">increment</span><span class="o">:</span> <span class="s1">&#39;JIA&#39;</span><span class="p">,</span><span class="nx">decrement</span><span class="o">:</span><span class="s1">&#39;JIAN&#39;</span> <span class="p">}),</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​</p>
</li>
</ol>
<h2 id="38路由">38.路由</h2>
<h3 id="路由的简介">路由的简介</h3>
<img src="./images/image-20241023093739601.png" alt="image-20241023093739601" style="zoom:50%;" />
<ol>
<li>路由就是一组key-value的对应关系  =&gt;route</li>
<li>多个路由，需要经过路由器的管理  =&gt;router</li>
</ol>
<p>编码中的<strong>路由</strong>，<strong>为了实现</strong>SPA应用(single page web application)，也称<strong>单页面应用</strong></p>
<ul>
<li>单页面应用，指：只有一个<code>.html</code>文件的应用。如下图：</li>
</ul>
<img src="./images/image-20241031093125415.png" alt="image-20241031093125415" style="zoom:50%;" />
<ul>
<li>多页面应用，指：有很多个<code>.html</code>文件的来回跳转切换的应用。</li>
</ul>
<img src="./images/image-20241031093516163.png" alt="image-20241031093516163" style="zoom:50%;" />
<h4 id="路由使用原理">路由<strong>使用原理</strong>：</h4>
<ol>
<li>点击左边侧边栏某菜单</li>
<li>改变 地址栏 端口号后面的路径</li>
<li>路由器router寻找配置的路由route规则</li>
<li>根据对应的 路径=&gt;组件 的配置规则</li>
<li>更新显示页面，致绿色的内容模块中</li>
</ol>
<p>如下图：</p>
<img src="./images/image-20241031095532717.png" alt="image-20241031095532717" style="zoom:50%;" />
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>小tips<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><ul>
<li>生活中：路由器的作用，是：为了实现多台电脑上网</li>
<li>代码中：路由器的作用，是：为了实现单页面应用的页面跳转</li>
</ul>
</div>
        </div>
    </div>
<p><strong>vue-router</strong>：</p>
<p>vue的一个插件库，专门用来实现SAP应用。</p>
<h4 id="spa-应用">SPA 应用：</h4>
<p>单页Web应用(single page web application，SPA)</p>
<ol>
<li>整个应用<strong>只有一个</strong>完整的页面。</li>
<li>点击页面中的导航链接不会刷新页面，只会做页面的<strong>局部更新</strong>。</li>
<li>数据需要通过 ajax 请求获取</li>
</ol>
<h4 id="路由的理解">路由的理解：</h4>
<p><strong>什么是路由?</strong></p>
<ol>
<li>一个路由就是一组映射关系(key-value)</li>
<li>key为路径,value 可能是 function 或componente</li>
</ol>
<p><strong>路由分类：</strong></p>
<ul>
<li>
<p>后端路由：</p>
<ol>
<li>理解：value 是 function,用于处理客户端提交的请求。</li>
<li>工作过程：服务器接收到一个请求时，根据<strong>请求路径</strong>找到匹配的<strong>函数</strong>来处理请求，返回响应数据。</li>
</ol>
</li>
<li>
<p>前端路由:</p>
<ol>
<li>理解：value 是 component，用于展示页面内容。</li>
<li>工作过程：当浏览器的路径改变时，对应的组件就会显示。</li>
</ol>
</li>
</ul>
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>方便记忆<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><strong>路由：根据你的路径，由我决定展示对应的组件</strong></div>
        </div>
    </div>
<p>​</p>
<h3 id="路由基本使用">路由基本使用</h3>
<p>在vue项目中使用路由，引入vue-router插件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">npm i vue-router
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition warning open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-exclamation-triangle fa-fw" aria-hidden="true"></i>注意<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p><strong>2022年2月7日以后，vue-router的默认版本，为4版本</strong></p>
<p><strong>vue-router4，只能用在vue3中</strong></p>
<p><strong>vue-router3，才能用在vue2中</strong></p>
<p>我们现在使用的是vue2，所以需要指定引入版本</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">npm i vue-router@3
</span></span></code></pre></td></tr></table>
</div>
</div></div>
        </div>
    </div>
<p>安装完成后，在<code>main.js</code>中引入，并应用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//引入插件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="nx">VueRouter</span> <span class="nx">from</span> <span class="s1">&#39;vue-router&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1">//应用插件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">Vue</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">VueRouter</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>此时，在vm中，可以使用一个全新的配置项<code>router</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">new</span> <span class="nx">Vue</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">	<span class="p">...</span>
</span></span><span class="line"><span class="cl">	<span class="nx">router</span><span class="o">:</span><span class="s1">&#39;&#39;</span> <span class="c1">//router中的内容格式被严格控制，不允许随意写入字符串
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>main.js</code>同级位置，新建文件夹<code>router</code>文件夹。在该文件夹下，新增文件<code>index.js</code>。</p>
<p><code>index.js</code>中拷入下方代码，用于创建整个应用的路由器。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//该文件专门用于创建整个应用的路由器
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="nx">VueRouter</span> <span class="nx">from</span> <span class="s1">&#39;vue-router&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1">//引入组件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="nx">About</span> <span class="nx">from</span><span class="s1">&#39;../components/About
</span></span></span><span class="line"><span class="cl"><span class="s1">import Home from&#39;</span><span class="p">..</span><span class="o">/</span><span class="nx">components</span><span class="o">/</span><span class="nx">Home</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//创建并暴露一个路由器
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="k">default</span> <span class="k">new</span> <span class="nx">VueRouter</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">routes</span><span class="o">:</span><span class="p">[</span> <span class="c1">//一组组key-value对儿
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">{</span>   <span class="nx">path</span><span class="o">:</span><span class="s1">&#39;/about&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">component</span><span class="o">:</span><span class="nx">About</span>
</span></span><span class="line"><span class="cl">		<span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>   <span class="nx">path</span><span class="o">:</span><span class="s1">&#39;/home&#39;</span>
</span></span><span class="line"><span class="cl">			<span class="nx">component</span><span class="o">:</span><span class="nx">Home</span>
</span></span><span class="line"><span class="cl">		<span class="p">},</span>
</span></span><span class="line"><span class="cl">	<span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>此时在<code>main.js</code>中赋值router配置项为刚创建的服务器</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//引入路由器
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="nx">router</span> <span class="nx">from</span><span class="p">.</span><span class="o">/</span><span class="nx">router</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//创建vm
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="p">....</span>
</span></span><span class="line"><span class="cl">    <span class="nx">router</span><span class="o">:</span><span class="nx">router</span>  <span class="c1">//赋值配置项
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>保存所有文件，此时路由器已经配置完成，并开始工作。</p>
<p>地址导航栏能够看见<code>/#/</code>的符号。</p>
<p>路由器以及路由规则配置完成。</p>
<hr>
<p>现在需要处理两个组件，能够触发路由跳转：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!--原始htm1中我们使用a标签实现页面的跳转--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;./about.htm&#34;</span><span class="p">&gt;</span>About<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;./home.html&#34;</span><span class="p">&gt;</span>Home<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>在路由中，我们使用vue-router库中，提供给我们开发者的一个标签<code>&lt;router-link&gt;</code>，触发跳转</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!--to指想把路径后面改成什么样子--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--active-class指想点击了哪一个菜单，哪个就高亮显示。直接修改地址栏，也可以对应触发高亮--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-link</span> <span class="na">to</span><span class="o">=</span><span class="s">&#34;/about&#34;</span>  <span class="na">active-class</span><span class="o">=</span><span class="s">&#34;active&#34;</span><span class="p">&gt;</span>About<span class="p">&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span> 
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-link</span> <span class="na">to</span><span class="o">=</span><span class="s">&#34;/home&#34;</span> <span class="na">active-class</span><span class="o">=</span><span class="s">&#34;active&#34;</span><span class="p">&gt;</span>Home<span class="p">&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>&lt;router-view&gt;</code>设置页面内容展示的位置</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;panel&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;panel-body&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span><span class="nx">指定组件的呈现位置</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">router-view</span><span class="p">&gt;&lt;/</span><span class="nt">router-view</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>几个注意点<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><ul>
<li>
<p><strong>一般组件 &amp; 路由组件</strong></p>
<p>正常写的，如<code>&lt;Banner/&gt;</code>为一般组件，在项目中我们通常放在components包下，进行管理</p>
<p>通过<code>&lt;router-link to=&quot;/ &quot;&gt;</code>写的为路由组件，在项目中我们通常放在pages包下，进行管理</p>
</li>
<li>
<p><strong>路由组件的显示与隐藏</strong></p>
<p>通过切换，“隐藏”了的路由组件，默认是被销毁掉的，需要的时候再去挂载。</p>
</li>
</ul>
<p>​	在菜单间切换的时候，路由组件是被频繁的挂载和销毁的。</p>
<p>​	一个路由组件内容，在点击另一个菜单的时候，切换为另一个路由组件内容，该路由组件则被销毁</p>
<p>​	<img src="./images/image-20241031143300076.png" alt="image-20241031143300076" style="zoom:50%;" /></p>
<ul>
<li>每个路由组件中的<code>this</code>，多了两个属性<code>$route</code>，<code>$router</code></li>
</ul>
<p>​	每个组件都有自己的<code> $route</code>属性，里面存储着自己的路由信息。整个应用只有一个router，可以通过组件的 <code>$router</code> 属性获取到。</p>
<p>​	<img src="./images/image-20241031144025592.png" alt="image-20241031144025592" style="zoom:50%;" /></p>
<p>这里注意：</p>
<p>​	哪个组件的this，打印出来的<code>$route</code>就是哪个组件的<code>path</code>，如下图</p>
<img src="./images/image-20241031144204582.png" alt="image-20241031144204582" style="zoom:50%;" />
<p>​	但是每个组件的this中，打印出来的<code>$router</code>是同一个</p>
</div>
        </div>
    </div>
<p>​</p>
<h3 id="嵌套路由">嵌套路由</h3>
<p>嵌套路由的实现效果：</p>
<p>​	点击左侧的菜单，其右下的内容中有新的菜单，点击新的菜单，更改下方的内容。</p>
<p>如下图：</p>
<p>​	<img src="./images/image-20241031145448753.png" alt="image-20241031145448753" style="zoom:50%;" /></p>
<p><code>嵌套路由</code>，有时候我们也叫它<code>多级路由</code>，路径上体现为多级路径：<code>xxx/xxx</code></p>
<p>嵌套路由的配置，使用<code>children</code>配置项：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">path</span><span class="o">:</span><span class="s1">&#39;/home&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">component</span><span class="o">:</span><span class="nx">Home</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">children</span><span class="o">:</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">path</span><span class="o">:</span><span class="s1">&#39;new&#39;</span><span class="p">,</span> <span class="c1">//子路由路径前方不写斜杠&#39;/&#39;,底层路由处理中会对子路径自动加上&#39;/&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="nx">component</span><span class="o">:</span><span class="nx">New</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>组件中的配置，<code>to</code>路径注意写成完整路径</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-link</span> <span class="na">to</span><span class="o">=</span><span class="s">&#34;/home/news&#34;</span> <span class="na">active</span><span class="nt">-class</span><span class="err">=&#34;</span><span class="na">active</span><span class="err">&#34;</span><span class="p">&gt;</span><span class="nx">New</span><span class="p">&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​</p>
<h3 id="路由传参">路由传参</h3>
<h4 id="路由的query参数"><strong>路由的query参数</strong></h4>
<p>路由嵌套极限一般都在4-5层为极限，一般都在2-3层</p>
<p>只写一个组件Detail路由组件，通过传参来实现多个路由被点击使用时，对应显示的组件内容不同</p>
<p>路由组件有两个参数，其中<code>query</code>参数，和<code>ajax</code>中的<code>query</code>参数传参类似：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c1">//路径后面用问号?的形式，多个参数之间用&amp;间隔，例如：
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">&lt;</span><span class="nt">router-link</span> <span class="na">to</span><span class="o">=</span><span class="s">&#34;/home/message/detail?id=666&amp;title=hello&#34;</span><span class="p">&gt;</span><span class="nx">跳转</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>在唯一的Detail组件中，有一个属性<code>this.$route</code>能够得到这个组件相关的所有路由配置信息。在配置信息中，有一个属性<code>query</code>包含所有传递过来的参数及参数值。</p>
<p>在组件中获取参数，并页面显示渲染：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="nx">消息编号</span><span class="err">：</span><span class="p">{{</span><span class="nx">$route</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">id</span><span class="p">}}&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="nx">消息内容</span><span class="err">：</span><span class="p">{{</span><span class="nx">$route</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">title</span><span class="p">}}&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">要使参数值为变量</span><span class="err">，</span><span class="nx">需要使用模版字符串标识符</span><span class="sb">``</span><span class="err">，</span><span class="nx">并且使用$</span><span class="p">{}</span><span class="nx">包裹变量</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-link</span> <span class="na">to</span><span class="o">=</span><span class="s">&#34;/home/message/detail?id=666&amp;title=hello&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">例如</span><span class="err">，</span><span class="nx">下面的写法</span><span class="err">：</span><span class="p">(</span><span class="nx">字符串写法</span><span class="p">)</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-link</span> <span class="nt">:to</span><span class="o">=</span><span class="s">&#34;`/home/message/detail?id=${m.id}&amp;title=${m.title}`&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">或者</span><span class="err">，</span><span class="nx">下面的写法</span><span class="err">：</span><span class="p">(</span><span class="nx">对象写法</span><span class="p">)</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-link</span> <span class="o">:</span><span class="na">to</span><span class="o">=</span><span class="s">&#34;{
</span></span></span><span class="line"><span class="cl"><span class="s">  path:&#39;/home/message/detail&#39;,
</span></span></span><span class="line"><span class="cl"><span class="s">      query:{
</span></span></span><span class="line"><span class="cl"><span class="s">        id:m.id,
</span></span></span><span class="line"><span class="cl"><span class="s">        title:m.title
</span></span></span><span class="line"><span class="cl"><span class="s">      }
</span></span></span><span class="line"><span class="cl"><span class="s">  }&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="路由的params参数"><strong>路由的params参数</strong></h4>
<p>路由组件的第二个参数，<code>params</code>参数，和<code>ajax</code>中的<code>params</code>参数传参也类似：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//path配置项，路径后面，使用传参占位符
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;about&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">path</span><span class="o">:</span><span class="s1">&#39;/about/:id/:title&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">component</span><span class="o">:</span><span class="nx">About</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">children</span><span class="o">:</span><span class="p">[{...}]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">跳转时传参紧跟路径</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-link</span> <span class="na">to</span><span class="o">=</span><span class="s">&#34;/home/message/about/666/hello&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>此时参数及参数值，出现在<code>this.$route</code>的<code>params</code>中</p>
<p>在组件中获取参数，并页面显示渲染：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="nx">消息编号</span><span class="err">：</span><span class="p">{{</span><span class="nx">$route</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">id</span><span class="p">}}&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="nx">消息内容</span><span class="err">：</span><span class="p">{{</span><span class="nx">$route</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">title</span><span class="p">}}&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>同样的，将写死的传递参数位置改为变量取值的方式：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">传参写死</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-link</span> <span class="na">to</span><span class="o">=</span><span class="s">&#34;/home/message/about/666/hello&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">传参改为变量</span><span class="err">：</span><span class="p">(</span><span class="nx">字符串写法</span><span class="p">)</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-link</span> <span class="nt">:to</span><span class="o">=</span><span class="s">&#34;`/home/message/about/${m.id}/${m.title}`&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">或者</span><span class="err">，</span><span class="nx">下面的写法</span><span class="err">：</span><span class="p">(</span><span class="nx">对象写法</span><span class="p">)</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-link</span> <span class="o">:</span><span class="na">to</span><span class="o">=</span><span class="s">&#34;{
</span></span></span><span class="line"><span class="cl"><span class="s">  	  name:&#39;about&#39;,
</span></span></span><span class="line"><span class="cl"><span class="s">      params:{
</span></span></span><span class="line"><span class="cl"><span class="s">        id:m.id,
</span></span></span><span class="line"><span class="cl"><span class="s">        title:m.title
</span></span></span><span class="line"><span class="cl"><span class="s">      }
</span></span></span><span class="line"><span class="cl"><span class="s">  }&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">注</span><span class="err">：</span><span class="nx">params的对象传参写法</span><span class="err">，</span><span class="nx">只能使用name来确定路由跳转位置</span><span class="err">，</span><span class="nx">不能使用path</span><span class="o">--&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="路由的props配置">路由的props配置</h4>
<p>路由中的一个全新的配置项<code>props</code>，用于路由更加方便的接受参数</p>
<p><strong>props的第一种写法：值为对象</strong></p>
<p>该对象中的所有key-value都会以props的形式传给Detail组件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;...&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">path</span><span class="o">:</span><span class="s1">&#39;...&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">component</span><span class="o">:</span><span class="p">...,</span>
</span></span><span class="line"><span class="cl"><span class="nx">children</span><span class="o">:</span><span class="p">[{...}],</span>
</span></span><span class="line"><span class="cl"><span class="c1">//props的第一种写法：值为对象--------------------------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1">//该对象中的所有key-value都会以props的形式传给Detail组件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">props</span><span class="o">:</span><span class="p">{</span>  
</span></span><span class="line"><span class="cl">   <span class="nx">a</span><span class="o">:</span><span class="mi">666</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nx">b</span><span class="o">:</span><span class="s1">&#39;hello&#39;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>在组件中接受并使用：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="nx">消息编号</span><span class="err">：</span><span class="p">{{</span><span class="nx">a</span><span class="p">}}&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="nx">消息内容</span><span class="err">：</span><span class="p">{{</span><span class="nx">b</span><span class="p">}}&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">...,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">porps</span><span class="o">:</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>这种写法比较少用，一般情况下，我们不直接在路由配置中写死数据进行传参。</p>
<p>所以我们了解第二种props的写法</p>
<p><strong>props的第二种写法：值为布尔值</strong></p>
<p>若布尔值为真，就会把该路由组件收到的所有params参数，以props的形式传递给Detail组件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;...&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">path</span><span class="o">:</span><span class="s1">&#39;/about/:id/:title&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">component</span><span class="o">:</span><span class="p">...,</span>
</span></span><span class="line"><span class="cl"><span class="nx">children</span><span class="o">:</span><span class="p">[{...}],</span>
</span></span><span class="line"><span class="cl"><span class="c1">//props的第二种写法：值为布尔值--------------------------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">props</span><span class="o">:</span><span class="kc">true</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>在组件中接受并使用：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="nx">消息编号</span><span class="err">：</span><span class="p">{{</span><span class="nx">id</span><span class="p">}}&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="nx">消息内容</span><span class="err">：</span><span class="p">{{</span><span class="nx">title</span><span class="p">}}&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">...,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">porps</span><span class="o">:</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>props的第三种写法：值为函数</strong></p>
<p>依赖return，返回的一定是一个对象，对象内的数据都会以props的形式传递给Detail组件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;...&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">path</span><span class="o">:</span><span class="s1">&#39;/about&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">component</span><span class="o">:</span><span class="p">...,</span>
</span></span><span class="line"><span class="cl"><span class="nx">children</span><span class="o">:</span><span class="p">[{...}],</span>
</span></span><span class="line"><span class="cl"><span class="c1">//props的第三种写法：值为函数--------------------------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">props</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//简写为
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">props</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;666&#39;</span><span class="p">,</span><span class="nx">title</span><span class="o">:</span><span class="s1">&#39;hello&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//路由的回调函数带有$route参数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">props</span><span class="p">(</span><span class="nx">$route</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="nx">$route</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">title</span><span class="o">:</span><span class="nx">$route</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//通过解构赋值，可以简写为
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">props</span><span class="p">(</span><span class="nx">query</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="nx">query</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span><span class="nx">title</span><span class="o">:</span><span class="nx">query</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//或者
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">props</span><span class="p">(</span><span class="nx">query</span><span class="o">:</span><span class="p">{</span><span class="nx">id</span><span class="p">,</span><span class="nx">title</span><span class="p">}){</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="nx">id</span><span class="p">,</span><span class="nx">title</span><span class="o">:</span><span class="nx">title</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//不过一般情况下，解构赋值的语句语义可读性和理解性不是很清楚，所以一般还是写回调函数$route的写法
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="命名路由">命名路由</h3>
<p>给路由器取名字</p>
<p>1、作用：可以简化路由的跳转写法</p>
<p>2、示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//命名使用name配置项
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;about&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">path</span><span class="o">:</span><span class="s1">&#39;/about&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">component</span><span class="o">:</span><span class="nx">About</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="nx">children</span><span class="o">:</span><span class="p">[{...}]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">简化跳转</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">简化前</span><span class="err">：</span><span class="nx">完整路径的2种写法</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-link</span> <span class="na">to</span><span class="o">=</span><span class="s">&#34;/home/message/about&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-link</span> <span class="nt">:to</span><span class="o">=</span><span class="s">&#34;{path:&#39;/home/message/about&#39;}&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">简化后</span><span class="err">：</span><span class="nx">直接使用命名</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-link</span> <span class="nt">:to</span><span class="o">=</span><span class="s">&#34;{name:&#39;about&#39;}&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">这里注意</span><span class="err">，</span><span class="nx">to属性</span><span class="err">，</span><span class="nx">不注明使用name</span><span class="err">，</span><span class="nx">默认是使用的path</span><span class="o">--&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">简化传递参数</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-link</span> <span class="o">:</span><span class="na">to</span><span class="o">=</span><span class="s">&#34;{
</span></span></span><span class="line"><span class="cl"><span class="s">  	  name:&#39;about&#39;,
</span></span></span><span class="line"><span class="cl"><span class="s">      query:{
</span></span></span><span class="line"><span class="cl"><span class="s">        id:m.id,
</span></span></span><span class="line"><span class="cl"><span class="s">        title:m.title
</span></span></span><span class="line"><span class="cl"><span class="s">      }
</span></span></span><span class="line"><span class="cl"><span class="s">  }&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="router-link的replace属性"><strong><code>&lt;router-link&gt;</code>的replace属性</strong></h3>
<ol>
<li>作用：控制路由跳转时操作浏览器历史记录的模式</li>
<li>浏览器的历史记录有两种写入方式：分别为<code>push</code>和<code> replace</code>，<code>push</code>是追加历史记录，<code>replace</code> 是替换当前记录。路由跳转时候默认为 <code>push</code></li>
<li>如何开启<code>replace</code>模式：<code>&lt;router-link replace.......&gt;News&lt;/router-link&gt;</code></li>
</ol>
<p><strong>路由对浏览器历史记录的影响</strong>：</p>
<ol>
<li>
<p>浏览器中有两个按钮，<code>←</code> <code>→</code>，一个是前进一个是后退，这两个按钮都是依赖浏览器的历史记录在工作</p>
</li>
<li>
<p>浏览器的历史记录的操作模式是栈push模式：根据点击，不停的往栈中<strong>追加</strong>信息。</p>
<p>我们通常将这种追加信息的方式，称为push方式（与数组身上的push类似，不破坏任意一个元素，只往后面追加一个元素。在官方他有一个好听名字，叫<strong>压栈</strong>）</p>
</li>
<li>
<p>浏览器的前进与后退，就是操作历史记录列表中的指针进行移动</p>
</li>
<li>
<p>对历史记录的操作，除了<code>push</code>，还有另外一种方式，<code>replace</code></p>
</li>
<li>
<p><code>replace</code>最大的特点就是<strong>替换</strong>掉当前栈点那一个元素</p>
</li>
<li>
<p>默认<code>router-link</code>所开起的模式是<code>push模式</code>，如果要开启<code>replace模式</code>，写法如下：</p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">追加replace属性</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">完整写法</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-link</span> <span class="nt">:replace</span><span class="o">=</span><span class="s">&#34;true&#34;</span> <span class="p">&gt;&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">可简写为</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">router-link</span> <span class="na">replace</span> <span class="p">&gt;&lt;/</span><span class="nt">router-link</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="编程式路由导航">编程式路由导航</h3>
<ul>
<li>作用：不借助<code>&lt;route-link&gt;</code>实现路由跳转，让路由跳转更加灵活</li>
</ul>
<p>如果不使用<code>&lt;route-link&gt;</code>标签进行路由跳转的实现，路由器中的缔造者提供了<code>$router.push</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">button</span> <span class="na">click</span><span class="o">=</span><span class="s">&#34;pushShow(i)&#34;</span><span class="p">&gt;</span><span class="nx">按钮1</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">.....</span>
</span></span><span class="line"><span class="cl"><span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pushShow</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">$router</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span> <span class="c1">//push对象中的写法，同route-link中的to中内容一摸一样
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;about&#39;</span><span class="p">,</span> <span class="c1">//跳转以改命名路由为目标路由的界面
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">query</span><span class="o">:</span><span class="p">{</span>  <span class="c1">//正常传参
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">id</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">title</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">title</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>同理，对应<code>$router.push</code>也有<code>$router.replace</code>，以实现操作历史记录的方式为替换型。写法：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">button</span> <span class="na">click</span><span class="o">=</span><span class="s">&#34;replaceShow(i)&#34;</span><span class="p">&gt;</span><span class="nx">按钮2</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">.....</span>
</span></span><span class="line"><span class="cl"><span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">replaceShow</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="p">.</span><span class="nx">$router</span><span class="p">.</span><span class="nx">replace</span><span class="p">({</span> <span class="c1">//replace和push写法一样
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;about&#39;</span><span class="p">,</span> <span class="c1">//跳转以改命名路由为目标路由的界面
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">query</span><span class="o">:</span><span class="p">{</span>  <span class="c1">//正常传参
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">id</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">title</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">title</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>路由器中也提供了操作历史记录的方法，：后退<code>$router.back()</code>、前进<code>$router.forward()</code>、<code>$router.go(入参)</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//后退一步
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">this</span><span class="p">.</span><span class="nx">$router</span><span class="p">.</span><span class="nx">back</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//前进一步
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">this</span><span class="p">.</span><span class="nx">$router</span><span class="p">.</span><span class="nx">forward</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//前进或者后退多少步
</span></span></span><span class="line"><span class="cl"><span class="c1">//入参必须是数字
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">this</span><span class="p">.</span><span class="nx">$router</span><span class="p">.</span><span class="nx">go</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1">//入参是正数，则前进。这里表示前进3步
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">this</span><span class="p">.</span><span class="nx">$router</span><span class="p">.</span><span class="nx">go</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="c1">//入参是负数，则后退。这里表示后退2步
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="缓存路由组件">缓存路由组件</h3>
<p>作用：让不展示的路由组件保持挂载，不被销毁。</p>
<ul>
<li>我们每切换一个路由，切换前的路由组件就会被销毁。</li>
</ul>
<p>当用户在一个路由页面输入信息后，切换致另一个路由浏览信息再切回输入的路由页面进行继续输入时，我们发现，原路由已经被销毁，该路由页面重新渲染，导致了用户输入内容丢失。</p>
<p>在该需求下，我们需要一个缓存原路由组件的办法。由此，我们引入缓存路由组件标签<code>&lt;keep-alive&gt;</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">该标签包裹住的路由</span><span class="err">，</span><span class="nx">均不被销毁</span><span class="err">，</span><span class="nx">均保持缓存</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">keep-alive</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">router-view</span><span class="p">&gt;&lt;/</span><span class="nt">router-view</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">keep-alive</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">include属性</span><span class="p">,</span><span class="nx">设定只缓存哪一个路由</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">特别注意</span><span class="err">：</span><span class="nx">About为组件名称</span><span class="err">，</span><span class="nx">要缓存哪个组件</span><span class="err">，</span><span class="nx">就写哪个组件的组件名称</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">keep-alive</span> <span class="na">include</span><span class="o">=</span><span class="s">&#34;About&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">如果是缓存多个</span><span class="err">，</span><span class="nx">则用数组形式</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">keep-alive</span> <span class="nt">:include</span><span class="o">=</span><span class="s">&#34;[&#39;About&#39;,&#39;News&#39;]&#34;</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="两个新的生命周期钩子">两个新的生命周期钩子</h3>
<p>作用：用于捕获路由组件的激活状态</p>
<ul>
<li>定时器开启后，必须在组件即将销毁的生命周期函数<code>beforeDestroy</code>中关闭</li>
<li>当路由组件被缓存时，销毁生命周期函数不会被触发。</li>
</ul>
<p>上面两个限制，导致了定时器无法被关闭，并会在浏览者中持续一直调用。针对该需求，引出，路由组件独有的两个生命周期钩子：激活<code>activated()</code>、失活<code>deactivated()</code></p>
<p>当页面切换在当前组件，则当前组件被激活。activated在被激活时候触发</p>
<p>当页面切换至其他组件，则当前组件失活。deactivated再失活时触发</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">activated</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;该组件被激活了&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//这里可以开启定时器
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">deactivated</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;该组件失活了&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//这里关闭定时器   
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>**3个不在生命周期图示里面的生命周期构子：**这里的2个路由生命周期构子 + <code>nextTick</code></p>
<p><code>this.nextTick(function(){ ... })</code>该钩子，当你操作完数据之后，Vue把真实Dom放入页面了以后，Vue再帮你调用该函数里面的内容。</p>
</div>
        </div>
    </div>
<p>​</p>
<h3 id="路由守卫">路由守卫</h3>
<ol>
<li>
<p>作用：对路由进行权限控制。【主要作用：权限校验】</p>
<p>当某个人登陆时，我们将此人对于各个路由所对应的路由组件是否可见，称为对其鉴权。</p>
</li>
<li>
<p>分类：全局守卫、独享守卫、组件内守卫</p>
</li>
<li>
<p>代码位置：在router文件夹下的<code>index.js</code>中，在暴露一个创建的路由器对象之前，添加路由守卫。</p>
</li>
</ol>
<h4 id="全局前置-路由守卫">全局前置 路由守卫</h4>
<p><code>router.beforeEach </code>全局前置 路由守卫：页面切换前调用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//创建一个路由器
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">VueRouter</span><span class="p">({...})</span>
</span></span><span class="line"><span class="cl">                              
</span></span><span class="line"><span class="cl"><span class="c1">//--------------全局前置路由守卫--------------
</span></span></span><span class="line"><span class="cl"><span class="c1">//在每一次路由切换之前，都会调用该函数，进行权限校验;
</span></span></span><span class="line"><span class="cl"><span class="c1">//在初始化到时候，也被调用。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nx">beforeEach</span><span class="p">((</span><span class="nx">to</span><span class="p">,</span><span class="nx">from</span><span class="p">,</span><span class="nx">next</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">    <span class="p">...</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//to：【要去哪里】目标路径路由对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//from：【从哪里去】当前所在路径路由对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//next()：【放行】没有这条就都不会继续往下走了，需要手动抛出&#39;无权限&#39;异常
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">next</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//暴露路由
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="k">default</span> <span class="nx">router</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>判断去哪里是否有权限时我们通常会使用目标路径<code>path</code>属性来进行判定，例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">if</span><span class="p">(</span><span class="nx">to</span><span class="p">.</span><span class="nx">path</span> <span class="o">===</span> <span class="s1">&#39;/about&#39;</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">	<span class="nx">next</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>当设置需要权限的路由较多时，这样判定就变得不可取了。</p>
<p>此时，我们想要在每个路由申明时，设置某个配置项，以简洁路由权限的判定。</p>
<p>在路由对象中Vue提供了<code>meta</code>这个对象，用于设置一些自定义的配置项。</p>
<p><code>meta</code>在官方有个好听的名字，叫<code>路由元</code>。我们通常在其中设置一个配置项<code>isAuth</code>(是否被授权)，用来进行路由守卫的判定。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//哪个路由需要鉴权，meta:{isAuth:true}就写在哪里
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">routes</span><span class="o">:</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;about&#39;</span><span class="p">,</span><span class="nx">path</span><span class="o">:</span><span class="s1">&#39;/about&#39;</span><span class="p">,</span><span class="nx">meta</span><span class="o">:</span><span class="p">{</span><span class="nx">isAuth</span><span class="o">:</span><span class="kc">false</span><span class="p">}},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;home&#39;</span><span class="p">,</span><span class="nx">path</span><span class="o">:</span><span class="s1">&#39;/home&#39;</span><span class="p">,</span><span class="nx">meta</span><span class="o">:</span><span class="p">{</span><span class="nx">isAuth</span><span class="o">:</span><span class="kc">true</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//路由守卫判定:需要鉴权就往下走。没有设置的默认为undefined，该处判定为假，就不进行鉴权
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">if</span><span class="p">(</span><span class="nx">to</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">isAuth</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="s1">&#39;满足鉴权放行的条件：例如登录账号满足超级管理员&#39;</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="nx">next</span><span class="p">()</span><span class="c1">//放行
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span><span class="k">else</span><span class="p">{</span> 
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;该账号无权限&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="k">else</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">next</span><span class="p">()</span><span class="c1">//不参与鉴权的路由均放行
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​</p>
<h4 id="全局后置-路由守卫">全局后置 路由守卫</h4>
<p><code>router.afterRach</code>全局后置 路由守卫：页面切换后调用。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//创建一个路由器
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">VueRouter</span><span class="p">({...})</span>
</span></span><span class="line"><span class="cl">                              
</span></span><span class="line"><span class="cl"><span class="c1">//--------------全局后置路由守卫--------------
</span></span></span><span class="line"><span class="cl"><span class="c1">//在每一次路由切换之后，都会调用该函数，进行资源操作;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">router</span><span class="p">.</span><span class="nx">afterRach</span><span class="p">((</span><span class="nx">to</span><span class="p">,</span><span class="nx">from</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//注意该API就没有next入参了，因为是切换后调用，是不用进行放行操作的
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//此处通常用来修改：需要页面有权限显示之后，一些页面信息，如：
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nb">document</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="s1">&#39;对应跳转页面的标题&#39;</span> <span class="c1">//修改网页标签名称为跳转页面名称
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//暴露路由
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="k">default</span> <span class="nx">router</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="独享-路由守卫">独享 路由守卫</h4>
<p>独享路由守卫：顾名思义指，某一个路由单独使用的路由守卫。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//某route路由申明中
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">....,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//进入该路由之前，调用该函数中内容
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">beforeEnter</span><span class="o">:</span><span class="p">(</span><span class="nx">to</span><span class="p">,</span><span class="nx">from</span><span class="p">,</span><span class="nx">next</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="p">....</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//写法和前置路由一样
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意：和全局路由守卫不同的是，独享路由守卫只有前置，没有后置。如果想要使用后置，可以独享守卫和全局后置守卫搭配使用。</p>
<p>​</p>
<h4 id="组件内-路由守卫">组件内 路由守卫</h4>
<p>组件内路由守卫：指在具体的某一个组件中去写路由守卫，而不是在这个路由器配置 文件中编写。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//进入守卫：通过路由规则，进入该组件时被调用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">beforeRouteEnter</span><span class="p">(</span><span class="nx">to</span><span class="p">,</span><span class="nx">from</span><span class="p">,</span><span class="nx">next</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">    <span class="nx">next</span><span class="p">()</span> <span class="c1">//都得放行才能往下走
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="c1">//离开守卫：通过路由规则，离开该组件时被调用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">beforeRouteLeave</span><span class="p">(</span><span class="nx">to</span><span class="p">,</span><span class="nx">from</span><span class="p">,</span><span class="nx">next</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">    <span class="nx">next</span><span class="p">()</span> <span class="c1">//都得放行才能往下走
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>注意<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p><strong>通过路由规则</strong>：通过导航栏点击，改变地址栏路由，引起路由组件展示，则是经过了路由规则。</p>
<p>如果是直接放在其他组件中引用该路由组件，引起路由组件展示，这种方式是不会触发组件内路由守卫的。</p>
</div>
        </div>
    </div>
<p>​</p>
<h3 id="路由器的两种工作模式">路由器的两种工作模式</h3>
<h4 id="hash模式">hash模式</h4>
<ul>
<li>在地址栏，我们分析地址：<code>localhost:8080/#/home/message</code>。我们发现，从路由访问开始，地址就一直存在的一个符号：<code>/#/</code>，我们把它称作<code>hash</code>。</li>
<li>这里提到的所有的<code>hash</code>与数据加密无关，只是站在前端的角度，对路径进行分析。</li>
<li>路径中，所有的从<code>#</code>开始，到结束的内容，都称作：路径中的<code>hash</code>值。</li>
</ul>
<p><strong>hash值的作用</strong>：hash最大的特点就是不会随着http的请求发给服务器。</p>
<p>所以路径中属于hash值的内容，不会作为路径发给服务器，进行请求。例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">--请求117服务器5000端口的student资源信息
</span></span><span class="line"><span class="cl">10.10.10.117:5000/student
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">--添加hash值
</span></span><span class="line"><span class="cl">10.10.10.117:5000/student/#/xjdsdldfj/sdjfs/2342432/wasdf
</span></span></code></pre></td></tr></table>
</div>
</div><p>以上这两个地址在浏览器地址栏中的请求，返回是一模一样的。因为<code>#/xjdsdldfj/sdjfs/2342432/wasdf</code>不会作为地址发送给服务器。</p>
<h4 id="history模式">history模式</h4>
<p>在router文件夹下的配置文件<code>index.js</code>中，设置路由器中的<code>mode</code>的配置项。如果不设置，默认使用<code>hash</code>模式。写法：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">VueRouter</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">	<span class="nx">mode</span><span class="o">:</span><span class="s1">&#39;history&#39;</span><span class="p">,</span> <span class="c1">//该配置项只有两种值：history、hash。不写该配置项，则默认使用hash模式
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">routes</span><span class="o">:</span><span class="p">[...],</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">router</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>这里注意<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>Vue脚手架的特性是<strong>修改代码</strong>以后，在<strong>当前路径下</strong>进行刷新。</p>
<p>所以如果地址栏路径为<code>localhost:8080/#/home/message/detail</code>时，此时修改了<code>mode</code>属性为<code>history</code>，页面刷新依旧默认使用当前路径，导致没有任何效果。</p>
<p>此时，需要将地址栏路径<strong>手动改</strong>成基本根路径<code>localhost:8080</code>，再进行路由访问。</p>
</div>
        </div>
    </div>
<p>访问符合路由规则，实现路由组件正常跳转。地址栏路径中<code>#</code>标识符消失，地址格式为<code>localhost:8080/home/message/detail</code></p>
<p>**符合路由规则：**点击路由，经过路由器，根据路由规则rules，匹配路由组件进行展示。</p>
<p>所以符合路由规则是没有进行服务器请求的，此时如果在地址栏点击刷新<code>localhost:8080/home/message/detail</code>该地址会全部作为路径请求服务器，导致404</p>
<h5 id="解决history模式刷新404问题"><strong>解决history模式刷新404问题</strong></h5>
<p>404问题出现在服务器无法请求访问不存在的地址路径接口。</p>
<p>所以该问题，由后端出面解决。</p>
<p>nodejs服务器有个专门解决这个问题的中间件插件，java也有专门的库（这里只演示nodejs的处理）</p>
<p>在https://www.npmjs.com/官方网站搜索插件<code>connect-history-api-fallback</code></p>
<img src="./images/image-20241114105802724.png" alt="image-20241114105802724" style="zoom:50%;" />
<img src="./images/image-20241114110030391.png" alt="image-20241114110030391" style="zoom: 67%;" />
<p>在服务器控制台，输入下面代码，安装这个中间件：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">C:Users<span class="se">\w</span>angty<span class="se">\D</span>esktop<span class="se">\d</span>emo&gt;npm i connect-history-api-fallback
</span></span></code></pre></td></tr></table>
</div>
</div><p>安装完成后，在<code>server.js</code>中引入中间件：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//在“const express = ...”的代码后面 添加这一句
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">history</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;connect-history-api-fallback&#39;</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>并在<code>server.js</code>中使用中间件：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//在“const app = .......”的代码后面 添加这一句
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">history</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="c1">//在“app.use(express.......”的代码钱面 添加这一句
</span></span></span></code></pre></td></tr></table>
</div>
</div><h5 id="history模式-vs-hash模式"><strong>history模式 VS hash模式</strong></h5>
<table>
<thead>
<tr>
<th>hash模式</th>
<th>history模式</th>
</tr>
</thead>
<tbody>
<tr>
<td>浏览器(路由跳转)兼容性更好</td>
<td>浏览器(路由跳转)兼容性略差</td>
</tr>
<tr>
<td>地址不够美观，带#</td>
<td>地址美观，不带#</td>
</tr>
<tr>
<td>上线部署不影响后端请求</td>
<td>上线部署需要后端配置配合</td>
</tr>
<tr>
<td>地址校验严格时，会被标记不合法</td>
<td>地址校验合法</td>
</tr>
</tbody>
</table>
<h4 id="项目上线的基本流程">项目上线的基本流程</h4>
<p>所有的<code>.vue</code>文件，通过<code>npm run build</code>命令打包之后形成<code>.html</code>文件放置在服务器中供用户使用。</p>
<p>打包之后形成一个新的<code>dist</code>文件夹，该文件夹只有一个单文件页面<code>index.html</code>。直接访问无效果。</p>
<p>打包的所有文件，需要放置在服务器上，进行部署。</p>
<p>这里使用nodejs的express搭建一个微型的服务器，并将前端打包文件部署上去</p>
<p>只记录<strong>简单操作步骤</strong>，不解释原理：</p>
<ol>
<li>
<p>桌面新建一个<code>demo</code>文件夹，用<code>vscode</code>打开</p>
</li>
<li>
<p><code>vscode</code>中打开控制台，运行<code>npm init</code></p>
</li>
<li>
<p><code>package name</code>设置为：<code>wangty_test_server</code>（随便起个服务器名字）</p>
</li>
<li>
<p>一路回车</p>
</li>
<li>
<p>控制台路径回到<code>demo</code>时，运行<code>npm i express</code></p>
</li>
<li>
<p><code>demo</code>文件夹下新建一个<code>server.js</code>，里面代码如下：</p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">express</span> <span class="o">=</span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;express&#39;</span><span class="p">)</span> <span class="c1">//引入express
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">()</span>             <span class="c1">//创建一个app服务实例对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">app</span><span class="err">·</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;/person&#39;</span><span class="p">,(</span><span class="nx">req</span><span class="p">,</span><span class="nx">res</span><span class="p">)=&gt;{</span>    <span class="c1">//配置一个后端路由，person，返回一个人员信息  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">({</span>                    <span class="c1">//req - 请求 ， res - 返回
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">name</span><span class="o">:</span><span class="err">&#34;</span><span class="nx">tom</span><span class="s1">&#39;,
</span></span></span><span class="line"><span class="cl"><span class="s1">        age:18
</span></span></span><span class="line"><span class="cl"><span class="s1">    })
</span></span></span><span class="line"><span class="cl"><span class="s1">})
</span></span></span><span class="line"><span class="cl"><span class="s1">app.listen(5005,(err)=&gt;{          //app开启一个端口监听，开在5005端口
</span></span></span><span class="line"><span class="cl"><span class="s1">    if(!err)console.log(&#39;</span><span class="nx">服务器启动成功了</span><span class="o">!</span><span class="err">&#39;</span><span class="p">)</span> <span class="c1">//没有错误对象信息，就提示启动成功
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="7">
<li>
<p>控制台运行<code>node server</code>，控制台打印<code>服务器启动成功了</code>表示该微型服务器已经启动成功。</p>
</li>
<li>
<p>打开浏览器地址栏访问<code>localhost:5005/person</code>，可以成功返回人员信息。</p>
</li>
<li>
<p><code>demo</code>文件夹下新建一个<code>static</code>文件夹（有时候也叫<code>public</code>文件夹），在其中放入<code>.html</code>文件</p>
</li>
<li>
<p>这里为了测试是否成功展示，我们手动新建一个<code>demo.html</code>放入<code>static</code>文件夹下：</p>
</li>
</ol>
<pre><code>```html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;test&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div&gt;&lt;h1&gt;你好！&lt;/h1&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
```
</code></pre>
<ol start="11">
<li>
<p>回到<code>server.js</code>，添加代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//在“const app = ...”的代码后面 添加这一句
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">express</span><span class="p">.</span><span class="kr">static</span><span class="p">(</span><span class="nx">__dirname</span><span class="o">+</span><span class="s1">&#39;/static&#39;</span><span class="p">))</span>   <span class="c1">//使用插件,读取当前static文件下的页面
</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>ctrl+c</code>停掉服务器，重新启动服务器</p>
</li>
<li>
<p>打开浏览器地址栏访问<code>localhost:5005/demo.html</code>，可以成功展示<code>demo.html</code>的你好页面。</p>
</li>
<li>
<p>我们知道默认浏览器访问<code>index.html</code>页面，所以我们可以将其改得更简化一点。将<code>demo.html</code>文件名称修改为<code>index.html</code>，并且地址栏访问<code>localhost:5005</code>，即可成功展示你好页面。</p>
</li>
<li>
<p>此时，即可对前端打包文件进行部署。</p>
</li>
<li>
<p>拷贝所有的<code>dist</code>文件夹中内容，放入<code>static</code>文件夹中，重复的文件点击替换覆盖即可。</p>
</li>
<li>
<p><code>ctrl+c</code>停掉服务器，重新启动服务器</p>
</li>
<li>
<p>地址栏访问<code>localhost:5005</code>，打包的项目即可以正常运行。</p>
</li>
<li>
<p>部署上线完成。</p>
</li>
</ol>
<h2 id="39vue-ui组件库">39.Vue UI组件库</h2>
<p>移动端常用UI组件库：<a href="https://youzan.github.io/vant" target="_blank" rel="noopener noreffer ">Vant </a>、<a href="https://didi.github.io/cube-ui" target="_blank" rel="noopener noreffer ">Cube Ul</a>、<a href="http://mint-ui.github.io" target="_blank" rel="noopener noreffer ">Mint Ul</a>
PC端常用UI组件库：<a href="https://element.eleme.cne" target="_blank" rel="noopener noreffer ">Element Ul</a>、<a href="https://www.iviewui.come" target="_blank" rel="noopener noreffer ">IView Ul</a>、
京东也有一个组件库：<a href="nutui.jd.com" rel="">NUTUI</a></p>
<p>element-ui举例：
element-ui是一个饿了么团队打造的，pc端基于Vue基本使用的一个组件样式库。
引入 Element：完整引入、按需引入 <a href="https://element.eleme.cn/#/zh-CN/component/quickstart" target="_blank" rel="noopener noreffer ">https://element.eleme.cn/#/zh-CN/component/quickstart</a></p>
<p>【完整引入会导致前端js文件过大，如果引入使用的部分较少，推荐使用按需引入的方式】</p>
<p>​</p>
<h1 id="第五章vue3">第五章：vue3</h1>
<p>使用vue-cli创建工程</p>
<p>使用vite创建工程
分析工程结构
安装开发者工具
初识setup
re数 处理基本类型
re函数 处理对象类型
reactive函数
回顾Vue2的响应式原理</p>
<p>Vue3响应式原理proxy
Vue3响应式原理reflect
reactive对比ref
setup的两个注意点
computed计算属性
watch监视re定义的数据</p>
<p>watch监视reactive定义的数据</p>
<p>watch时value的问题</p>
<p>watchEffect函数
Vue3生命周期
自定义hook
toRef与toRefs
shallowReactive与shallowRef
readonly与shallowReadonly
toRaw与markRaw
customRef
provide与inject</p>
<p>响应式数据的判断
CompositionAPl的优势
Fragment组件
Teleport组件
Suspense组件
Vue3中其他的改变</p>
<div class="details admonition question open">
            <div class="details-summary admonition-title">
                <i class="icon fas fa-exclamation-triangle fa-fwquestion"></i>问题<i class="details-icon fas fa-angle-right fa-fw"></i>
            </div>
            <div class="details-content">
                <div class="admonition-content">
                    本文最后更新于 <span class="timeago" datetime="2024-09-14" title="2024年9月14日">2024-09-14</span>，文中内容可能已过时，请谨慎使用。</div>
            </div>
        </div></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2024-09-14</span>
            </div></div>

    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/vue/">Vue</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/text08/" class="prev" rel="prev" title="【Typora】破解/安装激活 Typora 2024 教程"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>【Typora】破解/安装激活 Typora 2024 教程</a>
            <a href="/text23/" class="next" rel="next" title="【HUGO】Hugo的LoveIt主题美化（一）">【HUGO】Hugo的LoveIt主题美化（一）<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"><div id="valine" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://valine.js.org/">Valine</a>.
            </noscript><div id="utterances" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://utteranc.es/">utterances</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container">
            <div class="footer-line">
                <span id="run-time"></span>
            </div><div class="footer-line">欢迎来到wangty的笔记博客空间</div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2021 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">wangty</a></span></div>
            <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <span id="busuanzi_container_site_pv">
                  <i class="fa fa-eye"></i> <span id="busuanzi_value_site_pv"></span> 次
              </span> |
                        <span id="busuanzi_container_site_uv">
                  <i class="fa fa-user"></i> <span id="busuanzi_value_site_uv"></span> 位
              </span>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/valine/valine.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/valine@1.5.0/dist/Valine.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":20},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"","lightTheme":"github-light","repo":"Wangty654.github.io"},"valine":{"appId":"QGzwQXOqs5JOhN4RGPOkR2mR-MdYXbMMI","appKey":"WBmoGyJtbqUswvfLh6L8iEBr","avatar":"mp","el":"#valine","emojiCDN":"https://cdn.jsdelivr.net/npm/emoji-datasource-google@14.0.0/img/google/64/","emojiMaps":{"100":"1f4af.png","alien":"1f47d.png","anger":"1f4a2.png","angry":"1f620.png","anguished":"1f627.png","astonished":"1f632.png","black_heart":"1f5a4.png","blue_heart":"1f499.png","blush":"1f60a.png","bomb":"1f4a3.png","boom":"1f4a5.png","broken_heart":"1f494.png","brown_heart":"1f90e.png","clown_face":"1f921.png","cold_face":"1f976.png","cold_sweat":"1f630.png","confounded":"1f616.png","confused":"1f615.png","cry":"1f622.png","crying_cat_face":"1f63f.png","cupid":"1f498.png","dash":"1f4a8.png","disappointed":"1f61e.png","disappointed_relieved":"1f625.png","dizzy":"1f4ab.png","dizzy_face":"1f635.png","drooling_face":"1f924.png","exploding_head":"1f92f.png","expressionless":"1f611.png","face_vomiting":"1f92e.png","face_with_cowboy_hat":"1f920.png","face_with_hand_over_mouth":"1f92d.png","face_with_head_bandage":"1f915.png","face_with_monocle":"1f9d0.png","face_with_raised_eyebrow":"1f928.png","face_with_rolling_eyes":"1f644.png","face_with_symbols_on_mouth":"1f92c.png","face_with_thermometer":"1f912.png","fearful":"1f628.png","flushed":"1f633.png","frowning":"1f626.png","ghost":"1f47b.png","gift_heart":"1f49d.png","green_heart":"1f49a.png","grimacing":"1f62c.png","grin":"1f601.png","grinning":"1f600.png","hankey":"1f4a9.png","hear_no_evil":"1f649.png","heart":"2764-fe0f.png","heart_decoration":"1f49f.png","heart_eyes":"1f60d.png","heart_eyes_cat":"1f63b.png","heartbeat":"1f493.png","heartpulse":"1f497.png","heavy_heart_exclamation_mark_ornament":"2763-fe0f.png","hole":"1f573-fe0f.png","hot_face":"1f975.png","hugging_face":"1f917.png","hushed":"1f62f.png","imp":"1f47f.png","innocent":"1f607.png","japanese_goblin":"1f47a.png","japanese_ogre":"1f479.png","joy":"1f602.png","joy_cat":"1f639.png","kiss":"1f48b.png","kissing":"1f617.png","kissing_cat":"1f63d.png","kissing_closed_eyes":"1f61a.png","kissing_heart":"1f618.png","kissing_smiling_eyes":"1f619.png","laughing":"1f606.png","left_speech_bubble":"1f5e8-fe0f.png","love_letter":"1f48c.png","lying_face":"1f925.png","mask":"1f637.png","money_mouth_face":"1f911.png","nauseated_face":"1f922.png","nerd_face":"1f913.png","neutral_face":"1f610.png","no_mouth":"1f636.png","open_mouth":"1f62e.png","orange_heart":"1f9e1.png","partying_face":"1f973.png","pensive":"1f614.png","persevere":"1f623.png","pleading_face":"1f97a.png","pouting_cat":"1f63e.png","purple_heart":"1f49c.png","rage":"1f621.png","relaxed":"263a-fe0f.png","relieved":"1f60c.png","revolving_hearts":"1f49e.png","right_anger_bubble":"1f5ef-fe0f.png","robot_face":"1f916.png","rolling_on_the_floor_laughing":"1f923.png","scream":"1f631.png","scream_cat":"1f640.png","see_no_evil":"1f648.png","shushing_face":"1f92b.png","skull":"1f480.png","skull_and_crossbones":"2620-fe0f.png","sleeping":"1f634.png","sleepy":"1f62a.png","slightly_frowning_face":"1f641.png","slightly_smiling_face":"1f642.png","smile":"1f604.png","smile_cat":"1f638.png","smiley":"1f603.png","smiley_cat":"1f63a.png","smiling_face_with_3_hearts":"1f970.png","smiling_imp":"1f608.png","smirk":"1f60f.png","smirk_cat":"1f63c.png","sneezing_face":"1f927.png","sob":"1f62d.png","space_invader":"1f47e.png","sparkling_heart":"1f496.png","speak_no_evil":"1f64a.png","speech_balloon":"1f4ac.png","star-struck":"1f929.png","stuck_out_tongue":"1f61b.png","stuck_out_tongue_closed_eyes":"1f61d.png","stuck_out_tongue_winking_eye":"1f61c.png","sunglasses":"1f60e.png","sweat":"1f613.png","sweat_drops":"1f4a6.png","sweat_smile":"1f605.png","thinking_face":"1f914.png","thought_balloon":"1f4ad.png","tired_face":"1f62b.png","triumph":"1f624.png","two_hearts":"1f495.png","unamused":"1f612.png","upside_down_face":"1f643.png","weary":"1f629.png","white_frowning_face":"2639-fe0f.png","white_heart":"1f90d.png","wink":"1f609.png","woozy_face":"1f974.png","worried":"1f61f.png","yawning_face":"1f971.png","yellow_heart":"1f49b.png","yum":"1f60b.png","zany_face":"1f92a.png","zipper_mouth_face":"1f910.png","zzz":"1f4a4.png"},"enableQQ":false,"highlight":true,"lang":"zh-CN","pageSize":10,"placeholder":"你的评论 ...","recordIP":true,"serverURLs":"https://leancloud.hugoloveit.com","visitor":true}},"lightgallery":true,"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"algoliaAppID":"PASDMWALPK","algoliaIndex":"index.zh-cn","algoliaSearchKey":"b42948e51daaa93df92381c8e2ac0f93","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"algolia"}};</script><script type="text/javascript" src="/js/theme.min.d7121d72cd85153ec9d35a888cee3eb28c2700ca763f649a538f6c772d750021.js" integrity="sha256-1xIdcs2FFT7J01qIjO4+sownAMp2P2SaU49sdy11ACE="></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@2.1.3/dist/jquery.min.js"></script>
<script type="text/javascript" src="/js/custom.js"></script></body>
</html>
