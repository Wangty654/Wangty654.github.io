<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>【Vue前端框架】Vue2.0全套教程 - TyNote</title><meta name="Description" content="你我一场唤不醒的梦……"><meta property="og:url" content="https://Wangty654.github.io/vue2/">
  <meta property="og:site_name" content="TyNote">
  <meta property="og:title" content="【Vue前端框架】Vue2.0全套教程">
  <meta property="og:description" content="本章节记录vue2的所涉及的一些语法和使用场景，记录的流程顺序为：1.vue基础；2.vue-cli 脚手架-专门用于工程开发；3.vue-router；4.vuex；5.element-ui：饿了么团队，做UI组件库的；6.vue3">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-21T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-09-14T00:00:00+00:00">
    <meta property="article:tag" content="Vue">
    <meta property="og:image" content="https://Wangty654.github.io/images/avatar.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://Wangty654.github.io/images/avatar.png">
  <meta name="twitter:title" content="【Vue前端框架】Vue2.0全套教程">
  <meta name="twitter:description" content="本章节记录vue2的所涉及的一些语法和使用场景，记录的流程顺序为：1.vue基础；2.vue-cli 脚手架-专门用于工程开发；3.vue-router；4.vuex；5.element-ui：饿了么团队，做UI组件库的；6.vue3">
<meta name="application-name" content="TyNote">
<meta name="apple-mobile-web-app-title" content="TyNote"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="msapplication-TileColor" href="/favicon-16x16.png" color="#da532c"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://Wangty654.github.io/vue2/" /><link rel="prev" href="https://Wangty654.github.io/text08/" /><link rel="next" href="https://Wangty654.github.io/text23/" /><link rel="stylesheet" href="/css/style.min.cafd7a15685d3295cb0c60c3cf7c0cde0632ba4dd2c8b6c34b35bf00ee9e8a08.css" integrity="sha256-yv16FWhdMpXLDGDDz3wM3gYyuk3SyLbDSzW/AO6eigg="><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "【Vue前端框架】Vue2.0全套教程",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/Wangty654.github.io\/vue2\/"
        },"image": [{
                            "@type": "ImageObject",
                            "url": "https:\/\/Wangty654.github.io\/images\/Apple-Devices-Preview.png",
                            "width":  3200 ,
                            "height":  2048 
                        }],"genre": "posts","keywords": "vue","wordcount":  29453 ,
        "url": "https:\/\/Wangty654.github.io\/vue2\/","datePublished": "2024-08-21T00:00:00+00:00","dateModified": "2024-09-14T00:00:00+00:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "TyNote","logo": {
                    "@type": "ImageObject",
                    "url": "https:\/\/Wangty654.github.io\/images\/avatar.png",
                    "width":  528 ,
                    "height":  528 
                }},"author": {
                "@type": "Person",
                "name": "wangty"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="normal" data-header-mobile="normal"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('light' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'light' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="TyNote"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/images/avatarico.png"
        data-srcset="/images/avatarico.png, /images/avatarico.png 1.5x, /images/avatarico.png 2x"
        data-sizes="auto"
        alt="/images/avatarico.png"
        title="/images/avatarico.png" />TyNote</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/"><i class='fa fa-home' aria-hidden='true'></i> 首页 </a><a class="menu-item" href="/posts/"><i class='fa fa-quote-left' aria-hidden='true'></i> 所有文章 </a><a class="menu-item" href="/tags/"><i class='fa fa-tags' aria-hidden='true'></i> 标签 </a><a class="menu-item" href="/categories/"><i class='fa fa-list' aria-hidden='true'></i> 分类 </a><a class="menu-item" href="/about/"><i class='fa fa-window-restore' aria-hidden='true'></i> 关于 </a><a class="menu-item" href="/friend/" title="Friend"><i class='fa fa-paper-plane' aria-hidden='true'></i> 友链 </a><a class="menu-item" href="https://github.com/dillonzq/LoveIt" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="TyNote"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/images/avatarico.png"
        data-srcset="/images/avatarico.png, /images/avatarico.png 1.5x, /images/avatarico.png 2x"
        data-sizes="auto"
        alt="/images/avatarico.png"
        title="/images/avatarico.png" />TyNote</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/" title=""><i class='fa fa-home' aria-hidden='true'></i>首页</a><a class="menu-item" href="/posts/" title=""><i class='fa fa-quote-left' aria-hidden='true'></i>所有文章</a><a class="menu-item" href="/tags/" title=""><i class='fa fa-tags' aria-hidden='true'></i>标签</a><a class="menu-item" href="/categories/" title=""><i class='fa fa-list' aria-hidden='true'></i>分类</a><a class="menu-item" href="/about/" title=""><i class='fa fa-window-restore' aria-hidden='true'></i>关于</a><a class="menu-item" href="/friend/" title="Friend"><i class='fa fa-paper-plane' aria-hidden='true'></i>友链</a><a class="menu-item" href="https://github.com/dillonzq/LoveIt" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto" >

            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">【Vue前端框架】Vue2.0全套教程</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>wangty</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/%E5%89%8D%E7%AB%AF/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>前端</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2024-08-21">2024-08-21</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;约 29453 字&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;预计阅读 59 分钟&nbsp;<span id="/vue2/" class="leancloud_visitors" data-flag-title="【Vue前端框架】Vue2.0全套教程">
                        <i class="far fa-eye fa-fw" aria-hidden="true"></i>&nbsp;<span class=leancloud-visitors-count></span>&nbsp;次阅读
                    </span>&nbsp;







<span id="busuanzi_container_value_page_pv"><i class="far fa-eye fa-fw"></i>
                
                <span id="busuanzi_value_page_pv"></span>&nbsp;次阅读</span>



</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span></span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#1vue简介">1.vue简介：</a>
          <ul>
            <li><a href="#vue的特点">vue的特点：</a>
              <ul>
                <li><a href="#组件化">组件化</a></li>
                <li><a href="#声明式">声明式</a></li>
                <li><a href="#虚拟dom">虚拟dom</a></li>
                <li><a href="#原生js">原生js</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#2-vue官网使用指南">2. vue官网使用指南</a></li>
        <li><a href="#3搭建vue开发环境">3.搭建vue开发环境</a>
          <ul>
            <li><a href="#script直接引入">script直接引入</a></li>
            <li><a href="#控制台提示">控制台提示</a>
              <ul>
                <li><a href="#开发者工具">开发者工具</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#4-hello小案例">4. Hello小案例</a>
          <ul>
            <li><a href="#html的基础写法">html的基础写法</a></li>
            <li><a href="#live-server-插件运行">Live Server 插件运行</a></li>
            <li><a href="#vue的写法演示">vue的写法演示</a></li>
          </ul>
        </li>
        <li><a href="#5-分析hello案例">5. 分析Hello案例</a>
          <ul>
            <li><a href="#一对一关系">一对一关系</a></li>
            <li><a href="#----中为js表达式">{{  }}  中为js表达式</a></li>
            <li><a href="#vue的开发者工具">Vue的开发者工具</a></li>
            <li><a href="#生产包和开发包">生产包和开发包</a></li>
          </ul>
        </li>
        <li><a href="#6-模板语法">6. 模板语法</a>
          <ul>
            <li><a href="#61-插值语法">6.1 插值语法</a></li>
            <li><a href="#62-指令语法内置语法">6.2 指令语法（内置语法）</a>
              <ul>
                <li><a href="#v-bind">v-bind</a>
                  <ul>
                    <li><a href="#class-与-style-绑定">Class 与 Style 绑定</a>
                      <ul>
                        <li><a href="#绑定class样式">绑定class样式</a></li>
                        <li><a href="#绑定style样式">绑定style样式</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#v-model">v-model</a>
                  <ul>
                    <li><a href="#数据绑定">数据绑定</a></li>
                    <li><a href="#只适用于表单元素">只适用于表单元素</a></li>
                    <li><a href="#简写形式">简写形式</a></li>
                  </ul>
                </li>
                <li><a href="#v-on">v-on</a>
                  <ul>
                    <li><a href="#事件处理">事件处理</a></li>
                    <li><a href="#事件修饰符">事件修饰符</a></li>
                    <li><a href="#键盘事件">键盘事件</a></li>
                    <li><a href="#事件总结">事件总结</a></li>
                  </ul>
                </li>
                <li><a href="#v-if">v-if</a>
                  <ul>
                    <li><a href="#条件渲染">条件渲染</a></li>
                    <li><a href="#v-else">v-else</a></li>
                    <li><a href="#v-else-if">v-else-if</a></li>
                  </ul>
                </li>
                <li><a href="#v-show">v-show</a>
                  <ul>
                    <li><a href="#条件渲染-1">条件渲染</a></li>
                  </ul>
                </li>
                <li><a href="#v-for">v-for</a>
                  <ul>
                    <li><a href="#列表渲染">列表渲染</a></li>
                    <li><a href="#key作用与原理">key作用与原理</a>
                      <ul>
                        <li><a href="#人员遍历示例">人员遍历示例</a></li>
                        <li><a href="#key关键字属性和其他自定义属性">key关键字属性和其他自定义属性</a></li>
                        <li><a href="#节点问题情境演示">节点问题情境演示</a></li>
                        <li><a href="#现象解释">现象解释</a></li>
                        <li><a href="#小总结">小总结</a></li>
                        <li><a href="#补充">补充</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#v-text">v-text</a></li>
                <li><a href="#v-html">v-html</a></li>
                <li><a href="#v-cloak指令">v-cloak指令</a></li>
                <li><a href="#v-once指令">v-once指令</a></li>
                <li><a href="#v-pre指令">v-pre指令</a></li>
                <li><a href="#自定义指令-函数式">自定义指令 函数式</a></li>
                <li><a href="#自走义指令-对象式">自走义指令 对象式</a></li>
                <li><a href="#自定义指令-总结">自定义指令 总结</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#7-el与data的两种写法">7. el与data的两种写法</a>
          <ul>
            <li><a href="#vmount">v.$mount(&rsquo;&rsquo;)</a></li>
            <li><a href="#data函数式写法">data函数式写法</a></li>
            <li><a href="#关于this">关于this</a></li>
            <li><a href="#简写形式-1">简写形式</a></li>
          </ul>
        </li>
        <li><a href="#8-理解mvvm">8. 理解MVVM</a></li>
        <li><a href="#9-objectdefineproperty">9. Object.defineProperty</a>
          <ul>
            <li><a href="#enumerable配置项">enumerable配置项</a></li>
            <li><a href="#writable配置项">writable配置项</a></li>
            <li><a href="#configurable配置项">configurable配置项</a></li>
            <li><a href="#getter">getter</a></li>
            <li><a href="#setter">setter</a></li>
          </ul>
        </li>
        <li><a href="#10数据代理">10.数据代理</a>
          <ul>
            <li><a href="#vue中的数据代理">Vue中的数据代理</a></li>
          </ul>
        </li>
        <li><a href="#11computed">11.Computed</a>
          <ul>
            <li><a href="#姓名案例">姓名案例</a></li>
            <li><a href="#计算属性">计算属性</a></li>
            <li><a href="#计算属性-简写">计算属性 简写</a></li>
          </ul>
        </li>
        <li><a href="#12watch">12.watch</a>
          <ul>
            <li><a href="#天气案例">天气案例</a></li>
            <li><a href="#监视属性">监视属性</a></li>
            <li><a href="#深度监视">深度监视</a></li>
            <li><a href="#监视的简写形式">监视的简写形式</a></li>
          </ul>
        </li>
        <li><a href="#13watch对比computed">13.watch对比computed</a></li>
        <li><a href="#14列表过滤">14.列表过滤</a></li>
        <li><a href="#15列表排序">15.列表排序</a></li>
        <li><a href="#16vue监测数据改变的原理">16.Vue监测数据改变的原理</a>
          <ul>
            <li><a href="#响应式解析过程">响应式解析过程</a></li>
            <li><a href="#模拟数据监测">模拟数据监测</a></li>
            <li><a href="#vue里的对象监测原理">Vue里的对象监测原理</a></li>
            <li><a href="#vueset">Vue.set()</a></li>
            <li><a href="#vue里的数组监测原理">Vue里的数组监测原理</a></li>
          </ul>
        </li>
        <li><a href="#17表单数据收集">17.表单数据收集</a></li>
        <li><a href="#18过滤器">18.过滤器</a></li>
        <li><a href="#19标题">19.标题</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div>



        <div class="content" id="content"><h2 id="1vue简介">1.vue简介：</h2>
<p>vue是一套用于<strong>构建用户界面</strong>的<strong>渐进式</strong>javaScript框架</p>
<img src="./images/image-20240821171902243.png" alt="image-20240821171902243" style="zoom:50%;" />
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p><strong>vue可以自底向上逐层的应用</strong></p>
<p>简单应用：只需要一个轻量小巧的核心库</p>
<p>复杂应用：可以引入各式各样的vue插件</p>
</div>
        </div>
    </div>
<div class="details admonition warning open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-exclamation-triangle fa-fw" aria-hidden="true"></i>This is a warning<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">vue2.0发布于2016年10月1日，vue3.0发布于2020年9月18日</div>
        </div>
    </div>
<h3 id="vue的特点">vue的特点：</h3>
<h4 id="组件化">组件化</h4>
<p>采用<strong>组件化</strong>模式，提高代码复用率、且让代码更好维护</p>
<img src="./images/image-20240821173442505.png" alt="image-20240821173442505" style="zoom:80%;" />
<h4 id="声明式">声明式</h4>
<p><strong>声明式</strong>编码，让编码人员无需直接操作DOM，提高开发效率</p>
<p>说明：</p>
<p>当有一个需求如下，需要将数据persons，放入容器list中：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">//数据persons
</span></span><span class="line"><span class="cl">[
</span></span><span class="line"><span class="cl">	{id:&#39;001&#39;,name:&#39;张三&#39;,age:18},
</span></span><span class="line"><span class="cl">	{id:&#39;002&#39;,name:&#39;李四&#39;,age:19},
</span></span><span class="line"><span class="cl">	{id:&#39;003&#39;,name:&#39;王五&#39;,age:20}
</span></span><span class="line"><span class="cl">]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">//list
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;list&#34;</span> <span class="p">&gt;&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>效果为：</p>
<img src="./images/image-20240821174340433.png" alt="image-20240821174340433" style="zoom:50%;" />
<p><strong>命令式编码</strong>实现方式：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">原生javaScript写法</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//准备html字符串
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">let</span> <span class="nx">htmlStr</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1">//遍历数据拼接html字符串
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">persons</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span> <span class="nx">p</span> <span class="p">=&gt;{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">htmlStr</span> <span class="o">+=</span> <span class="sb">`&lt;li&gt;</span><span class="si">${</span><span class="nx">p</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="sb"> - </span><span class="si">${</span><span class="nx">p</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb"> - </span><span class="si">${</span><span class="nx">p</span><span class="p">.</span><span class="nx">age</span><span class="si">}</span><span class="sb">&lt;/li&gt;`</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="c1">//获取list元素
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">let</span> <span class="nx">list</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">//修改内容(亲自操作Dom)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">list</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">htmlStr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>声明式</strong>编码实现方式：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;list&#34;</span> <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">li</span> <span class="nt">v-for</span><span class="o">=</span><span class="s">&#34;p in persons &#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    	<span class="p">{{</span><span class="na">p.id</span><span class="p">}}</span> <span class="err">-</span> <span class="p">{{</span><span class="na">p.name</span><span class="p">}}</span> <span class="err">-</span> <span class="p">{{</span><span class="na">p.age</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="虚拟dom">虚拟dom</h4>
<p>3.使用<strong>虚拟DOM</strong>+优秀的<strong>Diff算法</strong>，尽量复用DOM节点</p>
<img src="./images/1724240646058.png" alt="1724240646058" style="zoom:50%;" />
<img src="./images/image-20240821194819825.png" alt="image-20240821194819825" style="zoom:50%;" />
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p><strong>diff算法：</strong></p>
<p>新生成的虚拟dom会和之前生成的虚拟dom比较，这个比较算法称为diff算法。</p>
<p>当新的虚拟dom中，存在与旧dom中相同的属性和内容值时，</p>
<p>vue就直接将旧的真实dom直接拿到页面渲染出来，再处理不同的部分</p>
</div>
        </div>
    </div>
<h4 id="原生js">原生js</h4>
<p>4.学习vue之前需要掌握的javaScript基础知识</p>
<p><strong>ES6语法规范</strong>：结构赋值、模板字符串、箭头函数等。<a href="http://172.20.23.216/website/docs/docs/learn/es6/es6%e5%9f%ba%e7%a1%80.html" target="_blank" rel="noopener noreffer ">ES6基础-久远银海内部链接</a></p>
<p>ES6模块化：默认暴露、分别暴露、统一暴露、import、isport等</p>
<p>包管理器：npm、yram、cnpm</p>
<p>原型、原型链：</p>
<p>数组常用方法：过滤一个数组、加工一个数组、筛选最值</p>
<p>axios：</p>
<p>promise：异步请求</p>
<h2 id="2-vue官网使用指南">2. vue官网使用指南</h2>
<p>地址：<a href="https://v2.cn.vuejs.org/" target="_blank" rel="noopener noreffer ">vue官网操作手册</a></p>
<h2 id="3搭建vue开发环境">3.搭建vue开发环境</h2>
<p>在没有脚手架的情况下，最原始的使用vue框架，就是在<code>.html</code> 文件中，引入<code>vue.js</code>包</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>或者</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- 生产环境版本，优化了尺寸和速度 --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/vue@2&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>在vue2的官方文档中，解释了两种引入vue的方式</p>
<img src="./images/image-20240822164704224.png" alt="image-20240822164704224" style="zoom:50%;" />
<h3 id="script直接引入">script直接引入</h3>
<p><strong>首先先看第一种安装vue的方式：</strong></p>
<p><strong>CDN：</strong><a href="https://www.alibabacloud.com/help/zh/cdn/" target="_blank" rel="noopener noreffer ">阿里云CND操作文档</a></p>
<p>我们在写script的时候，里面有一个属性，叫src，可以指定资源的位置</p>
<p>如果把src写成：&quot;./xxx&quot;的形式，为引入一个本地文件。如果写成&quot;https&quot;的形式，一般为了加速，会在其中加入一个CDN的标识</p>
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p><strong>CDN</strong></p>
<p>内容分发网络（Content Delivery Network，CDN）是建立并覆盖在承载网上，由不同区域的服务器组成的分布式网络。将源站资源缓存到全国各地的边缘服务器，供用户就近获取，降低源站压力。</p>
</div>
        </div>
    </div>
<img src="./images/image-20240822165726133.png" alt="image-20240822165726133" style="zoom:50%;" />
<p>官网两个vue版本，点击后均会进行下载，但下载的文件有些不同</p>
<p>为方便演示，将两个版本均下载在桌面，并新建一个文件夹取名为vue_basic，并用vscode打开</p>
<img src="./images/image-20240822170224701.png" alt="image-20240822170224701" style="zoom:50%;" />
<p>将引入写入html</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>初识Vue<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- 引入vue --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;../js/vue.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="控制台提示">控制台提示</h3>
<p>直接引入产生的控制台提示</p>
<p>打开写好的html页面，在控制台会出现两个<code>小提示</code></p>
<img src="./images/image-20240822210145147.png" alt="image-20240822210145147" style="zoom:80%;" />
<p><code>提示</code>解析：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">Download</span> <span class="n">the</span> <span class="n">Vue</span> <span class="n">Devtools</span> <span class="n">extension</span> <span class="k">for</span> <span class="n">a</span> <span class="n">better</span> <span class="n">development</span> <span class="n">experinence</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">//</span><span class="err">表示：请你下载</span><span class="n">vue的开发者工具</span><span class="err">，到达一个更好的开发体验</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">You are running Vue in development mode.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">//表示：你正在运行一个开发者模版的vue.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Make sure to turn on production mode when deploying for production.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">//请确认你的项目不在生产时使用 [此句话意思表明，你引入的是vue.js其中带有很多提示和警告，包比较大，不适合上线项目使用]
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="开发者工具">开发者工具</h4>
<p>解决 下载vue开发者工具 的问题</p>
<ul>
<li><strong>国外网络可以正常访问谷歌商城：</strong></li>
</ul>
<p>正常能打开gitHub，点击官网的下载链接过去，选择谷歌浏览器选项</p>
<img src="./images/image-20240822213323491.png" alt="image-20240822213323491" style="zoom:50%;" />
<p>进入谷歌网上应用商店，点击添加，完成</p>
<img src="./images/image-20240822213825684.png" alt="image-20240822213825684" style="zoom:50%;" />
<p>国内无法正常访问谷歌商城：</p>
<p>Vue开发者工具扩展链接：</p>
<p>【下载开发者工具】： <a href="https://pan.baidu.com/s/1MtYvMPew4lb14piIrs9x6w" target="_blank" rel="noopener noreffer ">https://pan.baidu.com/s/1MtYvMPew4lb14piIrs9x6w</a>  提取码：6666 【安装开发者工具】：</p>
<p>一、Chrome浏览器安装方式：</p>
<p>①：点击右上角三个点</p>
<p>②：点击更多工具</p>
<p>③：点击扩展程序</p>
<p>④：点击右上角的开发者模式，将他启用</p>
<p>⑤：将下载的Vue.crx文件直接拖动到浏览器窗口即可</p>
<p>⑥：点到扩展的详细信息界面，再开启【允许访问文件URL】选项再试试看</p>
<img src="./images/image-20240822214201104.png" alt="image-20240822214201104" style="zoom:50%;" />
<img src="./images/image-20240822214217588.png" alt="image-20240822214217588" style="zoom:50%;" />
<img src="./images/image-20240822215244338.png" alt="image-20240822215244338" style="zoom:50%;" />
<img src="./images/image-20240822215332447.png" alt="image-20240822215332447" style="zoom:50%;" />
<img src="./images/image-20240822215406923.png" alt="image-20240822215406923" style="zoom:50%;" />
<p>二：Edge浏览器安装方式</p>
<p>①：点击浏览器右上角的三个点</p>
<p>②：点击扩展</p>
<p>③：点击左下角的开发人员模式，将他启用</p>
<p>④：将Vue.crx文件拖动到浏览器即可</p>
<ul>
<li><strong>解决 vue.js不建议在上线项目中使用的提示</strong></li>
</ul>
<p><code>Vue.config</code> 是一个对象，包含 Vue 的全局配置。可以在启动应用之前修改下列 property(属性)</p>
<p>首先验证，<code>Vue.config</code> 是否存在：</p>
<img src="./images/image-20240823095117346.png" alt="image-20240823095117346" style="zoom:50%;" />
<p>这里的属性，是对vue的全局配置。一次修改，到处都可以使用。</p>
<p>此处的：<strong>productionTip</strong>: true 小提示默认为true，是默认开启状态</p>
<img src="./images/image-20240823095242235.png" alt="image-20240823095242235" style="zoom:50%;" />
<img src="./images/image-20240823095809771.png" alt="image-20240823095809771" style="zoom:50%;" />
<p>代码的body中键入下方代码，可以对提示进行关闭：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--关闭生产提示--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span><span class="nx">Vue</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">productionTip</span> <span class="o">=</span> <span class="kc">false</span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>【注意：上方代码如果失效，则进入vue.js文件，直接对productionTip属性进行修改为false】</p>
<img src="./images/image-20240823103932262.png" alt="image-20240823103932262" style="zoom:50%;" />
<p>开端开发编辑工具vscode下载地址：<a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreffer ">开端开发编辑工具vscode下载地址</a></p>
<h2 id="4-hello小案例">4. Hello小案例</h2>
<h3 id="html的基础写法">html的基础写法</h3>
<p>hello代码示例 【注意：此段代码是html的基础写法，并没有用到vue】</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- 准备一个容器 --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="live-server-插件运行">Live Server 插件运行</h3>
<p>右键打开页面，控制台错误如下：</p>
<img src="./images/image-20240823101800800.png" alt="image-20240823101800800" style="zoom:50%;" />
<p>favicon.ico - 指网站的页签图标</p>
<img src="./images/image-20240823102039971.png" alt="image-20240823102039971" style="zoom:50%;" />
<p>打开控制台的Network选项卡，强制刷新一下[ 按住shift 点击刷新]，可以看见请求了本地5500服务器访问该图标</p>
<img src="./images/image-20240823102612196.png" alt="image-20240823102612196" style="zoom:50%;" />
<p>关于本地5500服务器的解释说明：</p>
<p>在vscode中，右键，使用Live Server 插件打开的页面：Live Server会自动先帮你打开当前选择的这个页面，并在你的电脑的5500的端口上开了一台小型的内置服务器，并且进行了“把你所有工程的文件和文件夹，作为这个服务器的根资源去使用”的一个操作。</p>
<img src="./images/image-20240823103443152.png" alt="image-20240823103443152" style="zoom:50%;" />
<img src="./images/image-20240823103421834.png" alt="image-20240823103421834" style="zoom:50%;" />
<p>验证内置5500端口服务器，可以地址栏直接访问127.0.0.1:5500。显示的一定是当前工程下的所有文件夹。</p>
<img src="./images/image-20240823104851447.png" alt="image-20240823104851447" style="zoom:50%;" />
<p>解决图标访问404的问题，只需要在根目录中放置一个叫favicon.ico的图片文件，页面刷新即可</p>
<img src="./images/image-20240823105412310.png" alt="image-20240823105412310" style="zoom:50%;" />
<img src="./images/image-20240823105536368.png" alt="image-20240823105536368" style="zoom:50%;" />
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p><strong>live server</strong> 插件是一个具有实时加载功能的<strong>小型服务器</strong>，它的作用：</p>
<ol>
<li>模拟服务器的方式打开页面</li>
<li>代码改动后,会自动刷新页面</li>
</ol></div>
        </div>
    </div>
<p>vsCode中装<code>Live Server</code>插件。</p>
<img src="./images/image-20240823103135500.png" alt="image-20240823103135500" style="zoom:50%;" />
<h3 id="vue的写法演示">vue的写法演示</h3>
<p><strong>使用vue进行hello的显示</strong></p>
<p>理解：引入的vue相当于外部引入的一个函数。要使用vue函数，需要new Vue</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">准备一个容器</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Hello</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//创建Vue实例
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">        * 注意Vue()中只传一个参数，这个参数是一个配置对象{}
</span></span></span><span class="line"><span class="cl"><span class="cm">        * 配置对象中，都以 key : value 的形式书写
</span></span></span><span class="line"><span class="cl"><span class="cm">        * 配置对象中，key的名称不得更改，value的值必须符合key的数据类型
</span></span></span><span class="line"><span class="cl"><span class="cm">        */</span>
</span></span><span class="line"><span class="cl">        <span class="kr">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//vue的第一个key是el，el是element元素的简写。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">//键值对象类似于css中的id选择器
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">//el用于指定当前Vue实例为哪个容器，值通常为css选择器字符串。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="c1">//还有一种写法，一般不用，但是可以这样写
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">//指 人为找到这个元素，再给他配置到el里去
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">el</span><span class="o">:</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">如果用class不用id</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Hello</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">           <span class="c1">//el就写成css中类选择器的写法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;.root&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>利用插值语法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">如果用class不用id</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Hello</span><span class="p">,{{</span><span class="nx">name</span><span class="p">}}&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kr">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//data中用于存储数据，数据供el所指定的容器去使用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意：data中的数据需要在指定的容器中使用，没在容器中使用data内数据并不会生效</p>
<img src="./images/image-20240826151835423.png" alt="image-20240826151835423" style="zoom:50%;" />
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>三个注意事项：</p>
<ol>
<li>
<p>想让Vue工作，就必须创建一个Vue实例，且要传入一个配置对象；目前这里为：el、data</p>
</li>
<li>
<p>root容器里的代码依然符合html规范，只不过混入一些特殊的Vue语法；</p>
</li>
<li>
<p>root容器里的代码被称为【Vue模版】</p>
</li>
</ol>
</div>
        </div>
    </div>
<p><strong>对于vue模版的解释：</strong></p>
<p>我们写的为一个Vue模板，经过解析，形成一个全新的正常的html片段块，然后替换掉模板的位置，显示在页面上</p>
<img src="./images/image-20240826153743769.png" alt="image-20240826153743769" style="zoom:50%;" />
<p><strong>容器的作用：</strong></p>
<p>1、为Vue提供模板</p>
<p>2、把Vue解析后的html片段，指定位置放置</p>
<h2 id="5-分析hello案例">5. 分析Hello案例</h2>
<h3 id="一对一关系">一对一关系</h3>
<p>演示说明：容器和实例是一对一，一一对应关系</p>
<p><strong>有两个同名的容器的情况</strong>：</p>
<p>首先，能运行成功，且控制台不报错</p>
<img src="./images/image-20240826155300427.png" alt="image-20240826155300427" style="zoom:50%;" />
<p>说明，一个Vue实例不能同时接管两个容器</p>
<p><strong>有两个Vue实例指向同一个容器的情况：</strong></p>
<p>首先，第一个Vue内容显示正常，第二个内容不显示，且控制台报错</p>
<img src="./images/image-20240826160522698.png" alt="image-20240826160522698" style="zoom:50%;" />
<p>说明，一个容器只能被一个Vue实例接管和解析</p>
<h3 id="----中为js表达式">{{  }}  中为js表达式</h3>
<div class="details admonition success open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-check-circle fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">注意：{{  }}  中可以写的内容，不一定是Vue实例中声明过的。只要是js里的表达式，Vue都是可以解析的</div>
        </div>
    </div>
<img src="./images/image-20240826164636168.png" alt="image-20240826164636168" style="zoom:50%;" />
<p>注意区分:js表达式 和js代码(语句)</p>
<p>​	1.表达式: 一个表达式会生成一个值，可以放在任何一个需要值的地方:</p>
<p>​		(1).a</p>
<p>​		(2).a+b</p>
<p>​		(3).demo(1)</p>
<p>​		(4).x === y ? &lsquo;a’ : &lsquo;b&rsquo;
​	2.js代码(语句)
​		(1).if( ){ }</p>
<p>​		(2).for( ){ }</p>
<h3 id="vue的开发者工具">Vue的开发者工具</h3>
<p>打开控制台右侧Vue选项卡</p>
<img src="./images/image-20240826165706794.png" alt="image-20240826165706794" style="zoom:50%;" />
<p>Root这里代表唯一的那一个Vue实例，点击这里的Root，能看的data里的所有数据</p>
<img src="./images/image-20240826165950601.png" alt="image-20240826165950601" style="zoom:50%;" />
<p>点击配置对象旁边的编辑按钮，可以对其值进行修改</p>
<img src="./images/image-20240826170356145.png" alt="image-20240826170356145" style="zoom:50%;" />
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">前端小写内容全部转换为大写的方法使用</span> <span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;{{</span><span class="nx">name</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()}}</span> <span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//name:&#39;wangty&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1">// WANGTY
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="生产包和开发包">生产包和开发包</h3>
<p>关于 vue.js 和vue.min.js 在new Vue实例对象时候的区别</p>
<p>当不写new的时候，vue.js：</p>
<img src="./images/image-20240826172751055.png" alt="image-20240826172751055" style="zoom:50%;" />
<img src="./images/image-20240826173158105.png" alt="image-20240826173158105" style="zoom:50%;" />
<p>当不写new的时候，vue.min.js并不报这个warning</p>
<img src="./images/image-20240826173818103.png" alt="image-20240826173818103" style="zoom:50%;" />
<h2 id="6-模板语法">6. 模板语法</h2>
<h3 id="61-插值语法">6.1 插值语法</h3>
<p>把指定的值，放到指定的位置，使用方法，见上述hello案例</p>
<p>【注意：插值语法多用于指定标签体内容。即，两标签之间的内容。不可以用于标签属性和属性值】</p>
<h3 id="62-指令语法内置语法">6.2 指令语法（内置语法）</h3>
<p>【注：指令语法小结示例里包含了很多后面的东西，建议先跳过看完后面再看这一节比较好理解】</p>
<p>普通html，点击跳转地址写法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://www.baidu.com&#34;</span><span class="p">&gt;</span>点我去百度<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="v-bind">v-bind</h4>
<p>vue写法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"> <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">指令语法</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">a</span> <span class="nt">:href</span><span class="o">=</span><span class="s">&#34;url&#34;</span><span class="p">&gt;</span><span class="nx">点我去百度</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">等价于</span><span class="p">&lt;</span><span class="nt">a</span> <span class="na">v</span><span class="nt">-bind:href</span><span class="o">=</span><span class="s">&#34;url&#34;</span><span class="p">&gt;</span><span class="nx">点我去百度</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span> <span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">url</span><span class="o">:</span><span class="s1">&#39;https://www.baidu.com&#39;</span>
</span></span><span class="line"><span class="cl">          		<span class="c1">//注意，这里如果写两个一模一样的属性名，控制台不会报错
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="c1">//Vue会默认读取第二个属性名的内容，这里就会默认跳转淘宝
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="c1">//url:&#39;https://www.taobao.com&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意：这里的 &ldquo;:href&quot;中的冒号，是v-bind的简写。我们把类似于v-bind这样的语法称为，<strong>指令语法</strong>。</p>
<div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>在html标签中，如果标签中的属性没有使用指定语法，则就是普通的属性和属性值</p>
<p>如果使用了指定语法，Vue就会把属性值引号内的东西，取出来当做表达式进行执行</p>
</div>
        </div>
    </div>
<h5 id="class-与-style-绑定">Class 与 Style 绑定</h5>
<p>操作元素的 class 列表和内联样式是数据绑定的一个常见需求。因为它们都是 attribute，所以我们可以用 <code>v-bind</code> 处理它们：只需要通过表达式计算出字符串结果即可。不过，字符串拼接麻烦且易错。因此，在将 <code>v-bind</code> 用于 <code>class</code> 和 <code>style</code> 时，Vue.js 做了专门的增强。表达式结果的类型除了字符串之外，还可以是对象或数组。</p>
<p>绑定样式:
1.class样式</p>
<p>​		写法:class=&ldquo;xxx”xxx可以是字符串、对象、数组。</p>
<p>​			字符串写法适用于: 类名不确定，要动态获取。</p>
<p>​			对象写法适用于: 要绑定多个样式，个数不确定，名字也不确定。</p>
<p>​			数组写法适用于:要绑定多个样式，个数确定，名字也确定，但不确定用不用。</p>
<p>​	2.style样式
​		:style=&quot;{fontSize:xxx}&ldquo;其中xxx是动态值。
​		:style=&quot;[a,b]&ldquo;其中a、b是洋式对象</p>
<h6 id="绑定class样式">绑定class样式</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">正常的样式正常写</span><span class="err">，</span><span class="nx">绑定的样式传值</span><span class="err">，</span><span class="nx">字符串写法</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;basic&#34;</span>  <span class="nt">:class</span><span class="o">=</span><span class="s">&#34;normal&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">....</span>
</span></span><span class="line"><span class="cl"><span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">	<span class="nx">normal</span><span class="o">:</span><span class="s1">&#39;red&#39;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">....</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">html解析后显示为</span>  <span class="kr">class</span><span class="o">=</span><span class="s2">&#34;basic red&#34;</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="o">--------------------------</span><span class="nx">或者</span><span class="o">--------------------------------&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">正常的样式正常写</span><span class="err">，</span><span class="nx">绑定的样式传值</span><span class="err">，</span><span class="nx">数值写法</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;basic&#34;</span>  <span class="nt">:class</span><span class="o">=</span><span class="s">&#34;arr&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">....</span>
</span></span><span class="line"><span class="cl"><span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">	<span class="nx">arr</span><span class="o">:</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="err">，</span><span class="s1">&#39;yellow&#39;</span><span class="err">，</span><span class="s1">&#39;buld&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">....</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">html解析后显示为</span>  <span class="kr">class</span><span class="o">=</span><span class="s2">&#34;basic red yellow buld&#34;</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">按钮事件动态操作arr数组可以实现样式的改变</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="o">--------------------------</span><span class="nx">或者</span><span class="o">--------------------------------&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">正常的样式正常写</span><span class="err">，</span><span class="nx">绑定的样式传值</span><span class="err">，</span><span class="nx">对象写法</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;basic&#34;</span>  <span class="nt">:class</span><span class="o">=</span><span class="s">&#34;Obj&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">....</span>
</span></span><span class="line"><span class="cl"><span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Obj</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">red</span><span class="o">:</span><span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">yellow</span><span class="o">:</span><span class="kc">false</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">....</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">按钮事件动态操作Obj对象可以实现样式的改变</span><span class="o">--&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h6 id="绑定style样式">绑定style样式</h6>
<p><code>v-bind:style</code> 的对象语法十分直观——看着非常像 CSS，但其实是一个 JavaScript 对象。CSS property 名可以用驼峰式 (camelCase) 或短横线分隔 (kebab-case，记得用引号括起来) 来命名：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-bind:style</span><span class="o">=</span><span class="s">&#34;{ color: activeColor, fontSize: fontSize + &#39;px&#39; }&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">activeColor</span><span class="o">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">fontSize</span><span class="o">:</span> <span class="mi">30</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>直接绑定到一个样式对象通常更好，这会让模板更清晰：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-bind:style</span><span class="o">=</span><span class="s">&#34;styleObject&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">styleObject</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fontSize</span><span class="o">:</span> <span class="s1">&#39;13px&#39;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>同class一样，也可以写成数组，<code>v-bind:style</code> 的数组语法可以将多个样式对象应用到同一个元素上：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-bind:style</span><span class="o">=</span><span class="s">&#34;[baseStyles, overridingStyles]&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="v-model">v-model</h4>
<h5 id="数据绑定">数据绑定</h5>
<img src="./images/image-20240826205303965.png" alt="image-20240826205303965" style="zoom:50%;" />
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">单项数据绑定</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">v</span><span class="nt">-bind:value</span><span class="o">=</span><span class="s">&#34;name&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">双向数据绑定</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">v</span><span class="nt">-model:value</span><span class="o">=</span><span class="s">&#34;name2&#34;</span> <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span> <span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name2</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>页面效果：</p>
<p>Vue中有2种数据绑定的方式:
1.单向绑定(v-bind):数据只能从data流向页面,
2.双向绑定(v-model):数据不仅能从data流向页面，还可以从页面流向data。</p>
<img src="./images/image-20240827084907425.png" alt="image-20240827084907425" style="zoom:50%;" />
<h5 id="只适用于表单元素">只适用于表单元素</h5>
<p><strong>注意：不是任意的所有的地方都能使用v-model来进行双向绑定</strong></p>
<p>例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h3</span> <span class="na">v</span><span class="nt">-bind:x</span><span class="o">=</span><span class="s">&#34;name&#34;</span><span class="p">&gt;</span><span class="nx">wangty</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h3</span> <span class="na">v</span><span class="nt">-model:x</span><span class="o">=</span><span class="s">&#34;name&#34;</span><span class="p">&gt;</span><span class="nx">wangty</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span> <span class="c">&lt;!--</span> <span class="nx">该行代码是有问题的</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span> <span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>上面的几行代码，首先在页面查看效果如下：</p>
<img src="./images/image-20240827085805730.png" alt="image-20240827085805730" style="zoom:50%;" />
<p>说明：<strong>v-model</strong>只能应用在<strong>表单</strong>元素上（输入类元素，有value值的元素）。</p>
<h5 id="简写形式">简写形式</h5>
<p>和v-bind一样，v-model有他的简写形式</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">v</span><span class="o">-</span><span class="nx">bind简写</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">v</span><span class="nt">-bind:value</span><span class="o">=</span><span class="s">&#34;name&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">等价于</span> <span class="o">=====&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="nt">:value</span><span class="o">=</span><span class="s">&#34;name&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">----------------------------------------------------------------------</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">v</span><span class="o">-</span><span class="nx">model简写</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">v</span><span class="nt">-model:value</span><span class="o">=</span><span class="s">&#34;name2&#34;</span> <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">等价于</span> <span class="o">=====&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="nt">v-model</span><span class="o">=</span><span class="s">&#34;name2&#34;</span><span class="p"> &gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="v-on">v-on</h4>
<h5 id="事件处理">事件处理</h5>
<p>事件的基本使用:
1.使用v-on:xxx或@xxx定事件，其中xxx是事件名;</p>
<p>​	2.事件的回调需要配置在methods对象中，最终会在vm上;
​	3.methods中配置的的数，不要用箭头函数。否则this就不是vm了;
​	4.methods中配置的的数，都是被Vue所管理的函数，this的指向是vm或组件实例对象</p>
<p>​	5.@click=&ldquo;demo&quot;和 @click=&ldquo;demo($event)”效果一致，但后者可以传参;</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">Hello</span><span class="p">,{{</span><span class="nx">name</span><span class="p">}}</span> <span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    	<span class="c">&lt;!--</span> <span class="nx">简写形式</span>  <span class="nx">v</span><span class="o">-</span><span class="nx">on</span><span class="o">:</span><span class="nx">click</span> <span class="o">=====&gt;</span> <span class="nx">等价于</span> <span class="err">@</span><span class="nx">click</span>  <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">v</span><span class="nt">-on:click</span><span class="o">=</span><span class="s">&#34;showInfo&#34;</span><span class="p">&gt;</span><span class="nx">点击实现提示信息</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    	<span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;showInfo&#34;</span><span class="p">&gt;</span><span class="na">点击实现提示信息</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//创建Vue实例
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>       <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">           <span class="c1">//注意showInfo需要放在methods里。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>           <span class="c1">//这儿有个问题：可不可以放进data里呢？ 是可以的。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>           <span class="c1">//能够正常运行，且控制台不报错。但是会被Vue执行数据代理，加重Vue的负荷。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>           <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//注意这里的showInfo方法也会存储在vm身上，打印vm时可以看见
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">showInfo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//alert(&#34;提示&#34;);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">}</span> 
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="./images/image-20240827202328009.png" alt="image-20240827202328009" style="zoom:50%;" />
<p>方法写在data里的情况，会使得vm对此方法进行数据代理。详解请看【数据代理】小结。</p>
<img src="./images/image-20240827204930238.png" alt="image-20240827204930238" style="zoom:80%;" />
<p>所以我们一般写点击事件只传一个参数，格式写为</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">showInfo</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
</span></span><span class="line"><span class="cl"> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"> <span class="c1">//获取点击时间的触发目标，一般指按钮对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> <span class="c1">//使用event.target   
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">innerText</span><span class="p">);</span>  <span class="c1">//按钮名称
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> <span class="c1">//这里的this也是Vue实例
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> <span class="c1">//这里showInfo如果写成箭头函数，则this指向会往外找到全局window
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>   
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意，点击事件处理本来也是可以传入参的，及点击事件方法名后面带了()，但是此种写法搞丢了event点击事件的对象入参：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;showInfo(入参id)&#34;</span><span class="p">&gt;</span><span class="na">点击实现提示信息</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="na">showInfo</span><span class="err">(</span><span class="na">id</span><span class="err">)</span><span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="na">console.log</span><span class="err">(</span><span class="na">id</span><span class="err">);</span> <span class="err">//</span><span class="na">结果为</span><span class="err">：</span><span class="na">入参id</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>若要使有()时，也能使用event点击事件对象，Vue中使用了$event来进行占位</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;showInfo(id,$event)&#34;</span><span class="p">&gt;</span><span class="na">点击实现提示信息</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="na">showInfo</span><span class="err">(</span><span class="na">id</span><span class="err">,</span><span class="na">event</span><span class="err">)</span><span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="na">console.log</span><span class="err">(</span><span class="na">id</span><span class="err">);</span> <span class="err">//</span><span class="na">结果为</span><span class="err">：</span><span class="na">入参id</span>
</span></span><span class="line"><span class="cl"> <span class="na">console.log</span><span class="err">(</span><span class="na">event</span><span class="err">);</span> <span class="err">//</span><span class="na">结果为</span><span class="err">：</span><span class="na">点击事件对象</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="事件修饰符">事件修饰符</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">点击后</span><span class="err">，</span><span class="nx">a标签会默认跳转百度页面</span><span class="err">。</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">如果有需求</span><span class="err">，</span><span class="nx">想要阻止默认跳转的操作</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;http://baidu.com&#34;</span> <span class="nt">@click</span><span class="s">=&#34;showInfo&#34;</span><span class="p">&gt;</span><span class="na">点击</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="err">&lt;!--</span> <span class="na">Vue提供了事假修饰符.prevent</span> <span class="err">--</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;http://baidu.com&#34;</span> <span class="nt">@click.prevent</span><span class="s">=&#34;showInfo&#34;</span><span class="p">&gt;</span><span class="nx">点击</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">  <span class="nx">showInfo</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">       <span class="c1">//或者点击事件event对象有一个方法，可以阻止标签默认调用事件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>js里的事件流分为<strong>捕获阶段</strong>和<strong>冒泡阶段</strong>——</p>
<p>Vue中的事件修饰符：</p>
<p>​	1、prevent：阻止默认事件（常用）</p>
<p>​	2、stop：阻止事件冒泡（常用）</p>
<p>​	3、once：事件只触发一次（常用）</p>
<p>​	4、capture：使用事件的捕获模式</p>
<p>​	5、self：只有event.target是当前操作的元素时才触发事件</p>
<p>​	6、passive：事件的默认行为立即执行，无需等待事件回调执行完毕（多用于滚动条事件：@wheel鼠标滚轮滚动 / @scroll 滚动条滚动 - 这个不会等待事件回调执行完毕）</p>
<h5 id="键盘事件">键盘事件</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c1">//两个键盘触发事件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="err">@</span><span class="nx">keydown</span>   <span class="c1">//按下该按钮，不用抬起来，就触发事件
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="err">@</span><span class="nx">keyup</span>     <span class="c1">//按下该按钮，抬起来后，才触发事件
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>按下回车提示输入</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">原生js写法</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="err">@</span><span class="na">keyup </span><span class="o">=</span> <span class="s">&#34;showInfo&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">showInfo</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">keyCode</span> <span class="o">!==</span> <span class="mi">13</span><span class="p">)</span> <span class="k">return</span>   <span class="c1">//回车的按键编码为13
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="o">------------------------------------------------------------------&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">vue事件别名写法</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="err">@</span><span class="na">keyup.enter</span> <span class="err">=</span> <span class="err">&#34;</span><span class="na">showInfo</span><span class="err">&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">showInfo</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>1.Vue给常用的按键都起了别名：</p>
<p>​	回车  =&gt;  enter         删除  =&gt;  delete （delete键和backspace退格键）</p>
<p>​	退出  =&gt;  esc    	空格  =&gt;  space</p>
<p>​	上  =&gt;  up		 换行  =&gt;  tab（特殊：必须配合keydown使用）</p>
<p>​	下  =&gt;  down	    左  =&gt;  left</p>
<p>​	右  =&gt;  right</p>
<p>注意：键盘上每一个按键都有他的名字和编码，例：回车 - Enter - 编码为13，可以通过方法查看</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">keyCode</span><span class="p">);</span> <span class="c1">//查看名字和编码
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>2.Vue未提供别名的按键，可以使用按键原始的key值去绑定，</p>
<p>但注意要转为kebab-case(短横线命名)，例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c1">//切换大小写按键的名字为  CapsLock  注意：是两个单词拼成，且为大驼峰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="err">@</span><span class="na">keyup.cps</span><span class="nt">-lock</span> <span class="err">=</span> <span class="err">&#34;</span><span class="na">showInfo</span><span class="err">&#34;</span><span class="p">&gt;</span> 
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">这里需全部小写</span><span class="err">，</span><span class="nx">且用</span><span class="o">-</span><span class="nx">短线连接</span> <span class="o">--&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>3.系统修饰键(用法特殊):ctrl、alt、shift、meta（win键）</p>
<p>​	(1).配合keyup使用:按下修饰键的同时，再按下其他键，随后释放其他键，事件才被触发。</p>
<p>​	(2).配合keydown使用:正常触发事件。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c1">//ctrl、alt、shift、meta
</span></span></span><span class="line"><span class="cl"><span class="c1">//在使用keyup时：ctrl+任意按键 同时按下，并单独放掉+的任意按键
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="err">@</span><span class="na">keyup.ctrl</span> <span class="err">=</span> <span class="err">&#34;</span><span class="na">showInfo</span><span class="err">&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">触发操作</span><span class="err">：</span><span class="nx">同时按下ctrl</span><span class="o">+</span><span class="nx">y</span><span class="err">，</span><span class="nx">并单独放掉y</span><span class="err">。</span><span class="nx">同时按下ctrl</span><span class="o">+</span><span class="nx">x</span><span class="err">，</span><span class="nx">并单独放掉x等</span>  <span class="o">--&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>4.也可以使用keyCode去指定具体的按键(不推荐)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">可以直接写13</span><span class="err">，</span><span class="nx">但是官网已停止使用</span><span class="err">，</span><span class="nx">可能部分浏览器已经不再解析</span>  <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="err">@</span><span class="na">keyup.13</span> <span class="err">=</span> <span class="err">&#34;</span><span class="na">showInfo</span><span class="err">&#34;</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>5.Vue.config.keyCodes.自定义键名 = 键码，可以去定制按键别名</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">Vue</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">keyCodes</span><span class="p">.</span><span class="nx">huiche</span> <span class="o">=</span> <span class="mi">13</span>  <span class="c1">//指定回车的别名为huiche
</span></span></span></code></pre></td></tr></table>
</div>
</div><h5 id="事件总结">事件总结</h5>
<p>事件修饰符是可以连着书写的，顺序没有要求，例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span><span class="nx">先阻止冒泡</span><span class="err">，</span><span class="nx">再阻止跳转</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="nt">@click</span><span class="s">=&#34;showInfo&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;http://baidu.com&#34;</span> <span class="nt">@click.stop.prevent</span><span class="s">=&#34;showInfo&#34;</span><span class="p">&gt;</span><span class="nx">点击</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>系统修饰键(用法特殊):ctrl、alt、shift、meta使用时候，可以指定关联的任意键，例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">触发操作</span><span class="err">：</span><span class="nx">只能同时按下ctrl</span><span class="o">+</span><span class="nx">y</span><span class="err">，</span><span class="nx">并单独放掉y</span><span class="err">，</span><span class="nx">时候能够触发</span>  <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="err">@</span><span class="na">keyup.ctrl.y</span> <span class="err">=</span> <span class="err">&#34;</span><span class="na">showInfo</span><span class="err">&#34;</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="v-if">v-if</h4>
<h5 id="条件渲染">条件渲染</h5>
<p><code>v-if</code> 指令用于条件性地渲染一块内容。这块内容只会在指令的表达式返回 truthy 真实值的时候被渲染。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">v-if</span><span class="o">=</span><span class="s">&#34;awesome&#34;</span><span class="p">&gt;</span>Vue is awesome!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>也可以用 <code>v-else</code> 添加一个“else 块”：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">v-if</span><span class="o">=</span><span class="s">&#34;awesome&#34;</span><span class="p">&gt;</span>Vue is awesome!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">v-else</span><span class="p">&gt;</span>Oh no 😢<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>在<code>&lt;template&gt;</code>元素上使用 <code>v-if </code>条件渲染分组</strong></p>
<p>因为 <code>v-if</code> 是一个指令，所以必须将它添加到一个元素上。但是如果想切换多个元素呢？此时可以把一个 <code>&lt;template&gt;</code> 元素当做不可见的包裹元素，并在上面使用 <code>v-if</code>。最终的渲染结果将不包含 <code>&lt;template&gt;</code> 元素。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span> <span class="na">v-if</span><span class="o">=</span><span class="s">&#34;ok&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Title<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Paragraph 1<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Paragraph 2<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="err">&lt;</span>/template
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="v-else">v-else</h5>
<p>你可以使用 <code>v-else</code> 指令来表示 <code>v-if</code> 的“else 块”：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-if</span><span class="o">=</span><span class="s">&#34;Math.random() &gt; 0.5&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  Now you see me
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-else</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  Now you don&#39;t
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>v-else</code> 元素必须紧跟在带 <code>v-if</code> 或者 <code>v-else-if</code> 的元素的后面，否则它将不会被识别。</p>
<h5 id="v-else-if">v-else-if</h5>
<div class="details admonition warning open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-exclamation-triangle fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">2.1.0 新增</div>
        </div>
    </div>
<p><code>v-else-if</code>，顾名思义，充当 <code>v-if</code> 的“else-if 块”，可以连续使用：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-if</span><span class="o">=</span><span class="s">&#34;type === &#39;A&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  A
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-else-if</span><span class="o">=</span><span class="s">&#34;type === &#39;B&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  B
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-else-if</span><span class="o">=</span><span class="s">&#34;type === &#39;C&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  C
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-else</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  Not A/B/C
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>类似于 <code>v-else</code>，<code>v-else-if</code> 也必须紧跟在带 <code>v-if</code> 或者 <code>v-else-if</code> 的元素之后。</p>
<p><strong>用 <code>key</code> 管理可复用的元素</strong></p>
<p>Vue 会尽可能高效地渲染元素，通常会复用已有元素而不是从头开始渲染。这么做除了使 Vue 变得非常快之外，还有其它一些好处。例如，如果你允许用户在不同的登录方式之间切换：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span> <span class="na">v-if</span><span class="o">=</span><span class="s">&#34;loginType === &#39;username&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>Username<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Enter your username&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span> <span class="na">v-else</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>Email<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Enter your email address&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>那么在上面的代码中切换 <code>loginType</code> 将不会清除用户已经输入的内容。因为两个模板使用了相同的元素，<code>&lt;input&gt;</code> 不会被替换掉——仅仅是替换了它的 <code>placeholder</code>。</p>
<p>自己动手试一试，在输入框中输入一些文本，然后按下切换按钮：</p>
<ifarme>
<div id="key-example" style="margin-top:30px;margin-bottom:30px">
            <div v-if="loginType === 'username'">
              <label>Username</label>
              <input placeholder="Enter your username">
            </div>
            <div v-else>
              <label>Email</label>
              <input placeholder="Enter your email address">
            </div>
            <button @click="toggleLoginType">Toggle login type</button>
</div>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<script type="text/javascript" >
new Vue({
                el: '#key-example',
                data: {
                    loginType: 'username'
                },
                methods: {
                    toggleLoginType: function () {
                    return this.loginType = this.loginType === 'username' ? 'email' : 'username'
                    }
                }
 })
</script>
</ifarme>
<p>这样也不总是符合实际需求，所以 Vue 为你提供了一种方式来表达“这两个元素是完全独立的，不要复用它们”。只需添加一个具有唯一值的 <code>key</code> attribute 即可：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span> <span class="na">v-if</span><span class="o">=</span><span class="s">&#34;loginType === &#39;username&#39;&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>Username<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Enter your username&#34;</span> <span class="na">key</span><span class="o">=</span><span class="s">&#34;username-input&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span> <span class="na">v-else</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>Email<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Enter your email address&#34;</span> <span class="na">key</span><span class="o">=</span><span class="s">&#34;email-input&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>现在，每次切换时，输入框都将被重新渲染。请看：</p>
<div id="key-example" style="margin-top:30px;margin-bottom:30px">
            <div v-if="loginType === 'username'">
                <label>Username</label>
                <input placeholder="Enter your username" key="username-input">
              </div>
              <div v-else>
                <label>Email</label>
                <input placeholder="Enter your email address" key="email-input">
              </div>
            <button @click="toggleLoginType">Toggle login type</button>
</div>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<script type="text/javascript" >
new Vue({
                el: '#key-example',
                data: {
                    loginType: 'username'
                },
                methods: {
                    toggleLoginType: function () {
                    return this.loginType = this.loginType === 'username' ? 'email' : 'username'
                    }
                }
 })
</script>
</iframe>
<p>注意，<code>&lt;label&gt;</code> 元素仍然会被高效地复用，因为它们没有添加 <code>key</code> attribute。</p>
<h4 id="v-show">v-show</h4>
<h5 id="条件渲染-1">条件渲染</h5>
<p>用于根据条件展示元素的选项是 <code>v-show</code> 指令。指定为true就显示，否则就不显示，用法大致为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">v-show</span><span class="o">=</span><span class="s">&#34;true&#34;</span><span class="p">&gt;</span>Hello!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>不同的是带有 <code>v-show</code> 的元素始终会被渲染并保留在 DOM 中。<code>v-show</code> 只是简单地切换元素的 CSS property <code>display</code>。</p>
<div class="details admonition warning open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-exclamation-triangle fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">template模版标签，只能配合v-if使用，不能配合v-show</div>
        </div>
    </div>
<p><strong><code>v-if</code> vs <code>v-show</code></strong></p>
<p><code>v-if</code> 是“真正”的条件渲染，因为它会确保在切换过程中条件块内的事件监听器和子组件适当地被销毁和重建。</p>
<p><code>v-if</code> 也是<strong>惰性的</strong>：如果在初始渲染时条件为假，则什么也不做——直到条件第一次变为真时，才会开始渲染条件块。</p>
<p>相比之下，<code>v-show</code> 就简单得多——不管初始条件是什么，元素总是会被渲染，并且只是简单地基于 CSS 进行切换。</p>
<p>一般来说，<code>v-if</code> 有更高的切换开销，而 <code>v-show</code> 有更高的初始渲染开销。因此，如果需要非常频繁地切换，则使用 <code>v-show</code> 较好；如果在运行时条件很少改变，则使用 <code>v-if</code> 较好。</p>
<h4 id="v-for">v-for</h4>
<h5 id="列表渲染">列表渲染</h5>
<p>​	对于列表渲染： <a href="https://v2.cn.vuejs.org/v2/guide/list.html" target="_blank" rel="noopener noreffer ">官网解释地址</a></p>
<p>v-for的4种用法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!--遍历数组 --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">li</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;(p,index)of persons&#34;</span> <span class="na">:key</span><span class="o">=</span><span class="s">&#34;index&#34;</span><span class="p">&gt;</span>{{p.name}}-{{p.age}}<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--遍历对象 --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">li</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;(value,k)of car&#34;</span> <span class="na">:key</span><span class="o">=</span><span class="s">&#34;k&#34;</span><span class="p">&gt;</span>{{k}}-{{value}}<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--遍历字符串--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">li</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;(char,index)of str&#34;</span> <span class="na">:key</span><span class="o">=</span><span class="s">&#34;index&#34;</span><span class="p">&gt;</span>{{char}}-{{index}}<span class="p">&lt;/</span><span class="nt">1i</span><span class="p">&gt;</span> 
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--遍历指定次数 --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">&lt;</span><span class="nt">li</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&#34;(number,index)of 5&#34;</span> <span class="na">:key</span><span class="o">=</span><span class="s">&#34;index&#34;</span> <span class="p">&gt;</span>{{index}}-{{number}}<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="key作用与原理">key作用与原理</h5>
<p>​	官网解释地址：<a href="https://v2.cn.vuejs.org/v2/api/#key" target="_blank" rel="noopener noreffer ">key</a>     【给每个遍历结点一个标识，相当于每一条数据的唯一标识】</p>
<p>​	我们在这里阐述一下v-for中使用的key的作用。</p>
<p>在Vue中v-for使用时，不使用key属性，并不会报错。</p>
<p>我们探讨</p>
<p>（1）使用key和不使用key的区别</p>
<p>（2）使用key的话，是使用遍历时的索引值index好，还是用数据的唯一标识入xx.id更好</p>
<hr>
<p><strong>key的作用：给节点一个标识，相当于每一条数据的身份证号。</strong></p>
<h6 id="人员遍历示例">人员遍历示例</h6>
<p>下面是一个添加人员在当前数组前方的一个示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">人员列表</span><span class="p">(</span><span class="nx">遍历数组</span><span class="p">)&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click.once</span><span class="s">=&#34;add&#34;</span><span class="p">&gt;</span><span class="nx">点击添加一个人员</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">li</span> <span class="nt">v-for</span><span class="s">=&#34;(p,index) of persons&#34; </span><span class="nt">:key</span><span class="s">=&#34;index&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{{</span><span class="na">p.name</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.age</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">persons</span><span class="o">:</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;001&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;张三&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">18</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;002&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;李四&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">19</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;003&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;王五&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">20</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">add</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="kr">const</span> <span class="nx">p</span> <span class="o">=</span> <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;004&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;添加的人&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">21</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//在persons前方加这条数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h6 id="key关键字属性和其他自定义属性">key关键字属性和其他自定义属性</h6>
<p>​	自定义属性不能命名为key。</p>
<p>​	这块儿注意，我们的代码中是对key进行了描述的。但是在Vue工作后生成的真实Dom中却并没有这个key的描述。</p>
<p>​	这里很明显说明了这里的key只是在Vue中进行使用的。当Vue工作完毕后，会对key进行销毁。</p>
<p>​	进过测试我们可以发现，Vue中使用的所有标签，都对key关键字属性进行了征用，而其他拼写的属性却并没有影响。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240901172808659-1725430862597-1.png"
        data-srcset="./images/image-20240901172808659-1725430862597-1.png, ./images/image-20240901172808659-1725430862597-1.png 1.5x, ./images/image-20240901172808659-1725430862597-1.png 2x"
        data-sizes="auto"
        alt="./images/image-20240901172808659-1725430862597-1.png"
        title="image-20240901172808659" /></p>
<p>继续人员遍历示例：</p>
<p>现在我们在页面上点击添加人员的按钮，可以看见效果：人员添加在数组前方，控制台无报错，dom中标签也相应的生成。</p>
<img src="./images/image-20240901173327531-1725430862597-3.png" alt="image-20240901173327531" style="zoom:50%;" />
<p>目前看起来是没有什么问题的对吧？</p>
<p>这里是有问题的，只是这样看不出来而已。</p>
<h6 id="节点问题情境演示">节点问题情境演示</h6>
<p>我们验证这里的这个问题：</p>
<p>首先，我们在每个li标签后面加上一个input框【其实其他什么节点也是可以验证的，这里我们选择了直观一点的输入框】</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">li</span> <span class="nt">v-for</span><span class="s">=&#34;(p,index) of persons&#34; </span><span class="nt">:key</span><span class="s">=&#34;index&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">{{</span><span class="na">p.name</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.age</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>页面效果如下：</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240901173930522-1725430862597-8.png"
        data-srcset="./images/image-20240901173930522-1725430862597-8.png, ./images/image-20240901173930522-1725430862597-8.png 1.5x, ./images/image-20240901173930522-1725430862597-8.png 2x"
        data-sizes="auto"
        alt="./images/image-20240901173930522-1725430862597-8.png"
        title="image-20240901173930522" /></p>
<p>此时，我们在每个输入框后面填入和每个遍历出来的li标签相对应的值。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240901174100192-1725430862597-2.png"
        data-srcset="./images/image-20240901174100192-1725430862597-2.png, ./images/image-20240901174100192-1725430862597-2.png 1.5x, ./images/image-20240901174100192-1725430862597-2.png 2x"
        data-sizes="auto"
        alt="./images/image-20240901174100192-1725430862597-2.png"
        title="image-20240901174100192" /></p>
<p>之后，点击添加按钮。</p>
<p>这时候，我们发现：添加的人员确实出现在了数组的前方。但是本应该在添加人员后方的输入框诡异的出现在了数组的最后方。使得整个li标签和输入框错位显示。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240901174119829-1725430862597-4.png"
        data-srcset="./images/image-20240901174119829-1725430862597-4.png, ./images/image-20240901174119829-1725430862597-4.png 1.5x, ./images/image-20240901174119829-1725430862597-4.png 2x"
        data-sizes="auto"
        alt="./images/image-20240901174119829-1725430862597-4.png"
        title="image-20240901174119829" /></p>
<p>当我们将key的值换成数组的唯一标识时:key=&ldquo;p.id&rdquo;</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">li</span> <span class="nt">v-for</span><span class="o">=</span><span class="s">&#34;(p,index) of persons&#34; :key=&#34;p.id&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">{{</span><span class="na">p.name</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.age</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>运行效果可以看见，刚刚的问题不会出现</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240901174820947-1725430862597-5.png"
        data-srcset="./images/image-20240901174820947-1725430862597-5.png, ./images/image-20240901174820947-1725430862597-5.png 1.5x, ./images/image-20240901174820947-1725430862597-5.png 2x"
        data-sizes="auto"
        alt="./images/image-20240901174820947-1725430862597-5.png"
        title="image-20240901174820947" /></p>
<p>ok，到这里很清晰了：</p>
<p>key如果不写，或者写index时候，都会产生标签节点间相互错位这样的问题</p>
<hr>
<h6 id="现象解释">现象解释</h6>
<p>我们由此在这里解释造成这一现象的原因：</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240901181543906-1725430862597-6.png"
        data-srcset="./images/image-20240901181543906-1725430862597-6.png, ./images/image-20240901181543906-1725430862597-6.png 1.5x, ./images/image-20240901181543906-1725430862597-6.png 2x"
        data-sizes="auto"
        alt="./images/image-20240901181543906-1725430862597-6.png"
        title="image-20240901181543906" /></p>
<p>​	这张图表示了整个页面生成的一个过程：</p>
<p>​	首先，Vue拿到data中的初始数据如图1，进行初始虚拟DOM的转换。</p>
<p>​	此时转成了图2中的三个li标签。这时，这三个标签的排列顺序是依赖key的值</p>
<p>​	之后Vue将图2的虚拟dom转换成真实dom，如图三。</p>
<p>​	我们就能在界面上看见三个标签节点和其分别对应的输入框节点。</p>
<p>​	这时，我们在输入框中输入了值。【注意：这个值输在了<strong>真实的dom</strong>上】</p>
<p>​	此时的虚拟dom并不知道发生了什么。</p>
<p>​	然后，我们点击了添加按钮。于是data中的数据发生了变化，它按照我们的要求在数组的头部加入了一条新的数据。</p>
<p>​	此时Vue再次进行工作，将新数据转成虚拟DOM。</p>
<p>​	转换完成后，Vue将进入虚拟DOM之间的对比。</p>
<p>​	在Vue虚拟DOM的对比算法中，是按照节点相互对比的。</p>
<p>​	对比的顺序是按照key的值来的。首先取的是两边key=0的那一行。</p>
<p>​	由于此处使用的key值是index，即数组的索引值，所以在数组发生变化时，索引的排列顺序也相应的发生了变化。新数据的索引变成了0，而原来的数据索引都依次向后移动了一位。</p>
<p>在新旧虚拟DOM中进行对比时，Vue发现，原来的0索引节点中：</p>
<p>​	标签节点&rsquo;新添加的人&rsquo;在旧虚拟DOM不是存在的，原来的标签节点是张三不可复用，所以只能新生成一个全新的真实DOM标签节点。</p>
<p>​	而，输入框的节点在旧虚拟DOM是存在的，能够进行复用，所以直接复用已在页面生成好的真实DOM输入框节点。</p>
<p>​	而，页面输入框的真实DOM节点中我们输入了‘张三-18’的内容。</p>
<p>​	由此产生页面上第一行的错误效果。</p>
<p>在一行一行的对比时发现，所有的标签节点均不可复用，所以Vue均进行了重新生成。【注意：这里存在一个效率低的问。：这里产生了重复工作，将已有的东西重新生成，导致了效率低下】</p>
<p>​	最后一行数据的对比时，页面发现没有输入框节点，所以新生成了一个输入框，而这个输入框我们没有输入任何东西。由此产生了页面上最后一行的错误效果。</p>
<hr>
<p>如果使用数据的唯一标识id作为key，则对比时不会出现因为顺序导致节点错乱的情况。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240901190023088-1725430862597-7.png"
        data-srcset="./images/image-20240901190023088-1725430862597-7.png, ./images/image-20240901190023088-1725430862597-7.png 1.5x, ./images/image-20240901190023088-1725430862597-7.png 2x"
        data-sizes="auto"
        alt="./images/image-20240901190023088-1725430862597-7.png"
        title="image-20240901190023088" /></p>
<hr>
<h6 id="小总结">小总结</h6>
<p>这里可以看出</p>
<p>（1）key的作用原理</p>
<p>​	当不写key时，是默认使用的index的方式进行的。</p>
<p>​	当key为index时，操作数据尤为注意不要改变数据排列的顺序。因为遍历完全依赖于数据的索引，数据索引受到数据排列顺序的影响</p>
<p>​	当key为数据唯一标识时，顺序固定且唯一，遍历不受数据顺序的影响。</p>
<p>（2）虚拟dom的对比算法</p>
<p>​	按照key值，一行一行的对比。</p>
<p>​	存在相同节点，则复用已经生成的真实DOM。</p>
<p>​	不存在节点，则生成全新的真实DOM，放入页面中</p>
<h6 id="补充">补充</h6>
<p>往数组里补充数据，插入在最前方用：.unshift，插入在最后面用：.push</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">add</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">p</span> <span class="o">=</span> <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;004&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;添加的人&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">21</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//在persons前方加这条数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//在persons后方加这条数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="v-text">v-text</h4>
<p>向其所在的标签插入文本</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">两个在页面上的效果都是一样的</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;{{</span><span class="nx">name</span><span class="p">}}&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>           <span class="c">&lt;!--</span> <span class="nx">显示wangty</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="p">&lt;</span><span class="nt">div</span> <span class="nt">v-text</span><span class="o">=</span><span class="s">&#34;name&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>     <span class="err">&lt;!--</span> <span class="na">显示wangty</span> <span class="err">--</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="c">&lt;!--</span> <span class="nx">但是我们常用的还是插值语法</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="c">&lt;!--</span> <span class="nx">相较于v</span><span class="o">-</span><span class="nx">text</span><span class="p">,</span><span class="nx">插值语法显得更加灵活</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="nx">你好</span><span class="err">，</span><span class="p">{{</span><span class="nx">name</span><span class="p">}}&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>      <span class="c">&lt;!--</span> <span class="nx">显示</span><span class="err">：</span><span class="nx">你好</span><span class="err">，</span><span class="nx">wangty</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="p">&lt;</span><span class="nt">div</span> <span class="nt">v-text</span><span class="o">=</span><span class="s">&#34;name&#34;</span><span class="p">&gt;</span><span class="na">你好</span><span class="err">，</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span> <span class="err">&lt;!--</span> <span class="na">显示</span><span class="err">：</span><span class="na">wangty</span> <span class="err">--</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="c">&lt;!--</span> <span class="nx">v</span><span class="o">-</span><span class="nx">text会使得Vue拿到</span><span class="s2">&#34;&#34;</span><span class="nx">中的值</span><span class="err">，</span><span class="nx">整个替换掉div中的内容</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="c">&lt;!--</span> <span class="nx">把所有的字符串都当成文本进行解析</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="v-html">v-html</h4>
<p>v-text不解析html标签，于是相对应的就有一个指令是可以解析标签的，他就是v-html。他的用法和v-text一致，只是一个解析标签一个不解析，这里就不在赘述了。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="nt">v-html</span><span class="o">=</span><span class="s">&#34;str&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">str</span><span class="o">:</span><span class="s1">&#39;&lt;h3&gt;wangty&lt;/h3&gt;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>这里讲解一个v-html使用时隐藏的一个安全性的问题</p>
<p>在nodejs章节里我们讲述了cookie的工作原理，这里简单说一下：</p>
<p>cookie简略图：</p>
<p>1、Chrome浏览器携带用户名、密码请求github网站</p>
<p>2、github服务器回应登录成功，跳转个人中心，同时携带该网站专属cookie值返回浏览器【这里的cookie为一组组的 key : value 键值对形式】</p>
<p>3、Chrome浏览器在其application应用的位置，分出一块内存，存储一个以该网站为分类的cookie值【浏览器是可以同时存很多个网站的cookie的。每个网站的cookie都是按照网站分类进行存储的】</p>
<p>4、第二次请求的时候，Chrome浏览器携带第一次返回的cookie再次请求github网站【此次不用携带密码也能正常访问】</p>
<p>5、github服务器回应对应的请求页面，同时携带其他页面需要的新的cookie返回浏览器【有些第二次后请求不会再携带新的cookie，有些会】</p>
<p>简单的来说，cookie可以当做用户名和密码来使用，解决登录验证的问题</p>
<p>这里我们使用两个不同的浏览器，同时安装cookie的导入导出插件【Cookie-Editor】，模拟cookie免登录的情景案例</p>
<p>1、Chrome浏览器打开github，登录账号。F12控制台 - 应用 - cookie - 导出</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/060d8d9fb76b945f4e7b70c29016a27.jpg"
        data-srcset="./images/060d8d9fb76b945f4e7b70c29016a27.jpg, ./images/060d8d9fb76b945f4e7b70c29016a27.jpg 1.5x, ./images/060d8d9fb76b945f4e7b70c29016a27.jpg 2x"
        data-sizes="auto"
        alt="./images/060d8d9fb76b945f4e7b70c29016a27.jpg"
        title="060d8d9fb76b945f4e7b70c29016a27" /></p>
<p>导出的cookie都是JSON格式的字符串键值对</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/ef9f4842c7e7f8abaa3c3229dd195ec.jpg"
        data-srcset="./images/ef9f4842c7e7f8abaa3c3229dd195ec.jpg, ./images/ef9f4842c7e7f8abaa3c3229dd195ec.jpg 1.5x, ./images/ef9f4842c7e7f8abaa3c3229dd195ec.jpg 2x"
        data-sizes="auto"
        alt="./images/ef9f4842c7e7f8abaa3c3229dd195ec.jpg"
        title="ef9f4842c7e7f8abaa3c3229dd195ec" /></p>
<p>2、Edge浏览器打开github。F12控制台 -  应用 - cookie - 导入。刷新页面</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/00a4e5f276e7343c1c00acbae843a7a.jpg"
        data-srcset="./images/00a4e5f276e7343c1c00acbae843a7a.jpg, ./images/00a4e5f276e7343c1c00acbae843a7a.jpg 1.5x, ./images/00a4e5f276e7343c1c00acbae843a7a.jpg 2x"
        data-sizes="auto"
        alt="./images/00a4e5f276e7343c1c00acbae843a7a.jpg"
        title="00a4e5f276e7343c1c00acbae843a7a" /></p>
<p>3、很容易，我们Edge成功自动登录了github并访问了个人中心</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/b70844302cc6e67c99d6953992724b7.jpg"
        data-srcset="./images/b70844302cc6e67c99d6953992724b7.jpg, ./images/b70844302cc6e67c99d6953992724b7.jpg 1.5x, ./images/b70844302cc6e67c99d6953992724b7.jpg 2x"
        data-sizes="auto"
        alt="./images/b70844302cc6e67c99d6953992724b7.jpg"
        title="b70844302cc6e67c99d6953992724b7" /></p>
<p>那么v-html就存在这样的安全问题</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//页面中某处用v-html模板解析某个标签
</span></span></span><span class="line"><span class="cl"><span class="c1">//标签来源于用户的某项输入
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//js可以拿到所有没有加httpsOnly的cookie
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span>   
</span></span><span class="line"><span class="cl"><span class="c1">//若用户进行这样的输入，v-html也按照标签语法解析了，则：这种写法可以将本网站的cookie取到并跳转到其他页面，由此产生安全问题
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="nx">javaScript</span><span class="o">:</span><span class="nx">locatin</span><span class="p">.</span><span class="nx">href</span><span class="o">=</span><span class="s2">&#34;风险网站?&#34;</span><span class="o">+</span><span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span><span class="o">&gt;</span>  
</span></span></code></pre></td></tr></table>
</div>
</div><p>所以 ，在网站上动态渲染任意HTML是非常危险的，容易导致<code>XSS攻击</code>（这个攻击有个好听的名字叫：模拟用户之手）</p>
<p>由此，除了确定无风险的，带标签的字符串模版可以使用v-html其余时候不建议使用。</p>
<h4 id="v-cloak指令">v-cloak指令</h4>
<p>我们来看出现的问题，当存在 js阻塞时：</p>
<p>script写在前面的head里</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">该行阻塞5s则</span><span class="err">，</span><span class="nx">后面的都不加载</span><span class="err">，</span><span class="nx">等待改行加载完成后再执行</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;js/vue.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;{{</span><span class="nx">str</span><span class="p">}}&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">str</span><span class="o">:</span><span class="s1">&#39;123&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>script写在后面的body最尾部</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">该行先进行渲染</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">   	<span class="c">&lt;!--</span> <span class="nx">Vue还没有开始工作</span><span class="err">，</span><span class="nx">能看到一些没被Vue编译的样式</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;{{</span><span class="nx">str</span><span class="p">}}&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">该行阻塞5s则</span><span class="err">，</span><span class="nx">前面的都加载</span><span class="err">，</span><span class="nx">后面的等待该行加载完成后再执行</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;js/vue.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">str</span><span class="o">:</span><span class="s1">&#39;123&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>此时会出现页面显示未被编译的元素等待引入的js编译。为了避免出现这样不友好性的交互体验，Vue提供了一个内置命令v-cloak。</p>
<p>该指令在模版未被渲染的时候作为属性加载在html页面中，在Vue解析页面的时候自动删除。</p>
<p>该指令配合css使用，可以达到在js阻塞时，未被编译的元素均不显示。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">配合css使用</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">[</span><span class="nx">v</span><span class="o">-</span><span class="nx">cloak</span><span class="p">]{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">display</span><span class="o">:</span> <span class="nx">none</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">     <span class="c">&lt;!--</span> <span class="nx">v</span><span class="o">-</span><span class="nx">cloak没有值</span><span class="err">，</span><span class="nx">只有指令名称</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="nt">v-cloak</span><span class="p">&gt;{{</span><span class="na">str</span><span class="p">}}&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="err">&lt;!--</span> <span class="na">该行阻塞5s</span><span class="err">--</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;js/vue.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">str</span><span class="o">:</span><span class="s1">&#39;123&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="v-once指令">v-once指令</h4>
<p>v-once所在节点在初次动态渲染后，就视为静态内容。</p>
<p>以后数据的改变不会引起v-once所在结构的更新。可以用于优化性能。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">v</span><span class="o">-</span><span class="nx">once也只有指令名</span><span class="err">，</span><span class="nx">没有值</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span> <span class="nt">v-once</span><span class="p">&gt;</span><span class="na">初始化的值是</span><span class="err">：</span><span class="p">{{</span><span class="na">n</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前的值是</span><span class="err">：</span><span class="p">{{</span><span class="nx">n</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;n++&#34;</span><span class="p">&gt;</span><span class="na">点我n</span><span class="err">+</span><span class="na">1</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">n</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="v-pre指令">v-pre指令</h4>
<p>v-pre可以使其：1、跳过其所在节点的编译过程 2、可利用它跳过：没有使用指令语法，没有使用插值语法的节点，会加快编译。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">v</span><span class="o">-</span><span class="nx">pre也只有指令名</span><span class="err">，</span><span class="nx">没有值</span><span class="err">，</span><span class="nx">其标注的行Vue不编译</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span> <span class="nt">v-pre</span><span class="p">&gt;</span><span class="na">什么也没有</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="err">&lt;!--</span> <span class="na">该行不编译</span><span class="err">，</span><span class="na">显示</span><span class="err">：</span><span class="na">当前的值是</span><span class="err">：</span><span class="p">{{</span><span class="na">n</span><span class="p">}}</span> <span class="err">--</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span> <span class="nt">v-pre</span><span class="p">&gt;</span><span class="na">当前的值是</span><span class="err">：</span><span class="p">{{</span><span class="na">n</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="err">&lt;!--</span> <span class="na">该行正常编译</span><span class="err">，</span><span class="na">显示</span><span class="err">：</span><span class="na">当前的值是</span><span class="err">：</span><span class="na">1</span> <span class="err">--</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前的值是</span><span class="err">：</span><span class="p">{{</span><span class="nx">n</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;n++&#34;</span><span class="p">&gt;</span><span class="na">点我n</span><span class="err">+</span><span class="na">1</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">n</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="自定义指令-函数式">自定义指令 函数式</h4>
<p>原始的Vue内置指令，就是对Dom的操作进行封装。由此我们也能相对应的操作dom来实现对Vue自定义指令。</p>
<h4 id="自走义指令-对象式">自走义指令 对象式</h4>
<h4 id="自定义指令-总结">自定义指令 总结</h4>
<h2 id="7-el与data的两种写法">7. el与data的两种写法</h2>
<p>我们知道，Vue实例和容器之间是通过el属性进行关联的，如果不写el，则标签引用的Vue数据不会被解析，如下面这段代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">如果不写el</span><span class="p">,</span><span class="nx">则Vue不工作</span><span class="err">，</span><span class="nx">name不被解析</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;{{</span><span class="nx">name</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//el:&#39;#root&#39; ,将该行代码注释，页面不解析name，且控制台不报错
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="vmount">v.$mount(&rsquo;&rsquo;)</h3>
<p>那么有没有什么办法能替代el，使得Vue工作呢</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;{{</span><span class="nx">name</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">v</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span> <span class="c1">//我们使用一个恒定不变的对象来承接整个Vue实例，取名叫v
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">v</span><span class="p">);</span> <span class="c1">//打印这个v，我们能够看到整个Vue的实例对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">v</span><span class="p">.</span><span class="nx">$mount</span><span class="p">(</span><span class="s1">&#39;#root&#39;</span><span class="p">)</span> <span class="c1">//使用Vue实例的$mount方法，指向root容器，以实现解析和挂载
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>在控制台，这是我们第一个看见Vue的整个实例对象</p>
<img src="./images/image-20240827094202953.png" alt="image-20240827094202953" style="zoom:50%;" />
<p>通过这种写法，我们可以很容易的控制Vue解析页面的时间</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//让Vue等一秒钟，再进行页面的解析
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">setTimeout</span><span class="p">(()=&gt;{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">v</span><span class="p">.</span><span class="nx">$mount</span><span class="p">(</span><span class="s1">&#39;#root&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span><span class="mi">1000</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>图解</p>
<img src="./images/image-20240827093737158.png" alt="image-20240827093737158" style="zoom:50%;" />
<h3 id="data函数式写法">data函数式写法</h3>
<p>在Vue实例中，我们把data: {  }，这种写法形式称为对象式写法，花括号{}里包含的是对象属性。</p>
<p>除此之外，data在Vue实例里还能写成函数的形式：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl">	<span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="c1">//data的第一种写法：对象式
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//data的第二种写法：函数式
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">data</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="关于this">关于this</h3>
<p>注意：这里的data函数不是我们手动调用的，是Vue帮我们调用的</p>
<p>在这里我们打印输入一下，data方法中的this</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl">	<span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;this&#34;</span><span class="p">,</span><span class="k">this</span><span class="p">);</span> 
</span></span><span class="line"><span class="cl">                <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>这里this指向的是整个Vue实例对象</p>
<img src="./images/image-20240827095255712.png" alt="image-20240827095255712" style="zoom: 50%;" />
<p>注意，如果把data写成箭头函数，例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl">		<span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">()=&gt;{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;this&#34;</span><span class="p">,</span><span class="k">this</span><span class="p">);</span> 
</span></span><span class="line"><span class="cl">                <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>这里的this指向就会有问题，就会指向全局的window。（箭头函数是没有自己的this的，他默认就会向外去找指向，就会找到外层全局的window，当做他的this去使用）</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240827095625919.png"
        data-srcset="./images/image-20240827095625919.png, ./images/image-20240827095625919.png 1.5x, ./images/image-20240827095625919.png 2x"
        data-sizes="auto"
        alt="./images/image-20240827095625919.png"
        title="image-20240827095625919" /></p>
<h3 id="简写形式-1">简写形式</h3>
<p>我们通常写普通的函数时，一般用（）来代替:function()，所以写成：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl">	<span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">			<span class="c1">//data:function() =====&gt; 等价于  =====&gt; data()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;this&#34;</span><span class="p">,</span><span class="k">this</span><span class="p">);</span> 
</span></span><span class="line"><span class="cl">                <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="details admonition abstract open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-list-ul fa-fw" aria-hidden="true"></i>This is a tip<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">注意：由Vue所管理的函数，一定不能写成箭头函数，例：data()，watch()，computer()等</div>
        </div>
    </div>
<h2 id="8-理解mvvm">8. 理解MVVM</h2>
<p>Vue在最初的设计的时候，很大程度上参考了MVVM模型<a href="https://v2.cn.vuejs.org/v2/guide/instance.html" target="_blank" rel="noopener noreffer ">官网解释地址</a></p>
<img src="./images/image-20240827114445967.png" alt="image-20240827114445967" style="zoom:50%;" />
<p>1.M：模型（Model) :对应 data 中的数据
2.V：视图(View):模板
3.VM：视图模型(ViewModel)：Vue 实例对象</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240827141836011.png"
        data-srcset="./images/image-20240827141836011.png, ./images/image-20240827141836011.png 1.5x, ./images/image-20240827141836011.png 2x"
        data-sizes="auto"
        alt="./images/image-20240827141836011.png"
        title="image-20240827141836011" /></p>
<p>这块注意有个现象：写在data里的属性，会同步出现在Vue实例对象的属性里面，原理我们在数据代理时会进行阐述。</p>
<img src="./images/image-20240827142758707.png" alt="image-20240827142758707" style="zoom:50%;" />
<p>同时{{  }}中，Vue实体内中能够看到的所有属性，也能够使用</p>
<p>【Vue实体内的所有属性，Vue模板都可以使用】</p>
<p>例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;{{</span><span class="nx">$options</span><span class="p">}}&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;{{</span><span class="nx">$emit</span><span class="p">}}&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;{{</span><span class="nx">_c</span><span class="p">}}&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="9-objectdefineproperty">9. Object.defineProperty</h2>
<p>数据劫持、数据代理、计算属性，的底层均用到了Object.defineProperty这个方法</p>
<p>作用：给一个方法或者一个对象定义属性</p>
<p>用法：Object.defineProperties(操作的对象名,&lsquo;添加的属性名&rsquo;,{配置项键值对})</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">address</span><span class="o">:</span><span class="s1">&#39;chengdu&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">//给person对象添加一个属性，叫age，值为18
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">person</span><span class="p">,</span><span class="s1">&#39;age&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">value</span><span class="o">:</span><span class="mi">18</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意这块添加进去的age属性，在控制台的呈现样子</p>
<img src="./images/image-20240827145323514.png" alt="image-20240827145323514" style="zoom: 50%;" />
<p>这个颜色的区别，表示这个age不可以被枚举，及age这个属性不参与遍历</p>
<h3 id="enumerable配置项">enumerable配置项</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//我们通过Object的keys方法对其进行验证
</span></span></span><span class="line"><span class="cl"><span class="c1">// Object.keys()传入一个对象，将对该对象的属性名进行提取，并拼合成一个数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">person</span><span class="p">));</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="./images/image-20240827145841805.png" alt="image-20240827145841805" style="zoom:50%;" />
<p>这里可以明显看到，没有age属性</p>
<p>如果想让age属性能够正常被遍历和枚举，我们引入defineProperty中的另一个配置项enumerable</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//enumerable可枚举的，默认为false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">person</span><span class="p">,</span><span class="s1">&#39;age&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">value</span><span class="o">:</span><span class="mi">18</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nx">enumerable</span><span class="o">:</span><span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="./images/image-20240827150506053.png" alt="image-20240827150506053" style="zoom:50%;" />
<h3 id="writable配置项">writable配置项</h3>
<p>我们在控制台分别操作一下name属性和age属性，再次打印，我们发现age并不能操作成功</p>
<img src="./images/image-20240827151204114.png" alt="image-20240827151204114" style="zoom:50%;" />
<p>这说明defineProperty设置的属性的属性值是不能被修改的</p>
<p>若要使其同正常属性一样能够修改其属性值，则需要使用另一个配置项writable</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//writable 能否被修改，默认为false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">person</span><span class="p">,</span><span class="s1">&#39;age&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">value</span><span class="o">:</span><span class="mi">18</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">writable</span><span class="o">:</span><span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="./images/image-20240827151510869.png" alt="image-20240827151510869" style="zoom:50%;" />
<h3 id="configurable配置项">configurable配置项</h3>
<p>我们对属性进行删除操作，这里同样操作name和age：</p>
<img src="./images/image-20240827151939527.png" alt="image-20240827151939527" style="zoom:50%;" />
<p>这说明defineProperty设置的属性的属性值是不能被删除的</p>
<p>若要使其同正常属性一样能够删除，则需要使用另一个配置项configurable</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//configurable能否被删除，默认为false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">person</span><span class="p">,</span><span class="s1">&#39;age&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">value</span><span class="o">:</span><span class="mi">18</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">configurable</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="./images/image-20240827152135526.png" alt="image-20240827152135526" style="zoom:50%;" />
<h3 id="getter">getter</h3>
<p><strong>get函数</strong></p>
<p>当我有一个从变量number中获取年龄的age需求时，希望：当变量发生变化时，年龄属性也同步发生变化。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"> <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nx">number</span> <span class="o">=</span> <span class="mi">18</span>
</span></span><span class="line"><span class="cl">        <span class="kd">let</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">name</span><span class="o">:</span><span class="s1">&#39;wangty&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">address</span><span class="o">:</span><span class="s1">&#39;chengdu&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">person</span><span class="p">,</span><span class="s1">&#39;age&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//注意简写：
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">//get:function()  ========&gt;  等价于 get()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//当有人读取person的age属性时，get函数就会被调用,且返回值就是age的值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="k">return</span> <span class="s1">&#39;hello&#39;</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//设置成变量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="c1">//return number
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">})</span>
</span></span><span class="line"><span class="cl">            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>控制台效果为：</p>
<img src="./images/image-20240827154407625.png" alt="image-20240827154407625" style="zoom:50%;" />
<p>注意：每一次使用或者涉及读取age这个属性的时候，都会现调用getter</p>
<img src="./images/image-20240827155359306.png" alt="image-20240827155359306" style="zoom:50%;" />
<h3 id="setter">setter</h3>
<p>和getter相同的，有一个控制写入的配置项函数，set函数</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"> <span class="c1">//当有人修改person的age属性时，set函数就会被调用,且入参是修改的age值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">set</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;有人修改age,且修改值为：&#34;</span><span class="o">+</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">number</span> <span class="o">=</span> <span class="nx">value</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="./images/image-20240827155905472.png" alt="image-20240827155905472" style="zoom:50%;" />
<h2 id="10数据代理">10.数据代理</h2>
<p>数据代理：通过一个对象代理对另一个对象中属性的操作（读/写）</p>
<p>例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text/javascript&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nx">obj</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">100</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="kd">let</span> <span class="nx">obj2</span> <span class="o">=</span><span class="p">{</span><span class="nx">y</span><span class="o">:</span><span class="mi">200</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="mi">0</span><span class="nx">bject</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">obj2</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">get</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">x</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span><span class="err">，</span>
</span></span><span class="line"><span class="cl">        <span class="nx">set</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        	<span class="nx">obj</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">value</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">/script&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="vue中的数据代理">Vue中的数据代理</h3>
<p>1.Vue中的数据代理:
通过vm对象来代理data对象中属性的操作(读/号)</p>
<p>2.Vue中数据代理的好处:
更加方便的操作data中的数据
3.基本原理:
通过object.defineProperty()把data对象中所有属性添加到vm上。
为每一个添加到vm上的属性，都指定一个getter/setter。
在getter/setter内部去操作(读/号)data中对应的属性</p>
<p>这个时候我们来看MVVM小结里的Vue实例中的现象，就很好理解：</p>
<img src="./images/image-20240827142758707.png" alt="image-20240827142758707" style="zoom:50%;" />
<p>首先，Vue在设置data方法的时候，将data内的数据复制了一份，放进了Vue实例对象的_data里</p>
<img src="./images/image-20240827162546657.png" alt="image-20240827162546657" style="zoom:50%;" />
<p>此时使用设置的name，可以用_data.name。</p>
<p>此时还没有进行数据代理。</p>
<p>然后，Vue对所有的data内属性和值使用数据代理，在Vue实体中添加name等属性，自动为其设置getter、setter方法，使得：</p>
<p>vm._data.name = vm.name</p>
<p>此时：vm._data = options.data = data  【注意后面这个=成立需要将data要放到整个全局】</p>
<p>关于_data</p>
<p>注意：这块展开_data能够看到和vm中一样的结构，但他并不是数据代理，他主要用来监听data内容变化，用于影响页面解析显示</p>
<img src="./images/image-20240827164718269.png" alt="image-20240827164718269" style="zoom: 67%;" />
<p>Vue中的数据劫持主要是通过ES6的<code>Object.defineProperty()</code>方法来实现。Vue会遍历data选项中的属性，并使用<code>Object.defineProperty()</code>将它们转为带有getter和setter的属性，这样Vue就能监控和响应数据的变化。</p>
<p>数据劫持：我们把原始的data内容，复制后增加了getter和setter方法用于数据监测的这种改写和加工操作，称为数据劫持。</p>
<h2 id="11computed">11.Computed</h2>
<h3 id="姓名案例">姓名案例</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"> <span class="c">&lt;!--</span> <span class="nx">写一个姓名案例</span><span class="err">：</span><span class="nx">实现输入框输入姓名的时候</span><span class="err">，</span><span class="nx">自动拼成全名</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">姓</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="nt">v-model</span><span class="o">=</span><span class="s">&#34;xing&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="na">名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="nt">v-model</span><span class="o">=</span><span class="s">&#34;ming&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="err">&lt;!--</span> <span class="na">插值语法的正常写法</span> <span class="err">--</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">全名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{{</span><span class="nx">xing</span><span class="p">}}</span> <span class="o">-</span> <span class="p">{{</span><span class="nx">ming</span><span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">xing</span><span class="o">:</span><span class="s1">&#39;wang&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">ming</span><span class="o">:</span><span class="s1">&#39;ty&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>页面效果为</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240828143414166.png"
        data-srcset="./images/image-20240828143414166.png, ./images/image-20240828143414166.png 1.5x, ./images/image-20240828143414166.png 2x"
        data-sizes="auto"
        alt="./images/image-20240828143414166.png"
        title="image-20240828143414166" /></p>
<p>这个时候，当input内无限输入姓名的长度，却只取前4位时，插值的写法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">当需求越复杂</span><span class="err">，</span><span class="nx">插值语法中的内容就越多</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">这种写法不报错</span><span class="err">，</span><span class="nx">但是不推荐</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nx">全名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{{</span><span class="nx">xing</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)}}</span> <span class="o">-</span> <span class="p">{{</span><span class="nx">ming</span><span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>在Vue官方文档中，风格指南中明确表示，组件模板中应当只包含简单表达式：</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240828143656575.png"
        data-srcset="./images/image-20240828143656575.png, ./images/image-20240828143656575.png 1.5x, ./images/image-20240828143656575.png 2x"
        data-sizes="auto"
        alt="./images/image-20240828143656575.png"
        title="image-20240828143656575" /></p>
<p>methods的写法：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">fullName不加</span><span class="p">()</span><span class="nx">返回的是整个函数体</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">fullName加</span><span class="p">()</span><span class="nx">返回的是return里的东西</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nx">全名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{{</span><span class="nx">fullName</span><span class="p">()}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fullName</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">       <span class="c1">//return &#39;wangty&#39;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">xing</span> <span class="o">+</span><span class="s1">&#39;-&#39;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">ming</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="计算属性">计算属性</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"> <span class="nx">全名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{{</span><span class="nx">fullName</span><span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">fullName</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="c">&lt;!--</span> <span class="nx">get原理和defineProperty一样</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">get</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                        <span class="k">return</span> <span class="s1">&#39;wangty&#39;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>计算属性加载后依旧会放在vm中</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240828150834336.png"
        data-srcset="./images/image-20240828150834336.png, ./images/image-20240828150834336.png 1.5x, ./images/image-20240828150834336.png 2x"
        data-sizes="auto"
        alt="./images/image-20240828150834336.png"
        title="image-20240828150834336" /></p>
<p>在Vue开发者工具的结构中也能够很清晰的区分普通属性和计算属性</p>
<img src="./images/image-20240828153624537.png" alt="image-20240828153624537" style="zoom:50%;" />
<p>Vue对计算属性的缓存处理：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">写一个姓名案例</span><span class="err">：</span><span class="nx">实现输入框输入姓名的时候</span><span class="err">，</span><span class="nx">自动拼成全名</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">姓</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="nt">v-model</span><span class="o">=</span><span class="s">&#34;xing&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="na">名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="nt">v-model</span><span class="o">=</span><span class="s">&#34;ming&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="na">全名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{{</span><span class="nx">fullName</span><span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span><span class="c">&lt;!--</span> <span class="nx">第一次调用</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">全名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{{</span><span class="nx">fullName</span><span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span><span class="c">&lt;!--</span> <span class="nx">第二次调用</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">全名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{{</span><span class="nx">fullName</span><span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span><span class="c">&lt;!--</span> <span class="nx">第三次调用</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">全名</span><span class="err">：</span><span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;{{</span><span class="nx">fullName</span><span class="p">}}&lt;/</span><span class="nt">span</span><span class="p">&gt;</span><span class="c">&lt;!--</span> <span class="nx">第四次调用</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">vm</span> <span class="o">=</span>  <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">xing</span><span class="o">:</span><span class="s1">&#39;wang&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">ming</span><span class="o">:</span><span class="s1">&#39;ty&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">           <span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">fullName</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//有人读取fullname时，被调用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">get</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;get被调用&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">xing</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">ming</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意控制台，这个地方对get的调用只调了一次！</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240828151500443.png"
        data-srcset="./images/image-20240828151500443.png, ./images/image-20240828151500443.png 1.5x, ./images/image-20240828151500443.png 2x"
        data-sizes="auto"
        alt="./images/image-20240828151500443.png"
        title="image-20240828151500443" /></p>
<p>实际上，在第一次调用fullName属性的时候，Vue向计算属性要了返回结果，并进行了缓存处理。在后面再次请求fullName属性的时候，直接使用了缓存中的值。</p>
<p>那么这个缓存在数据变化时是否会对显示造成影响呢？是不会的。</p>
<p>计算属性中的get有两个被调用时机：</p>
<p>​	1、初次读取fullName属性时</p>
<p>​	2、当依赖的数据发生变化时</p>
<p><strong>此处就可以区分methods写法和computed写法之间的优劣了。对的，methods会反复调用！！</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text/javascript&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">.....</span>
</span></span><span class="line"><span class="cl">    <span class="p">,</span><span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">fullName</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//有人读取fullname时，被调用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">get</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;get被调用&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">xing</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">ming</span>
</span></span><span class="line"><span class="cl">                    <span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//有人修改fullname时，被调用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="c1">//传入value为‘李-四’
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">set</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;set被调用,被修改的值：&#34;</span><span class="p">,</span><span class="nx">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                        <span class="kr">const</span> <span class="nx">arr</span> <span class="o">=</span> <span class="nx">value</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                        <span class="k">this</span><span class="p">.</span><span class="nx">xing</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">                        <span class="k">this</span><span class="p">.</span><span class="nx">ming</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">.......</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">/script&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>计算属性总结：
1.定义：要用的属性不存在，要通过已有属性计算得来。
2.原理：底层借助了objcet.defineproperty方法提供的getter和setter。
3.get函效什么时候执行？
（1）.初次读取时会执行一次。
（2）.当依赖的数据发生改变时会被再次调用。
4.优势：与methods实现相比。内部有缓存机制（复用），效奉更高，调试方便。
5.备注：
1.计算属性最终会出现在vm上，直接读取使用即可。
2.如果计算属性要被修改，那必须写set函数去响应修改，且set中要引起计算时依赖的数据发生</p>
<h3 id="计算属性-简写">计算属性 简写</h3>
<p>通常情况下，我们多使用计算属性的读取，不怎么使用修改。当确定计算属性只读不改时：</p>
<p>我们简化计算属性的写法：</p>
<p>1、删除掉set方法；</p>
<p>2、将fullName由对象写法改成函数写法：</p>
<p>​	fullName:{   }   ===&gt;   fullName:function( ){   }  ===&gt;  fullName(){   }</p>
<p>​	并将这个函数，当作get函数使用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text/javascript&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">.....</span>
</span></span><span class="line"><span class="cl">    <span class="p">,</span><span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fullName</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">           <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">xing</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">ming</span>
</span></span><span class="line"><span class="cl">          <span class="p">},</span>
</span></span><span class="line"><span class="cl">     <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">.......</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">/script&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="12watch">12.watch</h2>
<h3 id="天气案例">天气案例</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">写一个按钮点击后</span><span class="err">，</span><span class="nx">实现页面天气的切换</span><span class="err">，</span><span class="nx">并且输出切换前的天气和切换后的天气</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">今天天气很</span><span class="p">{{</span><span class="nx">info</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="err">@</span><span class="na">click</span><span class="o">=</span><span class="s">&#34;isHost = !isHost&#34;</span><span class="p">&gt;</span><span class="nx">点击切换天气</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">vm</span> <span class="o">=</span>  <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">isHost</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">           <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">           <span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">info</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">               <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">isHost</span><span class="o">?</span> <span class="s1">&#39;炎热&#39;</span><span class="o">:</span><span class="s1">&#39;凉爽&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>效果是，点击按钮，天气能在炎热凉爽之间来回切换</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240828161106046.png"
        data-srcset="./images/image-20240828161106046.png, ./images/image-20240828161106046.png 1.5x, ./images/image-20240828161106046.png 2x"
        data-sizes="auto"
        alt="./images/image-20240828161106046.png"
        title="image-20240828161106046" /></p>
<p>注意：这样的写法，在Vue开发者工具上会有个bug</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">当我将下面这行代码</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">今天天气很</span><span class="p">{{</span><span class="nx">info</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">改为</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">今天天气很一般</span><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="p">.....</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">....</span>
</span></span><span class="line"><span class="cl">          <span class="p">,</span><span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">info</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">               <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">isHost</span><span class="o">?</span> <span class="s1">&#39;炎热&#39;</span><span class="o">:</span><span class="s1">&#39;凉爽&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">       <span class="p">....</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>此处，computed中info的属性依旧随着isHost值的变化，而计算了</p>
<p>但是在Vue开发者工具中却并不能提现。但是我们可以通过vm验证，计算属性是变化了的。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240828162451016.png"
        data-srcset="./images/image-20240828162451016.png, ./images/image-20240828162451016.png 1.5x, ./images/image-20240828162451016.png 2x"
        data-sizes="auto"
        alt="./images/image-20240828162451016.png"
        title="image-20240828162451016" /></p>
<p>即，当页面没有使用计算属性和基本属性的时候，Vue开发者工具，就不更新data中被修改的基本属性的值了。但是实际上vm中的data属性值和计算属性值都是被更改了的。</p>
<p>此处属于Vue开发者工具的一个小坑，后续可能Vue开发者工具会进行维护。</p>
<h3 id="监视属性">监视属性</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="p">.....</span>
</span></span><span class="line"><span class="cl">           <span class="p">,</span><span class="nx">watch</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">          		<span class="c1">//isHost：监视谁，这儿就写谁的名字，这里指监视isHost的变化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">isHost</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//handler函数什么时候调用？在isHost被修改的时候。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">handler</span><span class="p">(</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;isHost被修改了&#39;</span><span class="p">,</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                    <span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//初始化时是否执行handler,默认为false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">immediate</span><span class="o">:</span><span class="kc">true</span>    
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>控制台效果</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240828163632724.png"
        data-srcset="./images/image-20240828163632724.png, ./images/image-20240828163632724.png 1.5x, ./images/image-20240828163632724.png 2x"
        data-sizes="auto"
        alt="./images/image-20240828163632724.png"
        title="image-20240828163632724" /></p>
<p>第二种写法，可以通过Vue实例对象，实现效果都是一样的</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">vm</span> <span class="o">=</span>  <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="p">........</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">      <span class="c1">//注意这里监视对象要加&#39;&#39;引号。里面的配置项内容和watch里的写法一样
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">vm</span><span class="p">.</span><span class="nx">$watch</span><span class="p">(</span><span class="s1">&#39;isHost&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">handler</span><span class="p">(</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;isHost被修改了&#39;</span><span class="p">,</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//immediate:true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>监视属性watch
1.当被监视的属性变化时，回调函数自动调用，进行相关操作
2.监视的属性必须存在，才能进行监视！！ 没有不会报错，但是监视前后数据都是undefined
3.监视的两种写法：
（1）. new Vue时传入watch配置</p>
<p>​	（2）. 通过vm.$watch监视</p>
<h3 id="深度监视">深度监视</h3>
<p>深度监视：
（1）Vue中的watch默认不监测对象内部值的改变（一层）。
（2）配置deep:true可以监测对象内部值改变（多层）。
备注：
（1）Vue自身可以监测对象内部值的改变，但vue提供的watch默认不可以！
（2）使用watch时根据数据的具体结构，决定是否采用深度监视。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">vm</span> <span class="o">=</span>  <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">           <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">           <span class="nx">data</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">number</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">a</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">b</span><span class="o">:</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">           <span class="nx">watch</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//监视多级结构中，某个属性的变化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="s1">&#39;number.a&#39;</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">handler</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;a被修改了&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span>   
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">注意</span><span class="err">：</span><span class="nx">这块儿监视的number是指number</span><span class="err">：</span><span class="p">{</span>   <span class="p">}</span><span class="nx">对象所在的地址值</span>
</span></span><span class="line"><span class="cl"><span class="nx">如果写成watch</span><span class="err">：</span><span class="p">{</span>  
</span></span><span class="line"><span class="cl">		<span class="nx">number</span><span class="err">：</span><span class="p">{</span>   <span class="p">}</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">地址永远不会变化</span><span class="err">，</span><span class="nx">则永远不会触发监听</span><span class="err">。</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果想要监视到number中任意一个值变化，那么需要加上监视穿透deep</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span> 
</span></span><span class="line"><span class="cl">    <span class="p">.........,</span>
</span></span><span class="line"><span class="cl">           <span class="nx">watch</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">number</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">deep</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">handler</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;a被修改了&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span>   
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">	<span class="p">.......</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意：这块两个概念，Vue实例是可以监测到多层级数据中属性的变化的，这个可以在控制台通过打印vm验证。只是Vue提供给开发者的watch属性中，无法直接监测到多层级数据的变化，需要设置默认检测层级或者使用deep。</p>
<h3 id="监视的简写形式">监视的简写形式</h3>
<p>如果监视的对象不适用其他配置项，例如deep，immediate等，只使用handler，可简写成：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span> 
</span></span><span class="line"><span class="cl">    <span class="p">.........,</span>
</span></span><span class="line"><span class="cl">           <span class="nx">watch</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//正常写法   
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">isHost</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">              <span class="nx">handler</span><span class="p">(</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">              <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;isHost被修改了&#39;</span><span class="p">,</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//简写，isHost对象式写成函数式，当handler用
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">isHost</span><span class="p">(</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">              <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;isHost被修改了&#39;</span><span class="p">,</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">	<span class="p">.......</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">或者</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span> 
</span></span><span class="line"><span class="cl">    <span class="p">.........,</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//正常写法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span> 		<span class="nx">vm</span><span class="p">.</span><span class="nx">$watch</span><span class="p">(</span><span class="s1">&#39;isHost&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">           <span class="nx">handler</span><span class="p">(</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">              <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;isHost被修改了&#39;</span><span class="p">,</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">           <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//deep:true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">//immediate:true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">})</span>
</span></span><span class="line"><span class="cl">   		 <span class="c1">//简写
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">vm</span><span class="p">.</span><span class="nx">$watch</span><span class="p">(</span><span class="s1">&#39;isHost&#39;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">           <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;isHost被修改了&#39;</span><span class="p">,</span><span class="nx">newValue</span><span class="p">,</span><span class="nx">oldValue</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">	<span class="p">.......</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="13watch对比computed">13.watch对比computed</h2>
<p><strong>计算属性 vs 侦听属性</strong></p>
<p>Vue 提供了一种更通用的方式来观察和响应 Vue 实例上的数据变动：<strong>侦听属性</strong>。当你有一些数据需要随着其它数据变动而变动时，你很容易滥用 <code>watch</code>——特别是如果你之前使用过 AngularJS。然而，通常更好的做法是使用计算属性而不是命令式的 <code>watch</code> 回调。细想一下这个例子：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">id</span><span class="o">=</span><span class="s2">&#34;demo&#34;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="nx">fullName</span> <span class="p">}}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;#demo&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">firstName</span><span class="o">:</span> <span class="s1">&#39;Foo&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">lastName</span><span class="o">:</span> <span class="s1">&#39;Bar&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fullName</span><span class="o">:</span> <span class="s1">&#39;Foo Bar&#39;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">watch</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">firstName</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">fullName</span> <span class="o">=</span> <span class="nx">val</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lastName</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">lastName</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">fullName</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="nx">val</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>上面代码是命令式且重复的。将它与计算属性的版本进行比较：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;#demo&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">firstName</span><span class="o">:</span> <span class="s1">&#39;Foo&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">lastName</span><span class="o">:</span> <span class="s1">&#39;Bar&#39;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">computed</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fullName</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lastName</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>好得多了，不是吗？</p>
<p><strong>我们发现，好多功能在使用watch和computed属性都可以完成：</strong></p>
<p>不过呢。。。computed完全依赖return的内容。</p>
<p>但是，目前还没有办法可以让computed等待一段时间再进行return返回。</p>
<p>说明，计算属性中，是<strong>不能够开启异步任务</strong>去处理数据的。</p>
<p>那这个时候就需要依赖watch</p>
<p>watch不依赖return，watch中的数据修改，依赖于数据处理语句，例如：a = b ，给a的赋值语句</p>
<p>所以当有：想要某值改变，但是延迟一秒操作的时候。使用watch进行处理</p>
<p><strong>这里注意一个小细节哦：</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//这里的setTimeout很自然的使用了箭头函数
</span></span></span><span class="line"><span class="cl"><span class="c1">//之前我们说过，尽量不适用箭头函数以免改变了方法体中this的指向
</span></span></span><span class="line"><span class="cl"><span class="c1">//这里：
</span></span></span><span class="line"><span class="cl"><span class="c1">//isHost是Vue管理下的函数。
</span></span></span><span class="line"><span class="cl"><span class="c1">//但是setTimeout定时器所指定的回调，是不受Vue控制的。浏览器定时器管理模块控制的。最后到时间了，也是js引擎帮我们调的函数
</span></span></span><span class="line"><span class="cl"><span class="c1">//------------------------------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1">//所以这儿，必须写成箭头函数
</span></span></span><span class="line"><span class="cl"><span class="c1">//如果这儿写成普通函数，js引擎会认为this是它引擎控制的整个window
</span></span></span><span class="line"><span class="cl"><span class="c1">//------------------------------------------------------
</span></span></span><span class="line"><span class="cl"><span class="c1">//原理：
</span></span></span><span class="line"><span class="cl"><span class="c1">//当这儿写成箭头函数的时候，由于箭头函数没有this，就会默认往外层找
</span></span></span><span class="line"><span class="cl"><span class="c1">//这儿setTimeout的外层是isHost函数
</span></span></span><span class="line"><span class="cl"><span class="c1">//而isHost函数的this就是Vue
</span></span></span><span class="line"><span class="cl"><span class="c1">//由此使得this的指向正常
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">		<span class="nx">watch</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">isHost</span><span class="p">(</span><span class="nx">val</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                <span class="nx">setTimeout</span><span class="p">(()=&gt;{</span>
</span></span><span class="line"><span class="cl">                    <span class="k">this</span><span class="p">.</span><span class="nx">isHost</span> <span class="o">=</span> <span class="nx">val</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span><span class="mi">1000</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>小结：</p>
<p>computed利watch之间的区别：
1.computed能完成的功能，watch都可以完成。
2.watch能完成的功能，computed不一定能完成，例如：watch可以进行异步操作。
两个重要的小原则：
1.所被vue管理的函数，最好写成普通函数，这样this的指向才是vm 或 组件实例对象。
2.所有不被Vue所管理的函数（定时器的回调函数、ajax的回调函数、Promise的回调函数等，只要是没引入Vue都可以调用的函数），最好写成箭头函数，这样this的指向才是vm 或 组件实例对象</p>
<h2 id="14列表过滤">14.列表过滤</h2>
<img src="./images/image-20240904164224323.png" alt="image-20240904164224323" style="zoom:50%;" />
<p>两种实现方式，先用watch写一遍再用computed写一遍</p>
<p><strong>watch写法：</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">列表过滤</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="nt">v-model</span><span class="o">=</span><span class="s">&#34;keyWord&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">li</span> <span class="nt">v-for</span><span class="o">=</span><span class="s">&#34;(p,index) of filPersons&#34; :key=&#34;p.id&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span><span class="na">p.name</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.age</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.sex</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">watch</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">keyWord</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">immediate</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">handler</span><span class="p">(</span><span class="nx">val</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                        <span class="c1">//这块注意，filter要返回满足条件的新数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                        <span class="k">this</span><span class="p">.</span><span class="nx">filPersons</span> <span class="o">=</span>   <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">p</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">                        <span class="c1">//indexOf对于包含的内容返回索引，不包含的内容返回-1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                        <span class="c1">//这里注意，都包含空字符串：任何字符串.indexOf(&#39;&#39;)都返回0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                        <span class="k">return</span> <span class="nx">p</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                        <span class="p">})</span>
</span></span><span class="line"><span class="cl">                    <span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">keyWord</span><span class="o">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">persons</span><span class="o">:</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;001&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;马冬梅&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">18</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;女&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;002&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;周冬雨&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">19</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;女&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;003&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;周杰伦&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">20</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;004&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;温兆伦&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">21</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="nx">filPersons</span><span class="o">:</span><span class="p">[]</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>computed写法：</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">列表过滤</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="nt">v-model</span><span class="o">=</span><span class="s">&#34;keyWord&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">li</span> <span class="nt">v-for</span><span class="o">=</span><span class="s">&#34;(p,index) of filPersons&#34; :key=&#34;p.id&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span><span class="na">p.name</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.age</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.sex</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">filPersons</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                  <span class="k">return</span>  <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">p</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">                       <span class="k">return</span> <span class="nx">p</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">keyWord</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                    <span class="p">})</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">keyWord</span><span class="o">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">persons</span><span class="o">:</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;001&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;马冬梅&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">18</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;女&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;002&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;周冬雨&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">19</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;女&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;003&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;周杰伦&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">20</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;004&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;温兆伦&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">21</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="15列表排序">15.列表排序</h2>
<p>排序和搜索都能同时控制使用</p>
<img src="./images/image-20240904174138070.png" alt="image-20240904174138070" style="zoom:50%;" />
<p><strong>computed写法：</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">列表排序</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="nt">v-model</span><span class="o">=</span><span class="s">&#34;keyWord&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="err">@</span><span class="na">click </span><span class="o">=</span> <span class="s">&#34;sortType = 2&#34;</span><span class="p">&gt;</span><span class="nx">年龄升序</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="err">@</span><span class="na">click </span><span class="o">=</span> <span class="s">&#34;sortType = 1&#34;</span><span class="p">&gt;</span><span class="nx">年龄降序</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="err">@</span><span class="na">click </span><span class="o">=</span> <span class="s">&#34;sortType = 0&#34;</span><span class="p">&gt;</span><span class="nx">原顺序</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">li</span> <span class="nt">v-for</span><span class="o">=</span><span class="s">&#34;(p,index) of filPersons&#34; :key=&#34;p.id&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span><span class="na">p.name</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.age</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.sex</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">filPersons</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                  <span class="kr">const</span> <span class="nx">arr</span> <span class="o">=</span>   <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">p</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">                       <span class="k">return</span> <span class="nx">p</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">keyWord</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">                    <span class="p">})</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//为0时不进该判断
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">sortType</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                        <span class="c1">//升降序方法.sort(a,b)两个入参。升序-前减后，降序-后减前
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                        <span class="nx">arr</span><span class="p">.</span><span class="nx">sort</span><span class="p">((</span><span class="nx">p1</span><span class="p">,</span><span class="nx">p2</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">                            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">sortType</span> <span class="o">===</span> <span class="mi">1</span><span class="o">?</span> <span class="nx">p2</span><span class="p">.</span><span class="nx">age</span> <span class="o">-</span> <span class="nx">p1</span><span class="p">.</span><span class="nx">age</span> <span class="o">:</span> <span class="nx">p1</span><span class="p">.</span><span class="nx">age</span> <span class="o">-</span> <span class="nx">p2</span><span class="p">.</span><span class="nx">age</span>
</span></span><span class="line"><span class="cl">                        <span class="p">})</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span> <span class="nx">arr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">keyWord</span><span class="o">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">sortType</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span> <span class="c1">// 0原顺序 1降序 2升序
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nx">persons</span><span class="o">:</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;001&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;马冬梅&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">18</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;女&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;002&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;周冬雨&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">19</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;女&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;003&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;周杰伦&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">20</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;004&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;温兆伦&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">21</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="16vue监测数据改变的原理">16.Vue监测数据改变的原理</h2>
<p>这里注意，修改更新data中的数据时存在这样一个问题：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">人员列表</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="nt">@click</span><span class="s">=&#34;updataMei&#34;</span><span class="p">&gt;</span><span class="na">点击更改马冬梅的数据</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">li</span> <span class="nt">v-for</span><span class="o">=</span><span class="s">&#34;(p,index) of persons&#34; :key=&#34;p.id&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">{{</span><span class="na">p.name</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.age</span><span class="p">}}</span><span class="err">-</span><span class="p">{{</span><span class="na">p.sex</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">       <span class="kr">const</span> <span class="nx">vm</span> <span class="o">=</span>  <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">persons</span><span class="o">:</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;001&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;马冬梅&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">18</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;女&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;002&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;周冬雨&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">19</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;女&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;003&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;周杰伦&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">20</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;004&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;温兆伦&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">21</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">updataMei</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//这里挨个修改data中的第一行数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">&#39;马老师&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                    <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">age</span> <span class="o">=</span> <span class="s1">&#39;50&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                    <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">sex</span> <span class="o">=</span> <span class="s1">&#39;男&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//这里整体修改data中的第一行数据 【会发现此种写法它不生效】
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="k">this</span><span class="p">.</span><span class="nx">persons</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s1">&#39;001&#39;</span><span class="p">,</span><span class="nx">name</span><span class="o">:</span><span class="s1">&#39;马老师&#39;</span><span class="p">,</span><span class="nx">age</span><span class="o">:</span><span class="mi">50</span><span class="p">,</span><span class="nx">sex</span><span class="o">:</span><span class="s1">&#39;男&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>运行结果：</p>
<p><strong><img src="./images/image-20240905094650683.png" alt="image-20240905094650683" style="zoom:50%;" /></strong></p>
<p>可以看出，逐条修改数据，可以成功修改Vue中的数据，并且更新页面上的显示；但是整体修改，Vue中的数据确实被修改了，这里通过vm可以看出，页面上却不更新显示。</p>
<p>由此我们在这里探讨：Vue监测数据改变的原理。（Vue是如何监测数据改变的）</p>
<h3 id="响应式解析过程">响应式解析过程</h3>
<p>data中数据的解析过程：</p>
<p>​	在数据代理小节：我们知道，Vue将data中的数据复制一份,形成了<code>_data</code>。Vue通过<code>_data</code>进行数据代理生成页面上的data。</p>
<p>​	但是，这儿能看出我们写的data和vm中的_data，<code>_data</code>结构上比我们写的多了些东西。这里说明Vue不是单纯的复制了我们写的data，它对data进行了加工。</p>
<p>​	它对data进行加工的作用，使得我们在修改data中的数据的时候，它通过setter方法重新解析模板。这就是响应式。</p>
<p>​	整个响应式流程：data中name修改，形成新的<code>_data.name</code>，调用setter方法、重新解析模版，生成虚拟dom，新旧dom对比算法，复用旧dom/生成新dom。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240905104636170.png"
        data-srcset="./images/image-20240905104636170.png, ./images/image-20240905104636170.png 1.5x, ./images/image-20240905104636170.png 2x"
        data-sizes="auto"
        alt="./images/image-20240905104636170.png"
        title="image-20240905104636170" /></p>
<h3 id="模拟数据监测">模拟数据监测</h3>
<p>这里我们不使用Vue，单独写一个对象的数据监测：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!--Vue的数据检测类似 --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">text</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;username&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nx">age</span><span class="o">:</span><span class="s1">&#39;12&#39;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1">//这里创建一个监视的实力对象，用于监视数据data中的数据变化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>           <span class="kr">const</span> <span class="nx">obs</span> <span class="o">=</span>  <span class="k">new</span> <span class="nx">Observer</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">           <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obs</span><span class="p">);</span> <span class="c1">//这里的obs打印输出来和data一致
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>           
</span></span><span class="line"><span class="cl">           <span class="c1">//Observer函数：入参为需要监视的数据对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>           <span class="kd">function</span> <span class="nx">Observer</span><span class="p">(</span><span class="nx">obs</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//取对象中所有的属性形成一个数组 ，这里是[name,age]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="kr">const</span> <span class="nx">keys</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">obs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//遍历
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">keys</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">k</span><span class="p">)=&gt;{</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//k为每一个属性,this为整个obs实例对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="c1">//Object.defineProperty(对象,&#39;属性&#39;,{})
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">k</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//读：就把改属性的值返回去
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">get</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;被读&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                        <span class="k">return</span> <span class="nx">obs</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                    <span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="c1">//改：就把收到的值替换到对应属性
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">set</span><span class="p">(</span><span class="nx">val</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;被改&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">obs</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="o">=</span> <span class="nx">val</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">})</span>
</span></span><span class="line"><span class="cl">            <span class="p">})</span>
</span></span><span class="line"><span class="cl">           <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意不能直接对data使用defineProperty，防止死循环</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//死循环代码
</span></span></span><span class="line"><span class="cl"><span class="c1">//这种监视会反复调用读取，导致卡死
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="s1">&#39;name&#39;</span><span class="p">,{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">get</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="nx">data</span><span class="p">.</span><span class="nx">name</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="vue里的对象监测原理">Vue里的对象监测原理</h3>
<p>​	Vue底层的对象监测类似于此，依赖于Vue.set()</p>
<h3 id="vueset">Vue.set()</h3>
<p>注意，Vue里模版中使用一个对象中不存在的属性，则值默认为undefined。如果Vue在页面中遇到undefined，则默认成什么都不展示，且控制台无报错。</p>
<p>当Vue里模版中使用vm身上不存在的属性，控制台就会报错告诉你未定义。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240905124940323.png"
        data-srcset="./images/image-20240905124940323.png, ./images/image-20240905124940323.png 1.5x, ./images/image-20240905124940323.png 2x"
        data-sizes="auto"
        alt="./images/image-20240905124940323.png"
        title="image-20240905124940323" /></p>
<p>所以这里，我们设置一个属性时，将其定义在对象中。保证我们的演示效果，写法如上图左侧</p>
<p>我们需要对student.sex实时追加属性值，使得页面上同时进行实时更新。</p>
<p>这里使用Vue.set()  <a href="https://v2.cn.vuejs.org/v2/api/#Vue-set" target="_blank" rel="noopener noreffer ">官网API地址</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//Vue提供函数  target改动对象，key操作的属性，val修改的值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">Vue</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span><span class="nx">key</span><span class="p">,</span><span class="nx">val</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//vm._data取对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">Vue</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">vm</span><span class="p">.</span><span class="nx">_data</span><span class="p">.</span><span class="nx">student</span><span class="p">,</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">//或者vm.data取对象，数据代理原理
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">Vue</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">vm</span><span class="p">.</span><span class="nx">student</span><span class="p">,</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>或者使用vm.$set()</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">vm</span><span class="p">.</span><span class="nx">$set</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span><span class="nx">key</span><span class="p">,</span><span class="nx">val</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//vm._data取对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">vm</span><span class="p">.</span><span class="nx">$set</span><span class="p">(</span><span class="nx">vm</span><span class="p">.</span><span class="nx">_data</span><span class="p">.</span><span class="nx">student</span><span class="p">,</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">//或者vm.data取对象，数据代理原理
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">vm</span><span class="p">.</span><span class="nx">$set</span><span class="p">(</span><span class="nx">vm</span><span class="p">.</span><span class="nx">student</span><span class="p">,</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意：对象不能是 Vue 实例，或者 Vue 实例的根数据对象。Vue.set()不是万能的，其设定了禁止直接对vm进行操作。即，只能操作data里的对象，不能操作data对象，例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//使用Vue.set()直接在vm中加入sex属性
</span></span></span><span class="line"><span class="cl"><span class="c1">//此操作会报错，告诉你禁止直接操作vm下的data对象。
</span></span></span><span class="line"><span class="cl"><span class="c1">//下面是两种错误写法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">Vue</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">vm</span><span class="p">.</span><span class="nx">_data</span><span class="p">.</span><span class="nx">sex</span><span class="p">,</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nx">Vue</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">vm</span><span class="p">.</span><span class="nx">sex</span><span class="p">,</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span><span class="s1">&#39;男&#39;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="./images/image-20240905130717576.png" alt="image-20240905130717576" style="zoom: 67%;" />
<h3 id="vue里的数组监测原理">Vue里的数组监测原理</h3>
<p>Vue如何检测<strong>数组</strong>里的数据改变</p>
<p>我们将data中设置一组对象数据，和一组数组数据，我们在页面控制台输出的data中可以看到两个数据的差别</p>
<p>Vue在加工的时候，给对象都创建了getter和setter方法。但是数组却没有。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./images/image-20240905134821315.png"
        data-srcset="./images/image-20240905134821315.png, ./images/image-20240905134821315.png 1.5x, ./images/image-20240905134821315.png 2x"
        data-sizes="auto"
        alt="./images/image-20240905134821315.png"
        title="image-20240905134821315" /></p>
<p>当我们修改数组的时候</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">this</span><span class="p">.</span><span class="nx">school</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;大学&#39;</span>  <span class="c1">//页面不生效
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>原因这儿就找到了！页面模版的重新解析，依赖了数据中的setter方法，而数组没有setter。所以当我们修改数组时，vm的data中确实数据发生了更改，而页面却没有任何变化。这就也解释了为什么人员列表的时候，persons数组列表中直接修改第一行的数据，vm被改动，但页面不生效的现象了。</p>
<p>在Vue 的设计者认为中，数组应使用修改数组的一些方法对其进行修改。只有当使用数组的通用修改方法时，Vue才承认数组被改变了，才能够监测到数组数据的改变。</p>
<p>修改数组的一些常用方法：</p>
<p>​	push：在数组尾部添加一个元素</p>
<p>​	pop：删除最后一个元素</p>
<p>​	shift：删除第一个元素</p>
<p>​	unshift：在数组头部添加一个元素</p>
<p>​	splice：在某索引处进行删除、修改、添加</p>
<p>​	sort：数组排序</p>
<p>​	reverse：数组翻转</p>
<p>当使用上面这些方法时，Vue则可以成功监测到数据改变，同步更新页面。例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">vm</span><span class="p">.</span><span class="nx">_data</span><span class="p">.</span><span class="nx">school</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;大学&#39;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>当然，提供的Vue.set() 依旧对数组有效</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">Vue</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">vm</span><span class="p">.</span><span class="nx">_data</span><span class="p">.</span><span class="nx">school</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;大学&#39;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>不过需要注意的是，这里vm使用的push及其以上方法，并是不原生态的Array数组使用的push方法。Vue对其进行了包装。<a href="https://v2.cn.vuejs.org/v2/guide/list.html#%e6%95%b0%e7%bb%84%e6%9b%b4%e6%96%b0%e6%a3%80%e6%b5%8b" target="_blank" rel="noopener noreffer ">官网API地址</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">//控制台验证
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">vm</span><span class="p">.</span><span class="nx">_data</span><span class="p">.</span><span class="nx">school</span><span class="p">.</span><span class="nx">push</span> <span class="o">===</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">push</span>   <span class="c1">//false
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="17表单数据收集">17.表单数据收集</h2>
<p>表单数据收集时：</p>
<p>ajax前台往后台传参数的时候，把一组数据转成JSON格式的</p>
<p>JSON.statiy()数据转换成JSON格式</p>
<p>收集表单数据：可以用this._data，但是一般不推荐直接使用</p>
<p>建议整个表单数据，前面包一个对象，通过 对象收集 this.queryInfo</p>
<p>v-model的修饰符：</p>
<p>v-model.trim =&gt; 不收集输入的空格（所有的空格都不收集）</p>
<p>v-model.number =&gt; 收集的数据自动转成数值类型</p>
<p>v-model.lazy =&gt; 收集时，需要失去焦点后再记录</p>
<p>小结：</p>
<p>如果input框的type类型是text，v-model收集的是value，用户输入的也是value</p>
<p>如果类型是radio，需要给标签配置value值</p>
<p>如果类型是checkbox， 没有设置value，收集的是是否被选中，true/false</p>
<p>配置了value，初始值是数组，收集的是选中的数组。是非数组，收集的是布尔值</p>
<h2 id="18过滤器">18.过滤器</h2>
<p>小案例：当前时间戳的转换。【日期第三方库 moment.js 、 dayjs】</p>
<p>我们用三种实现方式：计算属性、methods、过滤器 分别实现</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1.0&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span><span class="nx">过滤器</span><span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;js/vue.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">日期转换方法第三方库引入</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">有互联网也可以引在线的</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="nx">https</span><span class="o">:</span><span class="c1">//www.bootcdn.cn/ 搜索dayjs 复制链接 另存为 --&gt;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;js/dayjs.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span><span class="nx">过滤器</span> <span class="nx">时间戳切换</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前时间</span><span class="err">：</span><span class="p">{{</span><span class="nx">time</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">计算属性</span> <span class="nx">实现</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前时间</span><span class="err">：</span><span class="p">{{</span><span class="nx">timeComputed</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">methods</span> <span class="nx">实现</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前时间</span><span class="err">：</span><span class="p">{{</span><span class="nx">getNowTime</span><span class="p">()}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">filter</span> <span class="nx">实现</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="o">|</span> <span class="nx">管道符前面的为入参</span> <span class="nx">后面的为过滤器函数</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">后面的函数return的内容</span> <span class="nx">整个替换掉插值位置的所有内容</span> <span class="nx">显示</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前时间</span><span class="err">：</span><span class="p">{{</span><span class="nx">time</span> <span class="o">|</span> <span class="nx">timeFormater</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">filter传参</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">默认第一位参数为</span> <span class="o">|</span> <span class="nx">前参数</span><span class="err">，</span><span class="nx">第二位参数为小括号内参数</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前时间</span><span class="err">：</span><span class="p">{{</span><span class="nx">time</span> <span class="o">|</span> <span class="nx">timeFormater</span><span class="p">(</span><span class="s2">&#34;YYYY年MM月DD日&#34;</span><span class="p">)}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">filter串联</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">串联不影响传参</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--</span> <span class="nx">mySlice只接受timeFormater返回地方值进行计算</span> <span class="nx">挨着串联</span> <span class="nx">只处理该函数</span> <span class="o">|</span> <span class="nx">前的返回值为入参</span><span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前年份</span><span class="err">：</span><span class="p">{{</span><span class="nx">time</span> <span class="o">|</span> <span class="nx">timeFormater</span><span class="p">(</span><span class="s2">&#34;YYYY年MM月DD日&#34;</span><span class="p">)</span> <span class="o">|</span> <span class="nx">mySlice</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//定义全局过滤器
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//一次只能定义一个
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//Vue.filter(&#39;注册全局过滤器名称&#39;,function(入参){方法体}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">Vue</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="s1">&#39;mySlice&#39;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">val</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="nx">val</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">            <span class="nx">el</span><span class="o">:</span><span class="s1">&#39;#root&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">time</span><span class="o">:</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">computed</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">timeComputed</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span> <span class="nx">dayjs</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">time</span><span class="p">).</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;YYYY-MM-DD HH:mm:ss&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>   
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nx">methods</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">getNowTime</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span> <span class="nx">dayjs</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">time</span><span class="p">).</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;YYYY-MM-DD HH:mm:ss&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//注意：new Vue中的filters 可以写多个。里面的每一个filter都属于局部过滤器。当这个Vue是组件时，A组件和B组件的filter不能相互使用。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">filters</span><span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//timeFormater(val){  没有第二入参的写法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="nx">timeFormater</span><span class="p">(</span><span class="nx">val</span><span class="p">,</span><span class="nx">str</span> <span class="o">=</span> <span class="s1">&#39;YYYY-MM-DD HH:mm:ss&#39;</span><span class="p">){</span>  <span class="c1">//有第二入参用入参，没有用默认的 = 后的这个
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="c1">//return &#39;hello&#39; 返回啥页面就是啥，完全依赖此处return
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="k">return</span> <span class="nx">dayjs</span><span class="p">(</span><span class="nx">val</span><span class="p">).</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;YYYY-MM-DD HH:mm:ss&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="nx">mySlice</span><span class="p">(</span><span class="nx">val</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span> <span class="nx">val</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">        <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>⚠️注意：new Vue中的filters 可以写多个。里面的每一个filter都属于局部过滤器。当这个Vue是组件时，A组件和B组件的filter不能相互使用。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">过滤器使用方式</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">插值语法</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span><span class="nx">当前时间</span><span class="err">：</span><span class="p">{{</span><span class="nx">time</span> <span class="o">|</span> <span class="nx">timeFormater</span><span class="p">}}&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--</span> <span class="nx">单向属性绑定</span><span class="err">（</span><span class="nx">双向用不了</span><span class="err">，</span><span class="nx">这种形式也用的比较少</span><span class="err">）</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h3</span> <span class="o">:</span><span class="na">x</span><span class="o">=</span><span class="s">&#34;time | timeFormater&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>🏷小结：一般用于 对要显示的数据进行特定格式化后再显示（适用于一些简单逻辑的处理）</p>
<h2 id="19标题">19.标题</h2>
<p>总结Vue监视数据
收集表单数据
过滤器
v-text指令
v-html指令
v-cloak指令
v-once指令
v-pre指令
自定义指令 函数式
自走义指令 对象式
自定义指令 总结</p>
<p>引出生命周期
生命周期 挂载流程</p>
<p>生命周期 更新流程
生命周期 销毁流程
生命周期 总结
对组件的理解
非单文件组件
组件的几个注意点
组件的嵌套</p>
<p>VueComponent结构函数
Vue实例与组件实例
一个重要的内置关系
单文件组件
创建Vue脚手架
分析脚手架结构
render函数
修改默认配置
ref属性</p>
<p>props配置
mixin混入
插件
scoped样式
TodoLisl案例 静态
TodoList案例 初始
TodoList案例 添加
TodoList案例 勾选
TodoList案例 删除</p>
<p>TodoList案例 底部统计
TodoList案例 底部交互
TodoList案例 总结</p>
<p>浏览器本地存储
TodoList 本地存储
组件自定义事件 绑定
组件自定义事件 解绑
组件自定义事件 总结
TodoList案例 自定义事件
全局事件总线1
全局事件总线2</p>
<p>TodoList案例 事件总线</p>
<p>消息订阅与发布_pubsub</p>
<p>TodoList案例 编辑
$nextTick
动画效果
过度效果
多个元素过度
集成第三方动画</p>
<p>总结过度与动画
配置代理 方式一
配置代理 方式二
github案例 静态组件
github案例 列表展示
github案例 完善案例</p>
<p>vue-resource
默认插槽
具名插槽
作用域插槽
Vuex简介
求和案例 纯vue版
Vuex工作原理图
搭建Vuex环境</p>
<p>求和案例 vuex版
vuex开发者工具的使用
getters配置项
mapState与mapGetters
mapActions与mapMutations
多组件共享数据
vuex模块化+namespace_1
wuex模块化+namespace_2</p>
<p>路由的简介
路由基本使用
几个注意点
嵌套路由
路由的query参数
命名路由
路由的params参数
路由的props配置
router-link的replace属性</p>
<p>编程式路由导航
缓存路由组件
两个新的生命周期钩子
全局前置 路由守卫
全局后置 路由守卫
独享路由守卫</p>
<p>组件内路由守卫
history模式与hash模式
element-ui基本使用
element-ui按需引入
vue3简介
使用vue-cli创建工程</p>
<p>使用vite创建工程
分析工程结构
安装开发者工具
初识setup
re数 处理基本类型
re函数 处理对象类型
reactive函数
回顾Vue2的响应式原理</p>
<p>Vue3响应式原理proxy
Vue3响应式原理reflect
reactive对比ref
setup的两个注意点
computed计算属性
watch监视re定义的数据</p>
<p>watch监视reactive定义的数据</p>
<p>watch时value的问题</p>
<p>watchEffect函数
Vue3生命周期
自定义hook
toRef与toRefs
shallowReactive与shallowRef
readonly与shallowReadonly
toRaw与markRaw
customRef
provide与inject</p>
<p>响应式数据的判断
CompositionAPl的优势
Fragment组件
Teleport组件
Suspense组件
Vue3中其他的改变</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2024-09-14</span>
            </div></div>

    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/vue/">Vue</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/text08/" class="prev" rel="prev" title="【Typora】破解/安装激活 Typora 2024 教程"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>【Typora】破解/安装激活 Typora 2024 教程</a>
            <a href="/text23/" class="next" rel="next" title="【HUGO】Hugo的LoveIt主题美化（一）">【HUGO】Hugo的LoveIt主题美化（一）<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"><div id="valine" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://valine.js.org/">Valine</a>.
            </noscript><div id="utterances" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://utteranc.es/">utterances</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container">
            <div class="footer-line">
                <span id="run-time"></span>
            </div><div class="footer-line">欢迎来到wangty的笔记博客空间</div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2021 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">wangty</a></span></div>
            <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <span id="busuanzi_container_site_pv">
                  <i class="fa fa-eye"></i> <span id="busuanzi_value_site_pv"></span> 次
              </span> |
                        <span id="busuanzi_container_site_uv">
                  <i class="fa fa-user"></i> <span id="busuanzi_value_site_uv"></span> 位
              </span>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/valine/valine.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/valine@1.5.0/dist/Valine.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":20},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"","lightTheme":"github-light","repo":"Wangty654.github.io"},"valine":{"appId":"QGzwQXOqs5JOhN4RGPOkR2mR-MdYXbMMI","appKey":"WBmoGyJtbqUswvfLh6L8iEBr","avatar":"mp","el":"#valine","emojiCDN":"https://cdn.jsdelivr.net/npm/emoji-datasource-google@14.0.0/img/google/64/","emojiMaps":{"100":"1f4af.png","alien":"1f47d.png","anger":"1f4a2.png","angry":"1f620.png","anguished":"1f627.png","astonished":"1f632.png","black_heart":"1f5a4.png","blue_heart":"1f499.png","blush":"1f60a.png","bomb":"1f4a3.png","boom":"1f4a5.png","broken_heart":"1f494.png","brown_heart":"1f90e.png","clown_face":"1f921.png","cold_face":"1f976.png","cold_sweat":"1f630.png","confounded":"1f616.png","confused":"1f615.png","cry":"1f622.png","crying_cat_face":"1f63f.png","cupid":"1f498.png","dash":"1f4a8.png","disappointed":"1f61e.png","disappointed_relieved":"1f625.png","dizzy":"1f4ab.png","dizzy_face":"1f635.png","drooling_face":"1f924.png","exploding_head":"1f92f.png","expressionless":"1f611.png","face_vomiting":"1f92e.png","face_with_cowboy_hat":"1f920.png","face_with_hand_over_mouth":"1f92d.png","face_with_head_bandage":"1f915.png","face_with_monocle":"1f9d0.png","face_with_raised_eyebrow":"1f928.png","face_with_rolling_eyes":"1f644.png","face_with_symbols_on_mouth":"1f92c.png","face_with_thermometer":"1f912.png","fearful":"1f628.png","flushed":"1f633.png","frowning":"1f626.png","ghost":"1f47b.png","gift_heart":"1f49d.png","green_heart":"1f49a.png","grimacing":"1f62c.png","grin":"1f601.png","grinning":"1f600.png","hankey":"1f4a9.png","hear_no_evil":"1f649.png","heart":"2764-fe0f.png","heart_decoration":"1f49f.png","heart_eyes":"1f60d.png","heart_eyes_cat":"1f63b.png","heartbeat":"1f493.png","heartpulse":"1f497.png","heavy_heart_exclamation_mark_ornament":"2763-fe0f.png","hole":"1f573-fe0f.png","hot_face":"1f975.png","hugging_face":"1f917.png","hushed":"1f62f.png","imp":"1f47f.png","innocent":"1f607.png","japanese_goblin":"1f47a.png","japanese_ogre":"1f479.png","joy":"1f602.png","joy_cat":"1f639.png","kiss":"1f48b.png","kissing":"1f617.png","kissing_cat":"1f63d.png","kissing_closed_eyes":"1f61a.png","kissing_heart":"1f618.png","kissing_smiling_eyes":"1f619.png","laughing":"1f606.png","left_speech_bubble":"1f5e8-fe0f.png","love_letter":"1f48c.png","lying_face":"1f925.png","mask":"1f637.png","money_mouth_face":"1f911.png","nauseated_face":"1f922.png","nerd_face":"1f913.png","neutral_face":"1f610.png","no_mouth":"1f636.png","open_mouth":"1f62e.png","orange_heart":"1f9e1.png","partying_face":"1f973.png","pensive":"1f614.png","persevere":"1f623.png","pleading_face":"1f97a.png","pouting_cat":"1f63e.png","purple_heart":"1f49c.png","rage":"1f621.png","relaxed":"263a-fe0f.png","relieved":"1f60c.png","revolving_hearts":"1f49e.png","right_anger_bubble":"1f5ef-fe0f.png","robot_face":"1f916.png","rolling_on_the_floor_laughing":"1f923.png","scream":"1f631.png","scream_cat":"1f640.png","see_no_evil":"1f648.png","shushing_face":"1f92b.png","skull":"1f480.png","skull_and_crossbones":"2620-fe0f.png","sleeping":"1f634.png","sleepy":"1f62a.png","slightly_frowning_face":"1f641.png","slightly_smiling_face":"1f642.png","smile":"1f604.png","smile_cat":"1f638.png","smiley":"1f603.png","smiley_cat":"1f63a.png","smiling_face_with_3_hearts":"1f970.png","smiling_imp":"1f608.png","smirk":"1f60f.png","smirk_cat":"1f63c.png","sneezing_face":"1f927.png","sob":"1f62d.png","space_invader":"1f47e.png","sparkling_heart":"1f496.png","speak_no_evil":"1f64a.png","speech_balloon":"1f4ac.png","star-struck":"1f929.png","stuck_out_tongue":"1f61b.png","stuck_out_tongue_closed_eyes":"1f61d.png","stuck_out_tongue_winking_eye":"1f61c.png","sunglasses":"1f60e.png","sweat":"1f613.png","sweat_drops":"1f4a6.png","sweat_smile":"1f605.png","thinking_face":"1f914.png","thought_balloon":"1f4ad.png","tired_face":"1f62b.png","triumph":"1f624.png","two_hearts":"1f495.png","unamused":"1f612.png","upside_down_face":"1f643.png","weary":"1f629.png","white_frowning_face":"2639-fe0f.png","white_heart":"1f90d.png","wink":"1f609.png","woozy_face":"1f974.png","worried":"1f61f.png","yawning_face":"1f971.png","yellow_heart":"1f49b.png","yum":"1f60b.png","zany_face":"1f92a.png","zipper_mouth_face":"1f910.png","zzz":"1f4a4.png"},"enableQQ":false,"highlight":true,"lang":"zh-CN","pageSize":10,"placeholder":"你的评论 ...","recordIP":true,"serverURLs":"https://leancloud.hugoloveit.com","visitor":true}},"lightgallery":true,"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"algoliaAppID":"PASDMWALPK","algoliaIndex":"index.zh-cn","algoliaSearchKey":"b42948e51daaa93df92381c8e2ac0f93","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"algolia"}};</script><script type="text/javascript" src="/js/theme.min.d7121d72cd85153ec9d35a888cee3eb28c2700ca763f649a538f6c772d750021.js" integrity="sha256-1xIdcs2FFT7J01qIjO4+sownAMp2P2SaU49sdy11ACE="></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@2.1.3/dist/jquery.min.js"></script>
<script type="text/javascript" src="/js/custom.js"></script></body>
</html>
